{"ast":null,"code":"import _objectSpread from\"C:/Users/R-TECH/Desktop/00/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";// Personnel management page (Personnel / Staff)\n// Fields: id, nom, prenom, poste, telephone, adresse, date_dentree, date_sortie, numero_assurance, salaire, avance, photo\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TABLE_FIELDS=[\"nom\",\"prenom\",\"poste\",\"telephone\",\"adresse\",\"date_dentree\",\"date_sortie\",\"numero_assurance\",\"salaire\",\"avance\",\"photo\"];const translations={fr:{title:\"Personnel\",addButton:\"‚ûï Ajouter\",editButton:\"‚úèÔ∏è Modifier\",deleteButton:\"üóëÔ∏è Supprimer\",save:\"Enregistrer\",cancel:\"Annuler\",searchPlaceholder:\"Rechercher...\",selectRowAlert:\"Veuillez s√©lectionner un membre du personnel.\",confirmDelete:name=>\"Supprimer \".concat(name,\" ?\"),tableHeaders:[\"#\",\"Nom\",\"Pr√©nom\",\"Poste\",\"T√©l√©phone\",\"Adresse\",\"Date d'entr√©e\",\"Date de sortie\",\"N¬∞ d'assurance\",\"Salaire\",\"Avance\",\"Photo\"],modalLabels:{nom:\"Nom\",prenom:\"Pr√©nom\",poste:\"Poste\",telephone:\"T√©l√©phone\",adresse:\"Adresse\",date_dentree:\"Date d'entr√©e\",date_sortie:\"Date de sortie\",numero_assurance:\"N¬∞ d'assurance\",salaire:\"Salaire\",avance:\"Avance\",photo:\"Photo (jpg/png)\"},errorLoad:\"Erreur lors du chargement du personnel\",errorSave:\"Erreur lors de l'enregistrement\",errorDelete:\"Erreur lors de la suppression\",totalStaff:\"Total Personnel\",totalSalaire:\"Salaire Total\",totalAvance:\"Avance Totale\"},ar:{title:\"ÿßŸÑŸÖŸàÿ∏ŸÅŸàŸÜ\",addButton:\"‚ûï ÿ•ÿ∂ÿßŸÅÿ©\",editButton:\"‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ\",deleteButton:\"üóëÔ∏è ÿ≠ÿ∞ŸÅ\",save:\"ÿ≠ŸÅÿ∏\",cancel:\"ÿ•ŸÑÿ∫ÿßÿ°\",searchPlaceholder:\"ÿ®ÿ≠ÿ´...\",selectRowAlert:\"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàÿ∏ŸÅ.\",confirmDelete:name=>\"\\u0647\\u0644 \\u062A\\u0631\\u064A\\u062F \\u062D\\u0630\\u0641 \".concat(name,\"\\u061F\"),tableHeaders:[\"#\",\"ÿßŸÑŸÑŸÇÿ®\",\"ÿßŸÑÿßÿ≥ŸÖ\",\"ÿßŸÑŸÖŸÜÿµÿ®\",\"ÿßŸÑŸáÿßÿ™ŸÅ\",\"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\"ÿßŸÑÿ±ÿßÿ™ÿ®\",\"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\"ÿßŸÑÿµŸàÿ±ÿ©\"],modalLabels:{nom:\"ÿßŸÑŸÑŸÇÿ®\",prenom:\"ÿßŸÑÿßÿ≥ŸÖ\",poste:\"ÿßŸÑŸÖŸÜÿµÿ®\",telephone:\"ÿßŸÑŸáÿßÿ™ŸÅ\",adresse:\"ÿßŸÑÿπŸÜŸàÿßŸÜ\",date_dentree:\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",date_sortie:\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",numero_assurance:\"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",salaire:\"ÿßŸÑÿ±ÿßÿ™ÿ®\",avance:\"ÿßŸÑÿ≥ŸÑŸÅÿ©\",photo:\"ÿßŸÑÿµŸàÿ±ÿ© (jpg/png)\"},errorLoad:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",errorSave:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏\",errorDelete:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ\",totalStaff:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",totalSalaire:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ±Ÿàÿßÿ™ÿ®\",totalAvance:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≥ŸÑŸÅ\"}};// Helpers\nfunction photoSrc(val){if(!val)return null;if(typeof val!==\"string\")return null;if(val.startsWith(\"data:\"))return val;return\"data:image/png;base64,\".concat(val);}function formatCurrency(value){if(value===undefined||value===null||value===\"\")return\"\";const cleaned=String(value).replace(/\\s+/g,\"\").replace(/,/g,\"\");const num=parseFloat(cleaned);if(Number.isNaN(num))return String(value);return num.toLocaleString(\"fr-FR\",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/\\u202f/g,\" \");}function unformatNumber(value){if(value===undefined||value===null)return\"\";return String(value).replace(/\\s+/g,\"\").replace(/,/g,\"\").trim();}function formatDateToFR(dateString){if(!dateString)return\"\";if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){const[yyyy,mm,dd]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){const[dd,mm,yyyy]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){return dateString;}return dateString;}function formatDateToISO(dateString){if(!dateString)return\"\";let dd,mm,yyyy;if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"/\");}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"-\");}else if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){return dateString;}if(yyyy&&mm&&dd){return\"\".concat(yyyy,\"-\").concat(mm,\"-\").concat(dd);}return dateString;}function isArabic(str){return /^[\\u0600-\\u06FF\\s]+$/.test(str);}function PersonelPage(_ref){let{locale=\"fr\"}=_ref;const T=translations[locale]||translations.fr;const[personel,setPersonel]=useState([]);const[selectedIndex,setSelectedIndex]=useState(null);const[searchQuery,setSearchQuery]=useState(\"\");const[showModal,setShowModal]=useState(false);const[modalMode,setModalMode]=useState(\"add\");// 'add' | 'edit'\nconst[form,setForm]=useState({id:null,nom:\"\",prenom:\"\",poste:\"\",telephone:\"\",adresse:\"\",date_dentree:\"\",date_sortie:\"\",numero_assurance:\"\",salaire:\"\",avance:\"\",photo:\"\"});const[arErrors,setArErrors]=useState({});const[isLoading,setIsLoading]=useState(false);const[isDeleting,setIsDeleting]=useState(false);// Table / direction handling (reverse order for Arabic)\nconst isRtl=locale===\"ar\";const displayedHeaders=isRtl?[...T.tableHeaders].reverse():T.tableHeaders;const tableFieldsOrder=isRtl?[...TABLE_FIELDS].reverse():[...TABLE_FIELDS];const directionStyle=isRtl?{direction:\"rtl\"}:{direction:\"ltr\"};// Totals\nconst totalStaff=personel.length;const totalSalaire=personel.reduce((s,p)=>{const val=parseFloat(unformatNumber(p.salaire||\"0\"));return s+(isNaN(val)?0:val);},0);const totalAvance=personel.reduce((s,p)=>{const val=parseFloat(unformatNumber(p.avance||\"0\"));return s+(isNaN(val)?0:val);},0);// Fetch from backend\nconst fetchPersonel=async()=>{setIsLoading(true);try{const res=await window.pywebview.api.get_personnel();// Expect res to be an array of objects; ensure numeric fields canonicalized if needed\nconst normalized=(res||[]).map(r=>_objectSpread(_objectSpread({},r),{},{salaire:r.salaire!==undefined&&r.salaire!==null?String(r.salaire):\"\",avance:r.avance!==undefined&&r.avance!==null?String(r.avance):\"\",date_dentree:r.date_dentree||r.date_entree||\"\",date_sortie:r.date_sortie||\"\",numero_assurance:r.numero_assurance||r.num_assurance||\"\"}));setPersonel(normalized);}catch(e){console.error(e);setPersonel([]);}finally{setIsLoading(false);}};useEffect(()=>{fetchPersonel();// eslint-disable-next-line\n},[locale]);// Filter\nconst filtered=personel.filter(p=>{const q=searchQuery.trim().toLowerCase();if(!q)return true;return(p.nom||\"\").toLowerCase().includes(q)||(p.prenom||\"\").toLowerCase().includes(q)||(p.poste||\"\").toLowerCase().includes(q)||(p.telephone||\"\").toLowerCase().includes(q)||(p.adresse||\"\").toLowerCase().includes(q);});// Empty form template\nconst emptyForm={id:null,nom:\"\",prenom:\"\",poste:\"\",telephone:\"\",adresse:\"\",date_dentree:\"\",date_sortie:\"\",numero_assurance:\"\",salaire:\"\",avance:\"\",photo:\"\"};// CRUD handlers\nconst handleAdd=()=>{setModalMode(\"add\");setForm(_objectSpread({},emptyForm));setArErrors({});setShowModal(true);};const handleEdit=()=>{var _sel$id,_sel$nom,_sel$prenom,_sel$poste,_sel$telephone,_sel$adresse,_sel$numero_assurance,_sel$photo;if(selectedIndex===null||filtered[selectedIndex]===undefined){alert(T.selectRowAlert);return;}const sel=filtered[selectedIndex];// Load canonical numbers into form and format dates for the form\nsetForm({id:(_sel$id=sel.id)!==null&&_sel$id!==void 0?_sel$id:null,nom:(_sel$nom=sel.nom)!==null&&_sel$nom!==void 0?_sel$nom:\"\",prenom:(_sel$prenom=sel.prenom)!==null&&_sel$prenom!==void 0?_sel$prenom:\"\",poste:(_sel$poste=sel.poste)!==null&&_sel$poste!==void 0?_sel$poste:\"\",telephone:(_sel$telephone=sel.telephone)!==null&&_sel$telephone!==void 0?_sel$telephone:\"\",adresse:(_sel$adresse=sel.adresse)!==null&&_sel$adresse!==void 0?_sel$adresse:\"\",date_dentree:formatDateToFR(sel.date_dentree),date_sortie:formatDateToFR(sel.date_sortie),numero_assurance:(_sel$numero_assurance=sel.numero_assurance)!==null&&_sel$numero_assurance!==void 0?_sel$numero_assurance:\"\",salaire:sel.salaire!==undefined&&sel.salaire!==null?String(sel.salaire):\"\",avance:sel.avance!==undefined&&sel.avance!==null?String(sel.avance):\"\",photo:(_sel$photo=sel.photo)!==null&&_sel$photo!==void 0?_sel$photo:\"\"});setModalMode(\"edit\");setShowModal(true);};const handleDelete=async()=>{if(selectedIndex===null||filtered[selectedIndex]===undefined){alert(T.selectRowAlert);return;}const sel=filtered[selectedIndex];const name=\"\".concat(sel.nom||\"\",\" \").concat(sel.prenom||\"\").trim()||sel.id||\"\";if(!window.confirm(T.confirmDelete(name)))return;try{setIsDeleting(true);await window.pywebview.api.delete_personnel(sel.id);// remove locally\nsetPersonel(prev=>prev.filter(p=>p.id!==sel.id));setSelectedIndex(null);}catch(e){console.error(e);alert(T.errorDelete);}finally{setIsDeleting(false);}};const handleSave=async e=>{e.preventDefault();// validate arabic fields if any (not mandatory here but kept for parity with client.js)\nlet newErrors={};// example: if you had poste_ar fields you could validate them here\nsetArErrors(newErrors);if(Object.values(newErrors).some(Boolean))return;try{// Prepare payload: ensure numeric fields are sent unformatted and dates are ISO\nconst payload=_objectSpread(_objectSpread({},form),{},{salaire:unformatNumber(form.salaire),avance:unformatNumber(form.avance),date_dentree:formatDateToISO(form.date_dentree),date_sortie:formatDateToISO(form.date_sortie)});if(modalMode===\"add\"){const newItem=await window.pywebview.api.add_personnel(payload);if(newItem&&newItem.id!==undefined){setPersonel(prev=>[...prev,_objectSpread(_objectSpread({},newItem),{},{salaire:newItem.salaire!==undefined&&newItem.salaire!==null?String(newItem.salaire):\"\",avance:newItem.avance!==undefined&&newItem.avance!==null?String(newItem.avance):\"\",date_dentree:newItem.date_dentree||newItem.date_entree||\"\",date_sortie:newItem.date_sortie||\"\"})]);}else{await fetchPersonel();}}else{const updated=await window.pywebview.api.update_personnel(payload);if(updated&&updated.id!==undefined){setPersonel(prev=>prev.map(p=>p.id===updated.id?_objectSpread(_objectSpread({},updated),{},{salaire:updated.salaire!==undefined?String(updated.salaire):\"\",avance:updated.avance!==undefined?String(updated.avance):\"\",date_dentree:updated.date_dentree||updated.date_entree||\"\",date_sortie:updated.date_sortie||\"\"}):p));}else{await fetchPersonel();}}setShowModal(false);setForm(_objectSpread({},emptyForm));}catch(e){console.error(e);alert(T.errorSave);}};const handlePhotoChange=file=>{if(!file){setForm(s=>_objectSpread(_objectSpread({},s),{},{photo:\"\"}));return;}const reader=new FileReader();reader.onload=()=>{setForm(s=>_objectSpread(_objectSpread({},s),{},{photo:reader.result}));};reader.readAsDataURL(file);};// Render helpers\nfunction renderTableCell(item,field){var _item$field2;if(field===\"photo\"){const src=photoSrc(item[field]);return/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},styles.tableCell),{},{padding:0,textAlign:\"center\",minWidth:50,maxWidth:70,width:60,verticalAlign:\"middle\",background:\"#fff\"}),children:src?/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"photo\",style:{width:50,height:36,objectFit:\"cover\",borderRadius:6,display:\"block\",margin:\"0 auto\"}}):\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"salaire\"||field===\"avance\"){const formatted=formatCurrency(item[field]);return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:formatted||\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"date_dentree\"||field===\"date_sortie\"){return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:formatDateToFR(item[field])||\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"numero_assurance\"){var _item$field;return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:(_item$field=item[field])!==null&&_item$field!==void 0?_item$field:\"-\"},\"\".concat(item.id,\"-\").concat(field));}return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:(_item$field2=item[field])!==null&&_item$field2!==void 0?_item$field2:\"-\"},\"\".concat(item.id,\"-\").concat(field));}// Spinner style injection (if needed)\nif(typeof document!==\"undefined\"&&!document.getElementById(\"personel-spinner-style\")){const style=document.createElement(\"style\");style.id=\"personel-spinner-style\";style.innerHTML=\"\\n      @keyframes spin { to { transform: rotate(360deg); } }\\n      .tableHeaderStickyPersonel { position: sticky; top: 0; background: #f1f6ff; z-index: 2; }\\n    \";document.head.appendChild(style);}// Drawer buttons (left/right)\nconst drawerLeft=/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.drawer),{},{left:20,right:\"unset\",bottom:28}),children:[/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleAdd,children:T.addButton}),/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleEdit,children:T.editButton}),/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleDelete,children:T.deleteButton})]});const drawerRight=/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.drawer),{},{right:20,left:\"unset\",bottom:28}),children:/*#__PURE__*/_jsxs(\"button\",{style:_objectSpread(_objectSpread({},styles.drawerButton),{},{background:\"#3477eb\",color:\"#fff\"}),onClick:()=>window.print(),children:[\"\\uD83D\\uDDA8\\uFE0F \",locale===\"fr\"?\"Imprimer\":\"ÿ∑ÿ®ÿßÿπÿ©\"]})});return/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.container),directionStyle),children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:T.title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,marginBottom:12,alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.searchWrap),{},{maxWidth:340}),children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:8},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:T.searchPlaceholder,value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);setSelectedIndex(null);},style:styles.searchInput})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"auto\",display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDC65 \",T.totalStaff,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:totalStaff})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDCB0 \",T.totalSalaire,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:formatCurrency(totalSalaire)})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDCB8 \",T.totalAvance,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:formatCurrency(totalAvance)})]})]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{style:styles.spinner})}):/*#__PURE__*/_jsx(\"div\",{style:styles.tableWrap,children:/*#__PURE__*/_jsxs(\"table\",{style:_objectSpread({},styles.table),children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{style:styles.tableHeaderRow,children:isRtl?[...displayedHeaders].reverse().map((h,i)=>/*#__PURE__*/_jsx(\"th\",{className:\"tableHeaderStickyPersonel\",style:styles.tableHeader,children:h},i)):displayedHeaders.map((h,i)=>/*#__PURE__*/_jsx(\"th\",{className:\"tableHeaderStickyPersonel\",style:styles.tableHeader,children:h},i))})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[filtered.map((p,idx)=>{var _p$id;return/*#__PURE__*/_jsx(\"tr\",{onClick:()=>setSelectedIndex(idx),style:_objectSpread(_objectSpread({},styles.tableRow),{},{background:idx===selectedIndex?\"#cce5ff\":idx%2===0?\"#fff\":\"#f4f8ff\",cursor:\"pointer\"}),children:isRtl?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:idx+1}),[...tableFieldsOrder].reverse().map(field=>renderTableCell(p,field))]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:idx+1}),tableFieldsOrder.map(field=>renderTableCell(p,field))]})},(_p$id=p.id)!==null&&_p$id!==void 0?_p$id:idx);}),filtered.length===0&&!isLoading&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:displayedHeaders.length,style:{padding:\"1rem\",textAlign:\"center\",color:\"#666\"},children:T.errorLoad})})]})]})}),drawerLeft,drawerRight,showModal&&/*#__PURE__*/_jsx(\"div\",{style:styles.modalOverlay,children:/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.modal),isRtl?{direction:\"rtl\",textAlign:\"right\"}:{}),children:[/*#__PURE__*/_jsx(\"h3\",{children:modalMode===\"add\"?T.addButton:T.editButton}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSave,style:styles.form,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.nom,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.nom,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{nom:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.prenom,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.prenom,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{prenom:e.target.value})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.poste,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.poste,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{poste:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.telephone,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.telephone,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{telephone:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.adresse,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.adresse,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{adresse:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.date_dentree,/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date_dentree?formatDateToISO(form.date_dentree):\"\",onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{date_dentree:e.target.value?formatDateToFR(e.target.value):\"\"})),style:styles.input})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.date_sortie,/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date_sortie?formatDateToISO(form.date_sortie):\"\",onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{date_sortie:e.target.value?formatDateToFR(e.target.value):\"\"})),style:styles.input})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.numero_assurance,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.numero_assurance,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{numero_assurance:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.salaire,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.salaire,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{salaire:e.target.value})),type:\"number\",min:0,step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.avance,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.avance,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{avance:e.target.value})),type:\"number\",min:0,step:\"0.01\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,alignItems:\"flex-start\",marginTop:6},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.photo,/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>handlePhotoChange(e.target.files[0]),style:{marginTop:6}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:110},children:form.photo?/*#__PURE__*/_jsx(\"img\",{src:photoSrc(form.photo),alt:\"preview\",style:{width:100,height:72,objectFit:\"cover\",borderRadius:6}}):null})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",gap:8,marginTop:12},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.saveButton,children:T.save}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:styles.cancelButton,onClick:()=>setShowModal(false),children:T.cancel})]})]})]})})]});}// Styles (kept similar to client.js)\nconst styles={container:{padding:\"1.25rem\",position:\"relative\",minHeight:\"100vh\",boxSizing:\"border-box\"},searchWrap:{flex:1,maxWidth:420,display:\"flex\",alignItems:\"center\",gap:8},searchInput:{width:\"100%\",padding:\"0.5rem\",borderRadius:6,border:\"1px solid #ccc\",fontSize:\"1rem\"},spinner:{margin:\"60px auto\",border:\"8px solid #eee\",borderTop:\"8px solid #3477eb\",borderRadius:\"50%\",width:48,height:48,animation:\"spin 1s linear infinite\"},tableWrap:{maxHeight:\"60vh\",overflowY:\"auto\",border:\"1px solid #e0e0e0\",borderRadius:6},table:{width:\"100%\",borderCollapse:\"collapse\",tableLayout:\"fixed\"},tableHeaderRow:{background:\"#f1f6ff\"},tableHeader:{padding:\"0.6rem\",borderBottom:\"1px solid #e2e8f0\",background:\"#f1f6ff\",fontWeight:700,textAlign:\"left\"},tableRow:{cursor:\"pointer\"},tableCell:{padding:\"0.45rem 0.6rem\",borderBottom:\"1px solid #f0f4fb\",verticalAlign:\"middle\",wordBreak:\"break-word\"},drawer:{position:\"fixed\",background:\"transparent\",padding:\"1rem\",borderRadius:\"8px\",boxShadow:\"0 2px 8px rgba(0,0,0,0.15)\",display:\"flex\",flexDirection:\"row\",gap:\"0.5rem\",zIndex:8,minWidth:0,width:\"auto\",alignItems:\"center\"},drawerButton:{display:\"flex\",alignItems:\"center\",gap:\"0.3rem\",padding:\"0.5rem 1rem\",fontSize:\"1rem\",color:\"#3477eb\",background:\"#eaf3ff\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\",transition:\"background 0.2s\"},summaryBadge:{padding:\"0.4rem 0.6rem\",background:\"rgba(255,255,255,0.9)\",borderRadius:8,border:\"1px solid #e6eefb\",display:\"flex\",alignItems:\"center\",gap:8,fontWeight:700,color:\"#14355f\"},modalOverlay:{position:\"fixed\",inset:0,background:\"rgba(0,0,0,0.45)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",zIndex:999},modal:{background:\"#fff\",padding:20,borderRadius:10,width:\"92%\",maxWidth:820,boxShadow:\"0 8px 30px rgba(0,0,0,0.2)\"},form:{display:\"flex\",flexDirection:\"column\",gap:12},row:{display:\"flex\",gap:12},label:{flex:1,display:\"flex\",flexDirection:\"column\",fontSize:14,color:\"#333\"},input:{marginTop:6,padding:\"0.5rem\",borderRadius:6,border:\"1px solid #ccc\",fontSize:14},saveButton:{padding:\"0.55rem 1rem\",background:\"#3477eb\",color:\"#fff\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:700},cancelButton:{padding:\"0.45rem 0.9rem\",background:\"#f1f4f8\",color:\"#333\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:700}};export default PersonelPage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TABLE_FIELDS","translations","fr","title","addButton","editButton","deleteButton","save","cancel","searchPlaceholder","selectRowAlert","confirmDelete","name","concat","tableHeaders","modalLabels","nom","prenom","poste","telephone","adresse","date_dentree","date_sortie","numero_assurance","salaire","avance","photo","errorLoad","errorSave","errorDelete","totalStaff","totalSalaire","totalAvance","ar","photoSrc","val","startsWith","formatCurrency","value","undefined","cleaned","String","replace","num","parseFloat","Number","isNaN","toLocaleString","minimumFractionDigits","maximumFractionDigits","unformatNumber","trim","formatDateToFR","dateString","test","yyyy","mm","dd","split","formatDateToISO","isArabic","str","PersonelPage","_ref","locale","T","personel","setPersonel","selectedIndex","setSelectedIndex","searchQuery","setSearchQuery","showModal","setShowModal","modalMode","setModalMode","form","setForm","id","arErrors","setArErrors","isLoading","setIsLoading","isDeleting","setIsDeleting","isRtl","displayedHeaders","reverse","tableFieldsOrder","directionStyle","direction","length","reduce","s","p","fetchPersonel","res","window","pywebview","api","get_personnel","normalized","map","r","_objectSpread","date_entree","num_assurance","e","console","error","filtered","filter","q","toLowerCase","includes","emptyForm","handleAdd","handleEdit","_sel$id","_sel$nom","_sel$prenom","_sel$poste","_sel$telephone","_sel$adresse","_sel$numero_assurance","_sel$photo","alert","sel","handleDelete","confirm","delete_personnel","prev","handleSave","preventDefault","newErrors","Object","values","some","Boolean","payload","newItem","add_personnel","updated","update_personnel","handlePhotoChange","file","reader","FileReader","onload","result","readAsDataURL","renderTableCell","item","field","_item$field2","src","style","styles","tableCell","padding","textAlign","minWidth","maxWidth","width","verticalAlign","background","children","alt","height","objectFit","borderRadius","display","margin","formatted","_item$field","document","getElementById","createElement","innerHTML","head","appendChild","drawerLeft","drawer","left","right","bottom","drawerButton","onClick","drawerRight","color","print","container","gap","marginBottom","alignItems","searchWrap","marginRight","placeholder","onChange","target","searchInput","marginLeft","summaryBadge","justifyContent","spinner","tableWrap","table","tableHeaderRow","h","i","className","tableHeader","idx","_p$id","tableRow","cursor","colSpan","modalOverlay","modal","onSubmit","row","label","input","required","type","min","step","marginTop","flex","accept","files","saveButton","cancelButton","position","minHeight","boxSizing","border","fontSize","borderTop","animation","maxHeight","overflowY","borderCollapse","tableLayout","borderBottom","fontWeight","wordBreak","boxShadow","flexDirection","zIndex","transition","inset"],"sources":["C:/Users/R-TECH/Desktop/00/my-app/src/personel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\n// Personnel management page (Personnel / Staff)\n// Fields: id, nom, prenom, poste, telephone, adresse, date_dentree, date_sortie, numero_assurance, salaire, avance, photo\n\nconst TABLE_FIELDS = [\n  \"nom\",\n  \"prenom\",\n  \"poste\",\n  \"telephone\",\n  \"adresse\",\n  \"date_dentree\",\n  \"date_sortie\",\n  \"numero_assurance\",\n  \"salaire\",\n  \"avance\",\n  \"photo\"\n];\n\nconst translations = {\n  fr: {\n    title: \"Personnel\",\n    addButton: \"‚ûï Ajouter\",\n    editButton: \"‚úèÔ∏è Modifier\",\n    deleteButton: \"üóëÔ∏è Supprimer\",\n    save: \"Enregistrer\",\n    cancel: \"Annuler\",\n    searchPlaceholder: \"Rechercher...\",\n    selectRowAlert: \"Veuillez s√©lectionner un membre du personnel.\",\n    confirmDelete: (name) => `Supprimer ${name} ?`,\n    tableHeaders: [\n      \"#\",\n      \"Nom\",\n      \"Pr√©nom\",\n      \"Poste\",\n      \"T√©l√©phone\",\n      \"Adresse\",\n      \"Date d'entr√©e\",\n      \"Date de sortie\",\n      \"N¬∞ d'assurance\",\n      \"Salaire\",\n      \"Avance\",\n      \"Photo\"\n    ],\n    modalLabels: {\n      nom: \"Nom\",\n      prenom: \"Pr√©nom\",\n      poste: \"Poste\",\n      telephone: \"T√©l√©phone\",\n      adresse: \"Adresse\",\n      date_dentree: \"Date d'entr√©e\",\n      date_sortie: \"Date de sortie\",\n      numero_assurance: \"N¬∞ d'assurance\",\n      salaire: \"Salaire\",\n      avance: \"Avance\",\n      photo: \"Photo (jpg/png)\"\n    },\n    errorLoad: \"Erreur lors du chargement du personnel\",\n    errorSave: \"Erreur lors de l'enregistrement\",\n    errorDelete: \"Erreur lors de la suppression\",\n    totalStaff: \"Total Personnel\",\n    totalSalaire: \"Salaire Total\",\n    totalAvance: \"Avance Totale\"\n  },\n  ar: {\n    title: \"ÿßŸÑŸÖŸàÿ∏ŸÅŸàŸÜ\",\n    addButton: \"‚ûï ÿ•ÿ∂ÿßŸÅÿ©\",\n    editButton: \"‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ\",\n    deleteButton: \"üóëÔ∏è ÿ≠ÿ∞ŸÅ\",\n    save: \"ÿ≠ŸÅÿ∏\",\n    cancel: \"ÿ•ŸÑÿ∫ÿßÿ°\",\n    searchPlaceholder: \"ÿ®ÿ≠ÿ´...\",\n    selectRowAlert: \"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàÿ∏ŸÅ.\",\n    confirmDelete: (name) => `ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ≠ÿ∞ŸÅ ${name}ÿü`,\n    tableHeaders: [\n      \"#\",\n      \"ÿßŸÑŸÑŸÇÿ®\",\n      \"ÿßŸÑÿßÿ≥ŸÖ\",\n      \"ÿßŸÑŸÖŸÜÿµÿ®\",\n      \"ÿßŸÑŸáÿßÿ™ŸÅ\",\n      \"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\n      \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\n      \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\n      \"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\n      \"ÿßŸÑÿ±ÿßÿ™ÿ®\",\n      \"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\n      \"ÿßŸÑÿµŸàÿ±ÿ©\"\n    ],\n    modalLabels: {\n      nom: \"ÿßŸÑŸÑŸÇÿ®\",\n      prenom: \"ÿßŸÑÿßÿ≥ŸÖ\",\n      poste: \"ÿßŸÑŸÖŸÜÿµÿ®\",\n      telephone: \"ÿßŸÑŸáÿßÿ™ŸÅ\",\n      adresse: \"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\n      date_dentree: \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\n      date_sortie: \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\n      numero_assurance: \"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\n      salaire: \"ÿßŸÑÿ±ÿßÿ™ÿ®\",\n      avance: \"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\n      photo: \"ÿßŸÑÿµŸàÿ±ÿ© (jpg/png)\"\n    },\n    errorLoad: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",\n    errorSave: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏\",\n    errorDelete: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ\",\n    totalStaff: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",\n    totalSalaire: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ±Ÿàÿßÿ™ÿ®\",\n    totalAvance: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≥ŸÑŸÅ\"\n  }\n};\n\n// Helpers\nfunction photoSrc(val) {\n  if (!val) return null;\n  if (typeof val !== \"string\") return null;\n  if (val.startsWith(\"data:\")) return val;\n  return `data:image/png;base64,${val}`;\n}\n\nfunction formatCurrency(value) {\n  if (value === undefined || value === null || value === \"\") return \"\";\n  const cleaned = String(value).replace(/\\s+/g, \"\").replace(/,/g, \"\");\n  const num = parseFloat(cleaned);\n  if (Number.isNaN(num)) return String(value);\n  return num.toLocaleString(\"fr-FR\", { minimumFractionDigits: 2, maximumFractionDigits: 2 }).replace(/\\u202f/g, \" \");\n}\n\nfunction unformatNumber(value) {\n  if (value === undefined || value === null) return \"\";\n  return String(value).replace(/\\s+/g, \"\").replace(/,/g, \"\").trim();\n}\n\nfunction formatDateToFR(dateString) {\n  if (!dateString) return \"\";\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    const [yyyy, mm, dd] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    const [dd, mm, yyyy] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    return dateString;\n  }\n  return dateString;\n}\n\nfunction formatDateToISO(dateString) {\n  if (!dateString) return \"\";\n  let dd, mm, yyyy;\n  if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"/\");\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"-\");\n  } else if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    return dateString;\n  }\n  if (yyyy && mm && dd) {\n    return `${yyyy}-${mm}-${dd}`;\n  }\n  return dateString;\n}\n\nfunction isArabic(str) {\n  return /^[\\u0600-\\u06FF\\s]+$/.test(str);\n}\n\nfunction PersonelPage({ locale = \"fr\" }) {\n  const T = translations[locale] || translations.fr;\n\n  const [personel, setPersonel] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [modalMode, setModalMode] = useState(\"add\"); // 'add' | 'edit'\n  const [form, setForm] = useState({\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    poste: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    date_dentree: \"\",\n    date_sortie: \"\",\n    numero_assurance: \"\",\n    salaire: \"\",\n    avance: \"\",\n    photo: \"\"\n  });\n  const [arErrors, setArErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // Table / direction handling (reverse order for Arabic)\n  const isRtl = locale === \"ar\";\n  const displayedHeaders = isRtl ? [...T.tableHeaders].reverse() : T.tableHeaders;\n  const tableFieldsOrder = isRtl ? [...TABLE_FIELDS].reverse() : [...TABLE_FIELDS];\n  const directionStyle = isRtl ? { direction: \"rtl\" } : { direction: \"ltr\" };\n\n  // Totals\n  const totalStaff = personel.length;\n  const totalSalaire = personel.reduce((s, p) => {\n    const val = parseFloat(unformatNumber(p.salaire || \"0\"));\n    return s + (isNaN(val) ? 0 : val);\n  }, 0);\n  const totalAvance = personel.reduce((s, p) => {\n    const val = parseFloat(unformatNumber(p.avance || \"0\"));\n    return s + (isNaN(val) ? 0 : val);\n  }, 0);\n\n  // Fetch from backend\n  const fetchPersonel = async () => {\n    setIsLoading(true);\n    try {\n      const res = await window.pywebview.api.get_personnel();\n      // Expect res to be an array of objects; ensure numeric fields canonicalized if needed\n      const normalized = (res || []).map((r) => ({\n        ...r,\n        salaire: r.salaire !== undefined && r.salaire !== null ? String(r.salaire) : \"\",\n        avance: r.avance !== undefined && r.avance !== null ? String(r.avance) : \"\",\n        date_dentree: r.date_dentree || r.date_entree || \"\",\n        date_sortie: r.date_sortie || \"\",\n        numero_assurance: r.numero_assurance || r.num_assurance || \"\"\n      }));\n      setPersonel(normalized);\n    } catch (e) {\n      console.error(e);\n      setPersonel([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPersonel();\n    // eslint-disable-next-line\n  }, [locale]);\n\n  // Filter\n  const filtered = personel.filter((p) => {\n    const q = searchQuery.trim().toLowerCase();\n    if (!q) return true;\n    return (\n      (p.nom || \"\").toLowerCase().includes(q) ||\n      (p.prenom || \"\").toLowerCase().includes(q) ||\n      (p.poste || \"\").toLowerCase().includes(q) ||\n      (p.telephone || \"\").toLowerCase().includes(q) ||\n      (p.adresse || \"\").toLowerCase().includes(q)\n    );\n  });\n\n  // Empty form template\n  const emptyForm = {\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    poste: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    date_dentree: \"\",\n    date_sortie: \"\",\n    numero_assurance: \"\",\n    salaire: \"\",\n    avance: \"\",\n    photo: \"\"\n  };\n\n  // CRUD handlers\n  const handleAdd = () => {\n    setModalMode(\"add\");\n    setForm({ ...emptyForm });\n    setArErrors({});\n    setShowModal(true);\n  };\n\n  const handleEdit = () => {\n    if (selectedIndex === null || filtered[selectedIndex] === undefined) {\n      alert(T.selectRowAlert);\n      return;\n    }\n    const sel = filtered[selectedIndex];\n    // Load canonical numbers into form and format dates for the form\n    setForm({\n      id: sel.id ?? null,\n      nom: sel.nom ?? \"\",\n      prenom: sel.prenom ?? \"\",\n      poste: sel.poste ?? \"\",\n      telephone: sel.telephone ?? \"\",\n      adresse: sel.adresse ?? \"\",\n      date_dentree: formatDateToFR(sel.date_dentree),\n      date_sortie: formatDateToFR(sel.date_sortie),\n      numero_assurance: sel.numero_assurance ?? \"\",\n      salaire: sel.salaire !== undefined && sel.salaire !== null ? String(sel.salaire) : \"\",\n      avance: sel.avance !== undefined && sel.avance !== null ? String(sel.avance) : \"\",\n      photo: sel.photo ?? \"\"\n    });\n    setModalMode(\"edit\");\n    setShowModal(true);\n  };\n\n  const handleDelete = async () => {\n    if (selectedIndex === null || filtered[selectedIndex] === undefined) {\n      alert(T.selectRowAlert);\n      return;\n    }\n    const sel = filtered[selectedIndex];\n    const name = `${sel.nom || \"\"} ${sel.prenom || \"\"}`.trim() || sel.id || \"\";\n    if (!window.confirm(T.confirmDelete(name))) return;\n    try {\n      setIsDeleting(true);\n      await window.pywebview.api.delete_personnel(sel.id);\n      // remove locally\n      setPersonel((prev) => prev.filter((p) => p.id !== sel.id));\n      setSelectedIndex(null);\n    } catch (e) {\n      console.error(e);\n      alert(T.errorDelete);\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleSave = async (e) => {\n    e.preventDefault();\n    // validate arabic fields if any (not mandatory here but kept for parity with client.js)\n    let newErrors = {};\n    // example: if you had poste_ar fields you could validate them here\n    setArErrors(newErrors);\n    if (Object.values(newErrors).some(Boolean)) return;\n\n    try {\n      // Prepare payload: ensure numeric fields are sent unformatted and dates are ISO\n      const payload = {\n        ...form,\n        salaire: unformatNumber(form.salaire),\n        avance: unformatNumber(form.avance),\n        date_dentree: formatDateToISO(form.date_dentree),\n        date_sortie: formatDateToISO(form.date_sortie)\n      };\n      if (modalMode === \"add\") {\n        const newItem = await window.pywebview.api.add_personnel(payload);\n        if (newItem && newItem.id !== undefined) {\n          setPersonel((prev) => [\n            ...prev,\n            {\n              ...newItem,\n              salaire: newItem.salaire !== undefined && newItem.salaire !== null ? String(newItem.salaire) : \"\",\n              avance: newItem.avance !== undefined && newItem.avance !== null ? String(newItem.avance) : \"\",\n              date_dentree: newItem.date_dentree || newItem.date_entree || \"\",\n              date_sortie: newItem.date_sortie || \"\"\n            }\n          ]);\n        } else {\n          await fetchPersonel();\n        }\n      } else {\n        const updated = await window.pywebview.api.update_personnel(payload);\n        if (updated && updated.id !== undefined) {\n          setPersonel((prev) =>\n            prev.map((p) =>\n              p.id === updated.id\n                ? {\n                    ...updated,\n                    salaire: updated.salaire !== undefined ? String(updated.salaire) : \"\",\n                    avance: updated.avance !== undefined ? String(updated.avance) : \"\",\n                    date_dentree: updated.date_dentree || updated.date_entree || \"\",\n                    date_sortie: updated.date_sortie || \"\"\n                  }\n                : p\n            )\n          );\n        } else {\n          await fetchPersonel();\n        }\n      }\n      setShowModal(false);\n      setForm({ ...emptyForm });\n    } catch (e) {\n      console.error(e);\n      alert(T.errorSave);\n    }\n  };\n\n  const handlePhotoChange = (file) => {\n    if (!file) {\n      setForm((s) => ({ ...s, photo: \"\" }));\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = () => {\n      setForm((s) => ({ ...s, photo: reader.result }));\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // Render helpers\n  function renderTableCell(item, field) {\n    if (field === \"photo\") {\n      const src = photoSrc(item[field]);\n      return (\n        <td\n          key={`${item.id}-${field}`}\n          style={{\n            ...styles.tableCell,\n            padding: 0,\n            textAlign: \"center\",\n            minWidth: 50,\n            maxWidth: 70,\n            width: 60,\n            verticalAlign: \"middle\",\n            background: \"#fff\"\n          }}\n        >\n          {src ? (\n            <img\n              src={src}\n              alt=\"photo\"\n              style={{\n                width: 50,\n                height: 36,\n                objectFit: \"cover\",\n                borderRadius: 6,\n                display: \"block\",\n                margin: \"0 auto\"\n              }}\n            />\n          ) : (\n            \"-\"\n          )}\n        </td>\n      );\n    }\n\n    if (field === \"salaire\" || field === \"avance\") {\n      const formatted = formatCurrency(item[field]);\n      return (\n        <td key={`${item.id}-${field}`} style={styles.tableCell}>\n          {formatted || \"-\"}\n        </td>\n      );\n    }\n\n    if (field === \"date_dentree\" || field === \"date_sortie\") {\n      return (\n        <td key={`${item.id}-${field}`} style={styles.tableCell}>\n          {formatDateToFR(item[field]) || \"-\"}\n        </td>\n      );\n    }\n\n    if (field === \"numero_assurance\") {\n      return (\n        <td key={`${item.id}-${field}`} style={styles.tableCell}>\n          {item[field] ?? \"-\"}\n        </td>\n      );\n    }\n\n    return (\n      <td key={`${item.id}-${field}`} style={styles.tableCell}>\n        {item[field] ?? \"-\"}\n      </td>\n    );\n  }\n\n  // Spinner style injection (if needed)\n  if (typeof document !== \"undefined\" && !document.getElementById(\"personel-spinner-style\")) {\n    const style = document.createElement(\"style\");\n    style.id = \"personel-spinner-style\";\n    style.innerHTML = `\n      @keyframes spin { to { transform: rotate(360deg); } }\n      .tableHeaderStickyPersonel { position: sticky; top: 0; background: #f1f6ff; z-index: 2; }\n    `;\n    document.head.appendChild(style);\n  }\n\n  // Drawer buttons (left/right)\n  const drawerLeft = (\n    <div style={{ ...styles.drawer, left: 20, right: \"unset\", bottom: 28 }}>\n      <button style={styles.drawerButton} onClick={handleAdd}>{T.addButton}</button>\n      <button style={styles.drawerButton} onClick={handleEdit}>{T.editButton}</button>\n      <button style={styles.drawerButton} onClick={handleDelete}>{T.deleteButton}</button>\n    </div>\n  );\n\n  const drawerRight = (\n    <div style={{ ...styles.drawer, right: 20, left: \"unset\", bottom: 28 }}>\n      <button style={{ ...styles.drawerButton, background: \"#3477eb\", color: \"#fff\" }} onClick={() => window.print()}>\n        üñ®Ô∏è {locale === \"fr\" ? \"Imprimer\" : \"ÿ∑ÿ®ÿßÿπÿ©\"}\n      </button>\n    </div>\n  );\n\n  return (\n    <div style={{ ...styles.container, ...directionStyle }}>\n      <h2 style={{ textAlign: \"center\" }}>{T.title}</h2>\n\n      <div style={{ display: \"flex\", gap: 12, marginBottom: 12, alignItems: \"center\" }}>\n        <div style={{ ...styles.searchWrap, maxWidth: 340 }}>\n          <span style={{ marginRight: 8 }}>üîç</span>\n          <input\n            placeholder={T.searchPlaceholder}\n            value={searchQuery}\n            onChange={(e) => { setSearchQuery(e.target.value); setSelectedIndex(null); }}\n            style={styles.searchInput}\n          />\n        </div>\n\n        <div style={{ marginLeft: \"auto\", display: \"flex\", gap: 8 }}>\n          {/* Summary badges (small) */}\n          <div style={styles.summaryBadge}>\n            üë• {T.totalStaff}: <strong style={{ marginLeft: 6 }}>{totalStaff}</strong>\n          </div>\n          <div style={styles.summaryBadge}>\n            üí∞ {T.totalSalaire}: <strong style={{ marginLeft: 6 }}>{formatCurrency(totalSalaire)}</strong>\n          </div>\n          <div style={styles.summaryBadge}>\n            üí∏ {T.totalAvance}: <strong style={{ marginLeft: 6 }}>{formatCurrency(totalAvance)}</strong>\n          </div>\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <div style={styles.spinner}></div>\n        </div>\n      ) : (\n        <div style={styles.tableWrap}>\n          <table style={{ ...styles.table }}>\n            <thead>\n              <tr style={styles.tableHeaderRow}>\n                {isRtl\n                  ? [...displayedHeaders].reverse().map((h, i) => (\n                      <th key={i} className=\"tableHeaderStickyPersonel\" style={styles.tableHeader}>{h}</th>\n                    ))\n                  : displayedHeaders.map((h, i) => (\n                      <th key={i} className=\"tableHeaderStickyPersonel\" style={styles.tableHeader}>{h}</th>\n                    ))\n                }\n              </tr>\n            </thead>\n            <tbody>\n              {filtered.map((p, idx) => (\n                <tr\n                  key={p.id ?? idx}\n                  onClick={() => setSelectedIndex(idx)}\n                  style={{\n                    ...styles.tableRow,\n                    background: idx === selectedIndex ? \"#cce5ff\" : idx % 2 === 0 ? \"#fff\" : \"#f4f8ff\",\n                    cursor: \"pointer\"\n                  }}\n                >\n                  {isRtl ? (\n                    <>\n                      <td style={styles.tableCell}>{idx + 1}</td>\n                      {[...tableFieldsOrder].reverse().map((field) => renderTableCell(p, field))}\n                    </>\n                  ) : (\n                    <>\n                      <td style={styles.tableCell}>{idx + 1}</td>\n                      {tableFieldsOrder.map((field) => renderTableCell(p, field))}\n                    </>\n                  )}\n                </tr>\n              ))}\n              {filtered.length === 0 && !isLoading && (\n                <tr>\n                  <td colSpan={displayedHeaders.length} style={{ padding: \"1rem\", textAlign: \"center\", color: \"#666\" }}>\n                    {T.errorLoad}\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {drawerLeft}\n      {drawerRight}\n\n      {/* Modal */}\n      {showModal && (\n        <div style={styles.modalOverlay}>\n          <div style={{ ...styles.modal, ...(isRtl ? { direction: \"rtl\", textAlign: \"right\" } : {}) }}>\n            <h3>{modalMode === \"add\" ? T.addButton : T.editButton}</h3>\n            <form onSubmit={handleSave} style={styles.form}>\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.nom}\n                  <input style={styles.input} value={form.nom} onChange={(e) => setForm({ ...form, nom: e.target.value })} required />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.prenom}\n                  <input style={styles.input} value={form.prenom} onChange={(e) => setForm({ ...form, prenom: e.target.value })} required />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.poste}\n                  <input style={styles.input} value={form.poste} onChange={(e) => setForm({ ...form, poste: e.target.value })} />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.telephone}\n                  <input style={styles.input} value={form.telephone} onChange={(e) => setForm({ ...form, telephone: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.adresse}\n                  <input style={styles.input} value={form.adresse} onChange={(e) => setForm({ ...form, adresse: e.target.value })} />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.date_dentree}\n                  <input\n                    type=\"date\"\n                    value={form.date_dentree ? formatDateToISO(form.date_dentree) : \"\"}\n                    onChange={(e) => setForm(prev => ({ ...prev, date_dentree: e.target.value ? formatDateToFR(e.target.value) : \"\" }))}\n                    style={styles.input}\n                  />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.date_sortie}\n                  <input\n                    type=\"date\"\n                    value={form.date_sortie ? formatDateToISO(form.date_sortie) : \"\"}\n                    onChange={(e) => setForm(prev => ({ ...prev, date_sortie: e.target.value ? formatDateToFR(e.target.value) : \"\" }))}\n                    style={styles.input}\n                  />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.numero_assurance}\n                  <input style={styles.input} value={form.numero_assurance} onChange={(e) => setForm({ ...form, numero_assurance: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.salaire}\n                  <input\n                    style={styles.input}\n                    value={form.salaire}\n                    onChange={(e) => setForm({ ...form, salaire: e.target.value })}\n                    type=\"number\"\n                    min={0}\n                    step=\"0.01\"\n                  />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.avance}\n                  <input\n                    style={styles.input}\n                    value={form.avance}\n                    onChange={(e) => setForm({ ...form, avance: e.target.value })}\n                    type=\"number\"\n                    min={0}\n                    step=\"0.01\"\n                  />\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 12, alignItems: \"flex-start\", marginTop: 6 }}>\n                <div style={{ flex: 1 }}>\n                  <label style={styles.label}>\n                    {T.modalLabels.photo}\n                    <input type=\"file\" accept=\"image/*\" onChange={(e) => handlePhotoChange(e.target.files[0])} style={{ marginTop: 6 }} />\n                  </label>\n                </div>\n                <div style={{ width: 110 }}>\n                  {form.photo ? (\n                    <img src={photoSrc(form.photo)} alt=\"preview\" style={{ width: 100, height: 72, objectFit: \"cover\", borderRadius: 6 }} />\n                  ) : null}\n                </div>\n              </div>\n\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8, marginTop: 12 }}>\n                <button type=\"submit\" style={styles.saveButton}>{T.save}</button>\n                <button type=\"button\" style={styles.cancelButton} onClick={() => setShowModal(false)}>{T.cancel}</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\n// Styles (kept similar to client.js)\nconst styles = {\n  container: {\n    padding: \"1.25rem\",\n    position: \"relative\",\n    minHeight: \"100vh\",\n    boxSizing: \"border-box\"\n  },\n  searchWrap: {\n    flex: 1,\n    maxWidth: 420,\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 8\n  },\n  searchInput: {\n    width: \"100%\",\n    padding: \"0.5rem\",\n    borderRadius: 6,\n    border: \"1px solid #ccc\",\n    fontSize: \"1rem\"\n  },\n  spinner: {\n    margin: \"60px auto\",\n    border: \"8px solid #eee\",\n    borderTop: \"8px solid #3477eb\",\n    borderRadius: \"50%\",\n    width: 48,\n    height: 48,\n    animation: \"spin 1s linear infinite\"\n  },\n  tableWrap: {\n    maxHeight: \"60vh\",\n    overflowY: \"auto\",\n    border: \"1px solid #e0e0e0\",\n    borderRadius: 6\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"collapse\",\n    tableLayout: \"fixed\"\n  },\n  tableHeaderRow: {\n    background: \"#f1f6ff\"\n  },\n  tableHeader: {\n    padding: \"0.6rem\",\n    borderBottom: \"1px solid #e2e8f0\",\n    background: \"#f1f6ff\",\n    fontWeight: 700,\n    textAlign: \"left\"\n  },\n  tableRow: {\n    cursor: \"pointer\"\n  },\n  tableCell: {\n    padding: \"0.45rem 0.6rem\",\n    borderBottom: \"1px solid #f0f4fb\",\n    verticalAlign: \"middle\",\n    wordBreak: \"break-word\"\n  },\n  drawer: {\n    position: \"fixed\",\n    background: \"transparent\",\n    padding: \"1rem\",\n    borderRadius: \"8px\",\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    gap: \"0.5rem\",\n    zIndex: 8,\n    minWidth: 0,\n    width: \"auto\",\n    alignItems: \"center\"\n  },\n  drawerButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"0.3rem\",\n    padding: \"0.5rem 1rem\",\n    fontSize: \"1rem\",\n    color: \"#3477eb\",\n    background: \"#eaf3ff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n    transition: \"background 0.2s\"\n  },\n  summaryBadge: {\n    padding: \"0.4rem 0.6rem\",\n    background: \"rgba(255,255,255,0.9)\",\n    borderRadius: 8,\n    border: \"1px solid #e6eefb\",\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 8,\n    fontWeight: 700,\n    color: \"#14355f\"\n  },\n  modalOverlay: {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(0,0,0,0.45)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 999\n  },\n  modal: {\n    background: \"#fff\",\n    padding: 20,\n    borderRadius: 10,\n    width: \"92%\",\n    maxWidth: 820,\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.2)\"\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 12\n  },\n  row: {\n    display: \"flex\",\n    gap: 12\n  },\n  label: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontSize: 14,\n    color: \"#333\"\n  },\n  input: {\n    marginTop: 6,\n    padding: \"0.5rem\",\n    borderRadius: 6,\n    border: \"1px solid #ccc\",\n    fontSize: 14\n  },\n  saveButton: {\n    padding: \"0.55rem 1rem\",\n    background: \"#3477eb\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: 6,\n    cursor: \"pointer\",\n    fontWeight: 700\n  },\n  cancelButton: {\n    padding: \"0.45rem 0.9rem\",\n    background: \"#f1f4f8\",\n    color: \"#333\",\n    border: \"none\",\n    borderRadius: 6,\n    cursor: \"pointer\",\n    fontWeight: 700\n  }\n};\n\nexport default PersonelPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
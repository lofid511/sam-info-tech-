{"ast":null,"code":"import _objectSpread from\"C:/Users/R-TECH/Desktop/00/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/* Updated client.js\n   - Fix: added missing handleFicheClient to avoid ESLint no-undef\n   - Night mode compatible table + modal + actions\n*/import React,{useEffect,useState}from\"react\";import{jsPDF}from\"jspdf\";// Table columns\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TABLE_FIELDS=[\"nom\",\"prenom\",\"date_de_naissance\",\"lieu_de_naissance\",\"passport_number\",\"date_delivrance\",\"date_expiration\",\"addresse\",\"telephone\",\"credit\",\"photo\"];const NATIONALITIES=[\"AlgÃ©rienne\",\"Marocaine\",\"Tunisienne\",\"FranÃ§aise\",\"Espagnole\",\"Italienne\",\"Turque\",\"Saoudienne\",\"Ã‰gyptienne\",\"Ù„ÙŠØ¨ÙŠØ©\",\"Autre\"];const translations={fr:{title:\"Liste des Clients\",searchPlaceholder:\"Rechercher...\",selectRowAlert:\"Veuillez sÃ©lectionner une ligne client.\",addClient:\"Ajouter Nouveau Client\",editClient:\"Modifier Client\",confirmDelete:name=>\"Supprimer le client \".concat(name,\" ?\"),save:\"Enregistrer\",cancel:\"Annuler\",addButton:\"âž• Ajouter\",editButton:\"âœï¸ Modifier\",deleteButton:\"ðŸ—‘ï¸ Supprimer\",printButton:\"ðŸ–¨ï¸ Impression\",ficheButton:\"ðŸ§¾ Fiche client\",errorLoad:\"Aucun client trouvÃ©.\",errorSave:\"Erreur lors de l'enregistrement !\",errorDelete:\"Erreur lors de la suppression !\",saisieArabe:\"Saisir en arabe\",tableHeaders:[\"#\",\"Nom\",\"PrÃ©nom\",\"Date de naissance\",\"Lieu de naissance\",\"NÂ° Passport\",\"Date dÃ©livrance\",\"Date expiration\",\"Adresse\",\"NÂ° TÃ©lÃ©phone\",\"CrÃ©dit\",\"Photo\"],modalLabels:{nom:\"Nom\",prenom:\"PrÃ©nom\",nom_ar:\"Nom (arabe)\",prenom_ar:\"PrÃ©nom (arabe)\",prenom_pere:\"PrÃ©nom pÃ¨re\",prenom_pere_ar:\"PrÃ©nom pÃ¨re (arabe)\",nom_mere:\"Nom mÃ¨re\",prenom_mere:\"PrÃ©nom mÃ¨re\",nom_mere_ar:\"Nom mÃ¨re (arabe)\",prenom_mere_ar:\"PrÃ©nom mÃ¨re (arabe)\",date_de_naissance:\"Date de naissance\",lieu_de_naissance:\"Lieu de naissance\",nationalite:\"NationalitÃ©\",passport_number:\"NÂ° Passport\",date_delivrance:\"Date dÃ©livrance\",date_expiration:\"Date expiration\",addresse:\"Adresse\",telephone:\"NÂ° TÃ©lÃ©phone\",credit:\"CrÃ©dit\",photo:\"Photo (jpg/png)\"}},ar:{title:\"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\",searchPlaceholder:\"Ø¨Ø­Ø«...\",selectRowAlert:\"Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ ØµÙ Ø§Ù„Ø¹Ù…ÙŠÙ„.\",addClient:\"Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯\",editClient:\"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„\",confirmDelete:name=>\"\\u0647\\u0644 \\u062A\\u0631\\u064A\\u062F \\u062D\\u0630\\u0641 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644 \".concat(name,\"\\u061F\"),save:\"Ø­ÙØ¸\",cancel:\"Ø¥Ù„ØºØ§Ø¡\",addButton:\"âž• Ø¥Ø¶Ø§ÙØ©\",editButton:\"âœï¸ ØªØ¹Ø¯ÙŠÙ„\",deleteButton:\"ðŸ—‘ï¸ Ø­Ø°Ù\",printButton:\"ðŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©\",ficheButton:\"ðŸ§¾ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„\",errorLoad:\"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Ø¡.\",errorSave:\"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸!\",errorDelete:\"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­Ø°Ù!\",saisieArabe:\"ÙŠØ±Ø¬Ù‰ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©\",tableHeaders:[\"#\",\"Ø§Ù„Ù„Ù‚Ø¨\",\"Ø§Ù„Ø§Ø³Ù…\",\"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\",\"Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\",\"Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø²\",\"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±\",\"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡\",\"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†\",\"Ø§Ù„Ù‡Ø§ØªÙ\",\"Ø¯ÙŽÙŠÙ†\",\"Ø§Ù„ØµÙˆØ±Ø©\"],modalLabels:{nom:\"Ø§Ù„Ù„Ù‚Ø¨\",prenom:\"Ø§Ù„Ø§Ø³Ù…\",nom_ar:\"Ø§Ù„Ù„Ù‚Ø¨ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",prenom_ar:\"Ø§Ù„Ø§Ø³Ù… (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",prenom_pere:\"Ø§Ø³Ù… Ø§Ù„Ø£Ø¨\",prenom_pere_ar:\"Ø§Ø³Ù… Ø§Ù„Ø£Ø¨ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",nom_mere:\"Ù„Ù‚Ø¨ Ø§Ù„Ø£Ù…\",prenom_mere:\"Ø§Ø³Ù… Ø§Ù„Ø£Ù…\",nom_mere_ar:\"Ù„Ù‚Ø¨ Ø§Ù„Ø£Ù… (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",prenom_mere_ar:\"Ø§Ø³Ù… Ø§Ù„Ø£Ù… (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",date_de_naissance:\"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\",lieu_de_naissance:\"Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\",nationalite:\"Ø§Ù„Ø¬Ù†Ø³ÙŠØ©\",passport_number:\"Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø²\",date_delivrance:\"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±\",date_expiration:\"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡\",addresse:\"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†\",telephone:\"Ø§Ù„Ù‡Ø§ØªÙ\",credit:\"Ø¯ÙŽÙŠÙ†\",photo:\"Ø§Ù„ØµÙˆØ±Ø© (jpg/png)\"}}};function formatDateToFR(dateString){if(!dateString)return\"\";if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){const[yyyy,mm,dd]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){const[dd,mm,yyyy]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){return dateString;}return dateString;}function formatDateToISO(dateString){if(!dateString)return\"\";let dd,mm,yyyy;if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"/\");}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"-\");}else if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){return dateString;}if(yyyy&&mm&&dd){return\"\".concat(yyyy,\"-\").concat(mm,\"-\").concat(dd);}return dateString;}function isArabic(str){return /^[\\u0600-\\u06FF\\s]+$/.test(str);}// Generate PDF (jsPDF) and send base64 to Python backend for system preview\nasync function generateClientPDF(client,locale,translations){const doc=new jsPDF({unit:\"mm\",format:\"a4\"});let y=14;doc.setFontSize(18);doc.text(translations[locale].ficheButton,14,y);y+=8;doc.setFontSize(11);const L=translations[locale].modalLabels;const printField=(label,value)=>{doc.text(\"\".concat(label,\": \").concat(value!==null&&value!==void 0?value:\"\"),14,y);y+=7;if(y>270){doc.addPage();y=14;}};printField(L.nom,client.nom);printField(L.prenom,client.prenom);printField(L.nom_ar,client.nom_ar);printField(L.prenom_ar,client.prenom_ar);printField(L.prenom_pere,client.prenom_pere);printField(L.prenom_pere_ar,client.prenom_pere_ar);printField(L.nom_mere,client.nom_mere);printField(L.prenom_mere,client.prenom_mere);printField(L.nom_mere_ar,client.nom_mere_ar);printField(L.prenom_mere_ar,client.prenom_mere_ar);printField(L.date_de_naissance,client.date_de_naissance);printField(L.lieu_de_naissance,client.lieu_de_naissance);printField(L.nationalite,client.nationalite);printField(L.passport_number,client.passport_number);printField(L.date_delivrance,client.date_delivrance);printField(L.date_expiration,client.date_expiration);printField(L.addresse,client.addresse);printField(L.telephone,client.telephone);printField(L.credit,client.credit);if(client.photo&&client.photo.startsWith(\"data:\")){try{doc.addImage(client.photo,\"JPEG\",150,14,40,30);}catch(e){// ignore image errors\n}}const pdfBlob=doc.output(\"blob\");const arrayBuffer=await pdfBlob.arrayBuffer();const uint8Array=new Uint8Array(arrayBuffer);let binary=\"\";for(let i=0;i<uint8Array.length;i++){binary+=String.fromCharCode(uint8Array[i]);}const base64PDF=window.btoa(binary);if(window.pywebview&&window.pywebview.api&&window.pywebview.api.open_pdf_base64){try{await window.pywebview.api.open_pdf_base64(base64PDF);}catch(err){// fallback alert\nalert(\"Erreur lors de l'ouverture du PDF : \"+err);}}else{alert(\"PDF preview not supported in this environment.\");}}function ClientPage(_ref){let{locale=\"fr\",nightMode=false}=_ref;const[clients,setClients]=useState([]);const[selectedIndex,setSelectedIndex]=useState(null);const[searchQuery,setSearchQuery]=useState(\"\");const[showModal,setShowModal]=useState(false);const[modalMode,setModalMode]=useState(\"add\");const[clientForm,setClientForm]=useState({id:null,nom:\"\",prenom:\"\",nom_ar:\"\",prenom_ar:\"\",prenom_pere:\"\",prenom_pere_ar:\"\",nom_mere:\"\",prenom_mere:\"\",nom_mere_ar:\"\",prenom_mere_ar:\"\",date_de_naissance:\"\",lieu_de_naissance:\"\",nationalite:\"AlgÃ©rienne\",passport_number:\"\",date_delivrance:\"\",date_expiration:\"\",addresse:\"\",telephone:\"\",credit:\"\",photo:\"\"});const[arErrors,setArErrors]=useState({});const[isDeleting,setIsDeleting]=useState(false);const[isLoading,setIsLoading]=useState(false);const isRtl=locale===\"ar\";const displayedHeaders=isRtl?[...translations[locale].tableHeaders].reverse():translations[locale].tableHeaders;const tableFieldsOrder=isRtl?[...TABLE_FIELDS].reverse():[...TABLE_FIELDS];const directionStyle=isRtl?{direction:\"rtl\"}:{direction:\"ltr\"};// Fetch clients from backend\nconst fetchClients=async()=>{setIsLoading(true);try{const result=await window.pywebview.api.get_clients();setClients(result||[]);}catch(err){console.error(err);setClients([]);}finally{setIsLoading(false);}};useEffect(()=>{fetchClients();// inject sticky header spinner style once\nif(typeof document!==\"undefined\"&&!document.getElementById(\"client-spinner-style\")){const style=document.createElement(\"style\");style.id=\"client-spinner-style\";style.innerHTML=\"\\n        @keyframes spin { to { transform: rotate(360deg); } }\\n        .tableHeaderSticky { position: sticky; top: 0; z-index: 2; }\\n      \";document.head.appendChild(style);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[locale]);const filteredClients=clients.filter(c=>{const q=(searchQuery||\"\").trim().toLowerCase();if(!q)return true;return(c.nom||\"\").toLowerCase().includes(q)||(c.prenom||\"\").toLowerCase().includes(q)||(c.date_de_naissance||\"\").toLowerCase().includes(q)||(c.lieu_de_naissance||\"\").toLowerCase().includes(q)||(c.nationalite||\"\").toLowerCase().includes(q)||(String(c.passport_number||\"\")||\"\").toLowerCase().includes(q)||(c.telephone||\"\").toLowerCase().includes(q);});const emptyForm={id:null,nom:\"\",prenom:\"\",nom_ar:\"\",prenom_ar:\"\",prenom_pere:\"\",prenom_pere_ar:\"\",nom_mere:\"\",prenom_mere:\"\",nom_mere_ar:\"\",prenom_mere_ar:\"\",date_de_naissance:\"\",lieu_de_naissance:\"\",nationalite:\"AlgÃ©rienne\",passport_number:\"\",date_delivrance:\"\",date_expiration:\"\",addresse:\"\",telephone:\"\",credit:\"\",photo:\"\"};const handleAjouter=()=>{setModalMode(\"add\");setClientForm(_objectSpread({},emptyForm));setArErrors({});setShowModal(true);};const handleModifier=()=>{if(selectedIndex===null||!filteredClients[selectedIndex]){alert(translations[locale].selectRowAlert);return;}setModalMode(\"edit\");const sel=filteredClients[selectedIndex];setClientForm(_objectSpread(_objectSpread({},sel),{},{date_de_naissance:formatDateToFR(sel.date_de_naissance),date_delivrance:formatDateToFR(sel.date_delivrance),date_expiration:formatDateToFR(sel.date_expiration)}));setArErrors({});setShowModal(true);};const handleSupprimer=async()=>{if(selectedIndex===null||!filteredClients[selectedIndex]){alert(translations[locale].selectRowAlert);return;}if(isDeleting)return;const clientId=filteredClients[selectedIndex].id;const clientName=filteredClients[selectedIndex].nom||filteredClients[selectedIndex].prenom||filteredClients[selectedIndex].passport_number||\"\";const confirmDelete=window.confirm(translations[locale].confirmDelete(clientName));if(!confirmDelete)return;try{setIsDeleting(true);await window.pywebview.api.delete_client(clientId);setSelectedIndex(null);fetchClients();}catch(err){alert(translations[locale].errorDelete);}finally{setIsDeleting(false);}};const handleCloseModal=()=>{setShowModal(false);setArErrors({});setClientForm(_objectSpread({},emptyForm));};const handleArInput=(field,value)=>{let err=\"\";if(value&&!isArabic(value)){err=translations[locale].saisieArabe;}setClientForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));setArErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:err}));};const handleSaveClient=async e=>{e.preventDefault();let newErrors={};Object.keys(clientForm).forEach(f=>{if(f.endsWith(\"_ar\")&&clientForm[f]&&!isArabic(clientForm[f])){newErrors[f]=translations[locale].saisieArabe;}});setArErrors(newErrors);if(Object.values(newErrors).some(Boolean))return;try{const payload=_objectSpread(_objectSpread({},clientForm),{},{date_de_naissance:formatDateToISO(clientForm.date_de_naissance),date_delivrance:formatDateToISO(clientForm.date_delivrance),date_expiration:formatDateToISO(clientForm.date_expiration)});if(modalMode===\"add\"){await window.pywebview.api.add_client(payload);}else{await window.pywebview.api.update_client(payload);}handleCloseModal();fetchClients();}catch(err){alert(translations[locale].errorSave);}};const handlePhotoChange=file=>{if(!file){setClientForm(s=>_objectSpread(_objectSpread({},s),{},{photo:\"\"}));return;}const reader=new FileReader();reader.onload=()=>{setClientForm(s=>_objectSpread(_objectSpread({},s),{},{photo:reader.result}));};reader.readAsDataURL(file);};const photoSrc=val=>{if(!val)return null;if(typeof val!==\"string\")return null;if(val.startsWith(\"data:\"))return val;return\"data:image/png;base64,\".concat(val);};// ---- MISSING handler fixed here ----\nconst handleFicheClient=()=>{if(selectedIndex===null||!filteredClients[selectedIndex]){alert(translations[locale].selectRowAlert);return;}// generate PDF and send to backend for preview\ngenerateClientPDF(filteredClients[selectedIndex],locale,translations);};// Print handler (opens system print dialog for current page)\nconst handleImpression=()=>{window.print();};// STYLES that depend on nightMode\nconst mainBgStyle=_objectSpread(_objectSpread({},directionStyle),{},{background:nightMode?\"#181c24\":\"rgba(255,255,255,0.96)\",minHeight:\"100vh\",padding:\"2.5rem 2rem\",boxShadow:nightMode?\"0 8px 36px 0px #1e2239bb\":\"0 8px 30px rgba(52,119,235,0.08)\",margin:\"2rem auto\",maxWidth:\"1000px\",color:nightMode?\"#aad7ff\":\"#232d40\"});const tableContainerStyle={maxHeight:\"60vh\",overflowY:\"auto\",border:nightMode?\"1.5px solid #29334b\":\"1px solid #e0e0e0\",borderRadius:nightMode?\"8px\":\"6px\",background:nightMode?\"#212736\":\"transparent\",boxShadow:nightMode?\"0 4px 32px #151926cc\":\"none\"};const tableStyle={width:\"100%\",borderCollapse:\"collapse\",marginTop:\"0\",tableLayout:\"fixed\",background:\"transparent\"};const tableHeaderStyle={padding:\"0.5rem\",border:nightMode?\"1px solid #27304b\":\"1px solid #c2c2c2\",fontWeight:\"bold\",fontSize:\"0.98rem\",background:nightMode?\"#232c44\":\"#e8f0fe\",color:nightMode?\"#aad5ff\":\"#232d40\"};const tableCellBase={padding:\"0.35rem 0.45rem\",border:nightMode?\"1px solid #27304b\":\"1px solid #e0e0e0\",fontSize:\"0.96rem\",wordBreak:\"break-word\",verticalAlign:\"middle\",color:nightMode?\"#e5eaff\":\"#232d40\",background:\"inherit\"};const tableRowStyle=idx=>({cursor:\"pointer\",background:nightMode?idx%2===0?\"#232939\":\"#262c3c\":idx%2===0?\"#fff\":\"#f4f8ff\",transition:\"background 0.15s\"});const highlightedRow={background:nightMode?\"#183b57\":\"#cce5ff\",color:nightMode?\"#ffe57f\":undefined};const spinnerStyle={margin:\"60px auto\",border:\"8px solid \".concat(nightMode?\"#232939\":\"#eee\"),borderTop:\"8px solid #3477eb\",borderRadius:\"50%\",width:48,height:48,animation:\"spin 1s linear infinite\"};function renderTableCell(client,field){var _client$field;if(field===\"photo\"){const src=photoSrc(client[field]);return/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},tableCellBase),{},{padding:0,textAlign:\"center\",minWidth:50,maxWidth:70,width:60,verticalAlign:\"middle\",background:nightMode?\"#141d28\":\"#fff\"}),children:src?/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"photo\",style:{width:50,height:36,objectFit:\"cover\",borderRadius:6,display:\"block\",margin:\"0 auto\"}}):\"-\"},\"\".concat(client.id,\"-\").concat(field));}if(field===\"date_de_naissance\"||field===\"date_delivrance\"||field===\"date_expiration\"){return/*#__PURE__*/_jsx(\"td\",{style:tableCellBase,children:formatDateToFR(client[field])},\"\".concat(client.id,\"-\").concat(field));}return/*#__PURE__*/_jsx(\"td\",{style:tableCellBase,children:(_client$field=client[field])!==null&&_client$field!==void 0?_client$field:\"-\"},\"\".concat(client.id,\"-\").concat(field));}// --- Modal UI (add/edit) with night mode styling ---\nconst modalOverlayStyle={position:\"fixed\",top:0,left:0,width:\"100vw\",height:\"100vh\",background:nightMode?\"rgba(5,10,18,0.7)\":\"rgba(0,0,0,0.5)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",zIndex:1000};const modalContentStyle={background:nightMode?\"#0f1724\":\"#fff\",padding:\"1.6rem\",borderRadius:10,width:\"96%\",maxWidth:980,boxShadow:nightMode?\"0 12px 48px #000c\":\"0 2px 16px rgba(0,0,0,0.12)\",color:nightMode?\"#e6eefc\":\"#222\"};const modalLabelStyle={display:\"flex\",flexDirection:\"column\",fontSize:\"0.9rem\",color:nightMode?\"#cfe8ff\":\"#333\"};const modalInputStyle={padding:\"0.5rem\",fontSize:\"1rem\",borderRadius:\"4px\",border:nightMode?\"1px solid #2a384a\":\"1px solid #ccc\",marginTop:\"0.3rem\",background:nightMode?\"#0f1724\":\"#fff\",color:nightMode?\"#e6eefc\":\"#222\"};const modalButtonStyle={padding:\"0.5rem 1.2rem\",fontSize:\"1rem\",borderRadius:\"6px\",border:\"none\",cursor:\"pointer\",background:\"#3477eb\",color:\"#fff\",fontWeight:\"bold\"};return/*#__PURE__*/_jsxs(\"div\",{style:mainBgStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",color:nightMode?\"#aad7ff\":\"#232d40\"},children:translations[locale].title}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"1rem\",display:\"flex\",alignItems:\"center\",maxWidth:340,flexDirection:isRtl?\"row-reverse\":\"row\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"1.2rem\",marginRight:\"0.5rem\",color:nightMode?\"#aad7ff\":\"#232d40\"},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:translations[locale].searchPlaceholder,value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);setSelectedIndex(null);},style:{flex:1,padding:\"0.5rem\",fontSize:\"1rem\",borderRadius:\"4px\",border:nightMode?\"1px solid #27304b\":\"1px solid #ccc\",background:nightMode?\"#212736\":\"#fff\",color:nightMode?\"#e5eaff\":\"#232d40\"}})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{style:spinnerStyle})}):/*#__PURE__*/_jsx(\"div\",{style:tableContainerStyle,children:/*#__PURE__*/_jsxs(\"table\",{style:tableStyle,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:displayedHeaders.map((h,i)=>/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},tableHeaderStyle),h===\"#\"?{width:36,minWidth:24,maxWidth:40}:{}),h===\"Photo\"||h===\"Ø§Ù„ØµÙˆØ±Ø©\"?{minWidth:50,maxWidth:70,width:60}:{}),{},{position:\"sticky\",top:0,zIndex:2}),className:\"tableHeaderSticky\",children:h},i))})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[filteredClients.map((client,idx)=>/*#__PURE__*/_jsxs(\"tr\",{style:_objectSpread(_objectSpread({},tableRowStyle(idx)),idx===selectedIndex?highlightedRow:{}),onClick:()=>setSelectedIndex(idx),children:[/*#__PURE__*/_jsx(\"td\",{style:tableCellBase,children:idx+1}),tableFieldsOrder.map(field=>renderTableCell(client,field))]},client.id||client.nom+idx)),filteredClients.length===0&&!isLoading&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:displayedHeaders.length,style:{padding:\"1rem\",textAlign:\"center\",color:nightMode?\"#7ea6c7\":\"#666\"},children:translations[locale].errorLoad})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"fixed\",left:20,bottom:28,display:\"flex\",gap:8,zIndex:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAjouter,style:{padding:\"0.5rem 1rem\",borderRadius:6,border:\"none\",cursor:\"pointer\",background:nightMode?\"#1b2536\":\"#eaf3ff\",color:nightMode?\"#aad7ff\":\"#3477eb\"},children:translations[locale].addButton}),/*#__PURE__*/_jsx(\"button\",{onClick:handleModifier,style:{padding:\"0.5rem 1rem\",borderRadius:6,border:\"none\",cursor:\"pointer\",background:nightMode?\"#1b2536\":\"#eaf3ff\",color:nightMode?\"#aad7ff\":\"#3477eb\"},children:translations[locale].editButton}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSupprimer,style:{padding:\"0.5rem 1rem\",borderRadius:6,border:\"none\",cursor:\"pointer\",background:nightMode?\"#1b2536\":\"#eaf3ff\",color:nightMode?\"#ffd1c1\":\"#d9534f\"},children:translations[locale].deleteButton})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"fixed\",right:20,bottom:28,display:\"flex\",gap:8,zIndex:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleFicheClient,style:{padding:\"0.5rem 1rem\",borderRadius:6,border:\"none\",cursor:\"pointer\",background:\"#1b9e5c\",color:\"#fff\"},children:translations[locale].ficheButton}),/*#__PURE__*/_jsx(\"button\",{onClick:handleImpression,style:{padding:\"0.5rem 1rem\",borderRadius:6,border:\"none\",cursor:\"pointer\",background:\"#3477eb\",color:\"#fff\"},children:translations[locale].printButton})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{style:modalOverlayStyle,onClick:handleCloseModal,children:/*#__PURE__*/_jsxs(\"div\",{style:modalContentStyle,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0},children:modalMode===\"add\"?translations[locale].addClient:translations[locale].editClient}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSaveClient,style:{display:\"flex\",flexDirection:\"column\",gap:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.nom,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.nom||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{nom:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.prenom,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.prenom||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{prenom:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.nom_ar,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.nom_ar||\"\",onChange:e=>handleArInput(\"nom_ar\",e.target.value),dir:\"rtl\"}),arErrors.nom_ar&&/*#__PURE__*/_jsx(\"small\",{style:{color:\"#ffb4b4\"},children:arErrors.nom_ar})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.prenom_ar,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.prenom_ar||\"\",onChange:e=>handleArInput(\"prenom_ar\",e.target.value),dir:\"rtl\"}),arErrors.prenom_ar&&/*#__PURE__*/_jsx(\"small\",{style:{color:\"#ffb4b4\"},children:arErrors.prenom_ar})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.prenom_pere,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.prenom_pere||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{prenom_pere:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.prenom_pere_ar,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.prenom_pere_ar||\"\",onChange:e=>handleArInput(\"prenom_pere_ar\",e.target.value),dir:\"rtl\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.nom_mere,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.nom_mere||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{nom_mere:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.prenom_mere,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.prenom_mere||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{prenom_mere:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.nom_mere_ar,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.nom_mere_ar||\"\",onChange:e=>handleArInput(\"nom_mere_ar\",e.target.value),dir:\"rtl\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.prenom_mere_ar,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.prenom_mere_ar||\"\",onChange:e=>handleArInput(\"prenom_mere_ar\",e.target.value),dir:\"rtl\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.date_de_naissance,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,type:\"date\",value:clientForm.date_de_naissance?formatDateToISO(clientForm.date_de_naissance):\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{date_de_naissance:e.target.value?formatDateToFR(e.target.value):\"\"}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.lieu_de_naissance,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.lieu_de_naissance||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{lieu_de_naissance:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.nationalite,\":\",/*#__PURE__*/_jsx(\"select\",{style:modalInputStyle,value:clientForm.nationalite,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{nationalite:e.target.value})),children:NATIONALITIES.map(n=>/*#__PURE__*/_jsx(\"option\",{value:n,children:n},n))})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.passport_number,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.passport_number||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{passport_number:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.date_delivrance,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,type:\"date\",value:clientForm.date_delivrance?formatDateToISO(clientForm.date_delivrance):\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{date_delivrance:e.target.value?formatDateToFR(e.target.value):\"\"}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:modalLabelStyle,children:[translations[locale].modalLabels.date_expiration,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,type:\"date\",value:clientForm.date_expiration?formatDateToISO(clientForm.date_expiration):\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{date_expiration:e.target.value?formatDateToFR(e.target.value):\"\"}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"label\",{style:_objectSpread(_objectSpread({},modalLabelStyle),{},{flex:1}),children:[translations[locale].modalLabels.addresse,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.addresse||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{addresse:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:_objectSpread(_objectSpread({},modalLabelStyle),{},{width:200}),children:[translations[locale].modalLabels.telephone,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,value:clientForm.telephone||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{telephone:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:_objectSpread(_objectSpread({},modalLabelStyle),{},{width:140}),children:[translations[locale].modalLabels.credit,\":\",/*#__PURE__*/_jsx(\"input\",{style:modalInputStyle,type:\"number\",min:0,value:clientForm.credit||\"\",onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{credit:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"label\",{style:_objectSpread(_objectSpread({},modalLabelStyle),{},{flex:1}),children:[translations[locale].modalLabels.photo,\":\",/*#__PURE__*/_jsx(\"input\",{style:{marginTop:6},type:\"file\",accept:\"image/*\",onChange:e=>handlePhotoChange(e.target.files[0])})]}),clientForm.photo?/*#__PURE__*/_jsx(\"div\",{style:{width:96},children:/*#__PURE__*/_jsx(\"img\",{src:photoSrc(clientForm.photo),alt:\"preview\",style:{width:96,height:72,objectFit:\"cover\",borderRadius:6}})}):null]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,justifyContent:\"flex-end\",marginTop:8},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:modalButtonStyle,children:translations[locale].save}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCloseModal,style:_objectSpread(_objectSpread({},modalButtonStyle),{},{background:\"#999\"}),children:translations[locale].cancel})]})]})]})})]});}export default ClientPage;","map":{"version":3,"names":["React","useEffect","useState","jsPDF","jsx","_jsx","jsxs","_jsxs","TABLE_FIELDS","NATIONALITIES","translations","fr","title","searchPlaceholder","selectRowAlert","addClient","editClient","confirmDelete","name","concat","save","cancel","addButton","editButton","deleteButton","printButton","ficheButton","errorLoad","errorSave","errorDelete","saisieArabe","tableHeaders","modalLabels","nom","prenom","nom_ar","prenom_ar","prenom_pere","prenom_pere_ar","nom_mere","prenom_mere","nom_mere_ar","prenom_mere_ar","date_de_naissance","lieu_de_naissance","nationalite","passport_number","date_delivrance","date_expiration","addresse","telephone","credit","photo","ar","formatDateToFR","dateString","test","yyyy","mm","dd","split","formatDateToISO","isArabic","str","generateClientPDF","client","locale","doc","unit","format","y","setFontSize","text","L","printField","label","value","addPage","startsWith","addImage","e","pdfBlob","output","arrayBuffer","uint8Array","Uint8Array","binary","i","length","String","fromCharCode","base64PDF","window","btoa","pywebview","api","open_pdf_base64","err","alert","ClientPage","_ref","nightMode","clients","setClients","selectedIndex","setSelectedIndex","searchQuery","setSearchQuery","showModal","setShowModal","modalMode","setModalMode","clientForm","setClientForm","id","arErrors","setArErrors","isDeleting","setIsDeleting","isLoading","setIsLoading","isRtl","displayedHeaders","reverse","tableFieldsOrder","directionStyle","direction","fetchClients","result","get_clients","console","error","document","getElementById","style","createElement","innerHTML","head","appendChild","filteredClients","filter","c","q","trim","toLowerCase","includes","emptyForm","handleAjouter","_objectSpread","handleModifier","sel","handleSupprimer","clientId","clientName","confirm","delete_client","handleCloseModal","handleArInput","field","prev","handleSaveClient","preventDefault","newErrors","Object","keys","forEach","f","endsWith","values","some","Boolean","payload","add_client","update_client","handlePhotoChange","file","s","reader","FileReader","onload","readAsDataURL","photoSrc","val","handleFicheClient","handleImpression","print","mainBgStyle","background","minHeight","padding","boxShadow","margin","maxWidth","color","tableContainerStyle","maxHeight","overflowY","border","borderRadius","tableStyle","width","borderCollapse","marginTop","tableLayout","tableHeaderStyle","fontWeight","fontSize","tableCellBase","wordBreak","verticalAlign","tableRowStyle","idx","cursor","transition","highlightedRow","undefined","spinnerStyle","borderTop","height","animation","renderTableCell","_client$field","src","textAlign","minWidth","children","alt","objectFit","display","modalOverlayStyle","position","top","left","alignItems","justifyContent","zIndex","modalContentStyle","modalLabelStyle","flexDirection","modalInputStyle","modalButtonStyle","marginBottom","marginRight","type","placeholder","onChange","target","flex","map","h","className","onClick","colSpan","bottom","gap","right","stopPropagation","onSubmit","required","dir","n","min","accept","files"],"sources":["C:/Users/R-TECH/Desktop/00/my-app/src/client.js"],"sourcesContent":["/* Updated client.js\n   - Fix: added missing handleFicheClient to avoid ESLint no-undef\n   - Night mode compatible table + modal + actions\n*/\nimport React, { useEffect, useState } from \"react\";\nimport { jsPDF } from \"jspdf\";\n\n// Table columns\nconst TABLE_FIELDS = [\n  \"nom\",\n  \"prenom\",\n  \"date_de_naissance\",\n  \"lieu_de_naissance\",\n  \"passport_number\",\n  \"date_delivrance\",\n  \"date_expiration\",\n  \"addresse\",\n  \"telephone\",\n  \"credit\",\n  \"photo\"\n];\n\nconst NATIONALITIES = [\n  \"AlgÃ©rienne\",\n  \"Marocaine\",\n  \"Tunisienne\",\n  \"FranÃ§aise\",\n  \"Espagnole\",\n  \"Italienne\",\n  \"Turque\",\n  \"Saoudienne\",\n  \"Ã‰gyptienne\",\n  \"Ù„ÙŠØ¨ÙŠØ©\",\n  \"Autre\"\n];\n\nconst translations = {\n  fr: {\n    title: \"Liste des Clients\",\n    searchPlaceholder: \"Rechercher...\",\n    selectRowAlert: \"Veuillez sÃ©lectionner une ligne client.\",\n    addClient: \"Ajouter Nouveau Client\",\n    editClient: \"Modifier Client\",\n    confirmDelete: (name) => `Supprimer le client ${name} ?`,\n    save: \"Enregistrer\",\n    cancel: \"Annuler\",\n    addButton: \"âž• Ajouter\",\n    editButton: \"âœï¸ Modifier\",\n    deleteButton: \"ðŸ—‘ï¸ Supprimer\",\n    printButton: \"ðŸ–¨ï¸ Impression\",\n    ficheButton: \"ðŸ§¾ Fiche client\",\n    errorLoad: \"Aucun client trouvÃ©.\",\n    errorSave: \"Erreur lors de l'enregistrement !\",\n    errorDelete: \"Erreur lors de la suppression !\",\n    saisieArabe: \"Saisir en arabe\",\n    tableHeaders: [\n      \"#\",\n      \"Nom\",\n      \"PrÃ©nom\",\n      \"Date de naissance\",\n      \"Lieu de naissance\",\n      \"NÂ° Passport\",\n      \"Date dÃ©livrance\",\n      \"Date expiration\",\n      \"Adresse\",\n      \"NÂ° TÃ©lÃ©phone\",\n      \"CrÃ©dit\",\n      \"Photo\"\n    ],\n    modalLabels: {\n      nom: \"Nom\",\n      prenom: \"PrÃ©nom\",\n      nom_ar: \"Nom (arabe)\",\n      prenom_ar: \"PrÃ©nom (arabe)\",\n      prenom_pere: \"PrÃ©nom pÃ¨re\",\n      prenom_pere_ar: \"PrÃ©nom pÃ¨re (arabe)\",\n      nom_mere: \"Nom mÃ¨re\",\n      prenom_mere: \"PrÃ©nom mÃ¨re\",\n      nom_mere_ar: \"Nom mÃ¨re (arabe)\",\n      prenom_mere_ar: \"PrÃ©nom mÃ¨re (arabe)\",\n      date_de_naissance: \"Date de naissance\",\n      lieu_de_naissance: \"Lieu de naissance\",\n      nationalite: \"NationalitÃ©\",\n      passport_number: \"NÂ° Passport\",\n      date_delivrance: \"Date dÃ©livrance\",\n      date_expiration: \"Date expiration\",\n      addresse: \"Adresse\",\n      telephone: \"NÂ° TÃ©lÃ©phone\",\n      credit: \"CrÃ©dit\",\n      photo: \"Photo (jpg/png)\"\n    }\n  },\n  ar: {\n    title: \"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\",\n    searchPlaceholder: \"Ø¨Ø­Ø«...\",\n    selectRowAlert: \"Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ ØµÙ Ø§Ù„Ø¹Ù…ÙŠÙ„.\",\n    addClient: \"Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯\",\n    editClient: \"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„\",\n    confirmDelete: (name) => `Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ø¹Ù…ÙŠÙ„ ${name}ØŸ`,\n    save: \"Ø­ÙØ¸\",\n    cancel: \"Ø¥Ù„ØºØ§Ø¡\",\n    addButton: \"âž• Ø¥Ø¶Ø§ÙØ©\",\n    editButton: \"âœï¸ ØªØ¹Ø¯ÙŠÙ„\",\n    deleteButton: \"ðŸ—‘ï¸ Ø­Ø°Ù\",\n    printButton: \"ðŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©\",\n    ficheButton: \"ðŸ§¾ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„\",\n    errorLoad: \"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Ø¡.\",\n    errorSave: \"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸!\",\n    errorDelete: \"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­Ø°Ù!\",\n    saisieArabe: \"ÙŠØ±Ø¬Ù‰ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©\",\n    tableHeaders: [\n      \"#\",\n      \"Ø§Ù„Ù„Ù‚Ø¨\",\n      \"Ø§Ù„Ø§Ø³Ù…\",\n      \"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\",\n      \"Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\",\n      \"Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø²\",\n      \"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±\",\n      \"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡\",\n      \"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†\",\n      \"Ø§Ù„Ù‡Ø§ØªÙ\",\n      \"Ø¯ÙŽÙŠÙ†\",\n      \"Ø§Ù„ØµÙˆØ±Ø©\"\n    ],\n    modalLabels: {\n      nom: \"Ø§Ù„Ù„Ù‚Ø¨\",\n      prenom: \"Ø§Ù„Ø§Ø³Ù…\",\n      nom_ar: \"Ø§Ù„Ù„Ù‚Ø¨ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",\n      prenom_ar: \"Ø§Ù„Ø§Ø³Ù… (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",\n      prenom_pere: \"Ø§Ø³Ù… Ø§Ù„Ø£Ø¨\",\n      prenom_pere_ar: \"Ø§Ø³Ù… Ø§Ù„Ø£Ø¨ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",\n      nom_mere: \"Ù„Ù‚Ø¨ Ø§Ù„Ø£Ù…\",\n      prenom_mere: \"Ø§Ø³Ù… Ø§Ù„Ø£Ù…\",\n      nom_mere_ar: \"Ù„Ù‚Ø¨ Ø§Ù„Ø£Ù… (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",\n      prenom_mere_ar: \"Ø§Ø³Ù… Ø§Ù„Ø£Ù… (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)\",\n      date_de_naissance: \"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\",\n      lieu_de_naissance: \"Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\",\n      nationalite: \"Ø§Ù„Ø¬Ù†Ø³ÙŠØ©\",\n      passport_number: \"Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ø²\",\n      date_delivrance: \"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±\",\n      date_expiration: \"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡\",\n      addresse: \"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†\",\n      telephone: \"Ø§Ù„Ù‡Ø§ØªÙ\",\n      credit: \"Ø¯ÙŽÙŠÙ†\",\n      photo: \"Ø§Ù„ØµÙˆØ±Ø© (jpg/png)\"\n    }\n  }\n};\n\nfunction formatDateToFR(dateString) {\n  if (!dateString) return \"\";\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    const [yyyy, mm, dd] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    const [dd, mm, yyyy] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    return dateString;\n  }\n  return dateString;\n}\n\nfunction formatDateToISO(dateString) {\n  if (!dateString) return \"\";\n  let dd, mm, yyyy;\n  if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"/\");\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"-\");\n  } else if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    return dateString;\n  }\n  if (yyyy && mm && dd) {\n    return `${yyyy}-${mm}-${dd}`;\n  }\n  return dateString;\n}\n\nfunction isArabic(str) {\n  return /^[\\u0600-\\u06FF\\s]+$/.test(str);\n}\n\n// Generate PDF (jsPDF) and send base64 to Python backend for system preview\nasync function generateClientPDF(client, locale, translations) {\n  const doc = new jsPDF({ unit: \"mm\", format: \"a4\" });\n  let y = 14;\n  doc.setFontSize(18);\n  doc.text(translations[locale].ficheButton, 14, y);\n  y += 8;\n  doc.setFontSize(11);\n\n  const L = translations[locale].modalLabels;\n  const printField = (label, value) => {\n    doc.text(`${label}: ${value ?? \"\"}`, 14, y);\n    y += 7;\n    if (y > 270) {\n      doc.addPage();\n      y = 14;\n    }\n  };\n\n  printField(L.nom, client.nom);\n  printField(L.prenom, client.prenom);\n  printField(L.nom_ar, client.nom_ar);\n  printField(L.prenom_ar, client.prenom_ar);\n  printField(L.prenom_pere, client.prenom_pere);\n  printField(L.prenom_pere_ar, client.prenom_pere_ar);\n  printField(L.nom_mere, client.nom_mere);\n  printField(L.prenom_mere, client.prenom_mere);\n  printField(L.nom_mere_ar, client.nom_mere_ar);\n  printField(L.prenom_mere_ar, client.prenom_mere_ar);\n  printField(L.date_de_naissance, client.date_de_naissance);\n  printField(L.lieu_de_naissance, client.lieu_de_naissance);\n  printField(L.nationalite, client.nationalite);\n  printField(L.passport_number, client.passport_number);\n  printField(L.date_delivrance, client.date_delivrance);\n  printField(L.date_expiration, client.date_expiration);\n  printField(L.addresse, client.addresse);\n  printField(L.telephone, client.telephone);\n  printField(L.credit, client.credit);\n\n  if (client.photo && client.photo.startsWith(\"data:\")) {\n    try {\n      doc.addImage(client.photo, \"JPEG\", 150, 14, 40, 30);\n    } catch (e) {\n      // ignore image errors\n    }\n  }\n\n  const pdfBlob = doc.output(\"blob\");\n  const arrayBuffer = await pdfBlob.arrayBuffer();\n  const uint8Array = new Uint8Array(arrayBuffer);\n  let binary = \"\";\n  for (let i = 0; i < uint8Array.length; i++) {\n    binary += String.fromCharCode(uint8Array[i]);\n  }\n  const base64PDF = window.btoa(binary);\n\n  if (window.pywebview && window.pywebview.api && window.pywebview.api.open_pdf_base64) {\n    try {\n      await window.pywebview.api.open_pdf_base64(base64PDF);\n    } catch (err) {\n      // fallback alert\n      alert(\"Erreur lors de l'ouverture du PDF : \" + err);\n    }\n  } else {\n    alert(\"PDF preview not supported in this environment.\");\n  }\n}\n\nfunction ClientPage({ locale = \"fr\", nightMode = false }) {\n  const [clients, setClients] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [modalMode, setModalMode] = useState(\"add\");\n  const [clientForm, setClientForm] = useState({\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    nom_ar: \"\",\n    prenom_ar: \"\",\n    prenom_pere: \"\",\n    prenom_pere_ar: \"\",\n    nom_mere: \"\",\n    prenom_mere: \"\",\n    nom_mere_ar: \"\",\n    prenom_mere_ar: \"\",\n    date_de_naissance: \"\",\n    lieu_de_naissance: \"\",\n    nationalite: \"AlgÃ©rienne\",\n    passport_number: \"\",\n    date_delivrance: \"\",\n    date_expiration: \"\",\n    addresse: \"\",\n    telephone: \"\",\n    credit: \"\",\n    photo: \"\"\n  });\n  const [arErrors, setArErrors] = useState({});\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const isRtl = locale === \"ar\";\n  const displayedHeaders = isRtl\n    ? [...translations[locale].tableHeaders].reverse()\n    : translations[locale].tableHeaders;\n  const tableFieldsOrder = isRtl ? [...TABLE_FIELDS].reverse() : [...TABLE_FIELDS];\n  const directionStyle = isRtl ? { direction: \"rtl\" } : { direction: \"ltr\" };\n\n  // Fetch clients from backend\n  const fetchClients = async () => {\n    setIsLoading(true);\n    try {\n      const result = await window.pywebview.api.get_clients();\n      setClients(result || []);\n    } catch (err) {\n      console.error(err);\n      setClients([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchClients();\n    // inject sticky header spinner style once\n    if (typeof document !== \"undefined\" && !document.getElementById(\"client-spinner-style\")) {\n      const style = document.createElement(\"style\");\n      style.id = \"client-spinner-style\";\n      style.innerHTML = `\n        @keyframes spin { to { transform: rotate(360deg); } }\n        .tableHeaderSticky { position: sticky; top: 0; z-index: 2; }\n      `;\n      document.head.appendChild(style);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [locale]);\n\n  const filteredClients = clients.filter((c) => {\n    const q = (searchQuery || \"\").trim().toLowerCase();\n    if (!q) return true;\n    return (\n      (c.nom || \"\").toLowerCase().includes(q) ||\n      (c.prenom || \"\").toLowerCase().includes(q) ||\n      (c.date_de_naissance || \"\").toLowerCase().includes(q) ||\n      (c.lieu_de_naissance || \"\").toLowerCase().includes(q) ||\n      (c.nationalite || \"\").toLowerCase().includes(q) ||\n      (String(c.passport_number || \"\") || \"\").toLowerCase().includes(q) ||\n      (c.telephone || \"\").toLowerCase().includes(q)\n    );\n  });\n\n  const emptyForm = {\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    nom_ar: \"\",\n    prenom_ar: \"\",\n    prenom_pere: \"\",\n    prenom_pere_ar: \"\",\n    nom_mere: \"\",\n    prenom_mere: \"\",\n    nom_mere_ar: \"\",\n    prenom_mere_ar: \"\",\n    date_de_naissance: \"\",\n    lieu_de_naissance: \"\",\n    nationalite: \"AlgÃ©rienne\",\n    passport_number: \"\",\n    date_delivrance: \"\",\n    date_expiration: \"\",\n    addresse: \"\",\n    telephone: \"\",\n    credit: \"\",\n    photo: \"\"\n  };\n\n  const handleAjouter = () => {\n    setModalMode(\"add\");\n    setClientForm({ ...emptyForm });\n    setArErrors({});\n    setShowModal(true);\n  };\n\n  const handleModifier = () => {\n    if (selectedIndex === null || !filteredClients[selectedIndex]) {\n      alert(translations[locale].selectRowAlert);\n      return;\n    }\n    setModalMode(\"edit\");\n    const sel = filteredClients[selectedIndex];\n    setClientForm({\n      ...sel,\n      date_de_naissance: formatDateToFR(sel.date_de_naissance),\n      date_delivrance: formatDateToFR(sel.date_delivrance),\n      date_expiration: formatDateToFR(sel.date_expiration)\n    });\n    setArErrors({});\n    setShowModal(true);\n  };\n\n  const handleSupprimer = async () => {\n    if (selectedIndex === null || !filteredClients[selectedIndex]) {\n      alert(translations[locale].selectRowAlert);\n      return;\n    }\n    if (isDeleting) return;\n    const clientId = filteredClients[selectedIndex].id;\n    const clientName =\n      filteredClients[selectedIndex].nom ||\n      filteredClients[selectedIndex].prenom ||\n      filteredClients[selectedIndex].passport_number ||\n      \"\";\n    const confirmDelete = window.confirm(translations[locale].confirmDelete(clientName));\n    if (!confirmDelete) return;\n    try {\n      setIsDeleting(true);\n      await window.pywebview.api.delete_client(clientId);\n      setSelectedIndex(null);\n      fetchClients();\n    } catch (err) {\n      alert(translations[locale].errorDelete);\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleCloseModal = () => {\n    setShowModal(false);\n    setArErrors({});\n    setClientForm({ ...emptyForm });\n  };\n\n  const handleArInput = (field, value) => {\n    let err = \"\";\n    if (value && !isArabic(value)) {\n      err = translations[locale].saisieArabe;\n    }\n    setClientForm((prev) => ({ ...prev, [field]: value }));\n    setArErrors((prev) => ({ ...prev, [field]: err }));\n  };\n\n  const handleSaveClient = async (e) => {\n    e.preventDefault();\n    let newErrors = {};\n    Object.keys(clientForm).forEach((f) => {\n      if (f.endsWith(\"_ar\") && clientForm[f] && !isArabic(clientForm[f])) {\n        newErrors[f] = translations[locale].saisieArabe;\n      }\n    });\n    setArErrors(newErrors);\n    if (Object.values(newErrors).some(Boolean)) return;\n\n    try {\n      const payload = {\n        ...clientForm,\n        date_de_naissance: formatDateToISO(clientForm.date_de_naissance),\n        date_delivrance: formatDateToISO(clientForm.date_delivrance),\n        date_expiration: formatDateToISO(clientForm.date_expiration)\n      };\n      if (modalMode === \"add\") {\n        await window.pywebview.api.add_client(payload);\n      } else {\n        await window.pywebview.api.update_client(payload);\n      }\n      handleCloseModal();\n      fetchClients();\n    } catch (err) {\n      alert(translations[locale].errorSave);\n    }\n  };\n\n  const handlePhotoChange = (file) => {\n    if (!file) {\n      setClientForm((s) => ({ ...s, photo: \"\" }));\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = () => {\n      setClientForm((s) => ({ ...s, photo: reader.result }));\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const photoSrc = (val) => {\n    if (!val) return null;\n    if (typeof val !== \"string\") return null;\n    if (val.startsWith(\"data:\")) return val;\n    return `data:image/png;base64,${val}`;\n  };\n\n  // ---- MISSING handler fixed here ----\n  const handleFicheClient = () => {\n    if (selectedIndex === null || !filteredClients[selectedIndex]) {\n      alert(translations[locale].selectRowAlert);\n      return;\n    }\n    // generate PDF and send to backend for preview\n    generateClientPDF(filteredClients[selectedIndex], locale, translations);\n  };\n\n  // Print handler (opens system print dialog for current page)\n  const handleImpression = () => {\n    window.print();\n  };\n\n  // STYLES that depend on nightMode\n  const mainBgStyle = {\n    ...directionStyle,\n    background: nightMode ? \"#181c24\" : \"rgba(255,255,255,0.96)\",\n    minHeight: \"100vh\",\n    padding: \"2.5rem 2rem\",\n    boxShadow: nightMode ? \"0 8px 36px 0px #1e2239bb\" : \"0 8px 30px rgba(52,119,235,0.08)\",\n    margin: \"2rem auto\",\n    maxWidth: \"1000px\",\n    color: nightMode ? \"#aad7ff\" : \"#232d40\"\n  };\n\n  const tableContainerStyle = {\n    maxHeight: \"60vh\",\n    overflowY: \"auto\",\n    border: nightMode ? \"1.5px solid #29334b\" : \"1px solid #e0e0e0\",\n    borderRadius: nightMode ? \"8px\" : \"6px\",\n    background: nightMode ? \"#212736\" : \"transparent\",\n    boxShadow: nightMode ? \"0 4px 32px #151926cc\" : \"none\"\n  };\n\n  const tableStyle = {\n    width: \"100%\",\n    borderCollapse: \"collapse\",\n    marginTop: \"0\",\n    tableLayout: \"fixed\",\n    background: \"transparent\"\n  };\n\n  const tableHeaderStyle = {\n    padding: \"0.5rem\",\n    border: nightMode ? \"1px solid #27304b\" : \"1px solid #c2c2c2\",\n    fontWeight: \"bold\",\n    fontSize: \"0.98rem\",\n    background: nightMode ? \"#232c44\" : \"#e8f0fe\",\n    color: nightMode ? \"#aad5ff\" : \"#232d40\"\n  };\n\n  const tableCellBase = {\n    padding: \"0.35rem 0.45rem\",\n    border: nightMode ? \"1px solid #27304b\" : \"1px solid #e0e0e0\",\n    fontSize: \"0.96rem\",\n    wordBreak: \"break-word\",\n    verticalAlign: \"middle\",\n    color: nightMode ? \"#e5eaff\" : \"#232d40\",\n    background: \"inherit\"\n  };\n\n  const tableRowStyle = (idx) => ({\n    cursor: \"pointer\",\n    background: nightMode ? (idx % 2 === 0 ? \"#232939\" : \"#262c3c\") : idx % 2 === 0 ? \"#fff\" : \"#f4f8ff\",\n    transition: \"background 0.15s\"\n  });\n\n  const highlightedRow = {\n    background: nightMode ? \"#183b57\" : \"#cce5ff\",\n    color: nightMode ? \"#ffe57f\" : undefined\n  };\n\n  const spinnerStyle = {\n    margin: \"60px auto\",\n    border: `8px solid ${nightMode ? \"#232939\" : \"#eee\"}`,\n    borderTop: \"8px solid #3477eb\",\n    borderRadius: \"50%\",\n    width: 48,\n    height: 48,\n    animation: \"spin 1s linear infinite\"\n  };\n\n  function renderTableCell(client, field) {\n    if (field === \"photo\") {\n      const src = photoSrc(client[field]);\n      return (\n        <td\n          key={`${client.id}-${field}`}\n          style={{\n            ...tableCellBase,\n            padding: 0,\n            textAlign: \"center\",\n            minWidth: 50,\n            maxWidth: 70,\n            width: 60,\n            verticalAlign: \"middle\",\n            background: nightMode ? \"#141d28\" : \"#fff\"\n          }}\n        >\n          {src ? (\n            <img\n              src={src}\n              alt=\"photo\"\n              style={{\n                width: 50,\n                height: 36,\n                objectFit: \"cover\",\n                borderRadius: 6,\n                display: \"block\",\n                margin: \"0 auto\"\n              }}\n            />\n          ) : (\n            \"-\"\n          )}\n        </td>\n      );\n    }\n\n    if (\n      field === \"date_de_naissance\" ||\n      field === \"date_delivrance\" ||\n      field === \"date_expiration\"\n    ) {\n      return (\n        <td key={`${client.id}-${field}`} style={tableCellBase}>\n          {formatDateToFR(client[field])}\n        </td>\n      );\n    }\n\n    return (\n      <td key={`${client.id}-${field}`} style={tableCellBase}>\n        {client[field] ?? \"-\"}\n      </td>\n    );\n  }\n\n  // --- Modal UI (add/edit) with night mode styling ---\n  const modalOverlayStyle = {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    width: \"100vw\",\n    height: \"100vh\",\n    background: nightMode ? \"rgba(5,10,18,0.7)\" : \"rgba(0,0,0,0.5)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 1000\n  };\n\n  const modalContentStyle = {\n    background: nightMode ? \"#0f1724\" : \"#fff\",\n    padding: \"1.6rem\",\n    borderRadius: 10,\n    width: \"96%\",\n    maxWidth: 980,\n    boxShadow: nightMode ? \"0 12px 48px #000c\" : \"0 2px 16px rgba(0,0,0,0.12)\",\n    color: nightMode ? \"#e6eefc\" : \"#222\"\n  };\n\n  const modalLabelStyle = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontSize: \"0.9rem\",\n    color: nightMode ? \"#cfe8ff\" : \"#333\"\n  };\n\n  const modalInputStyle = {\n    padding: \"0.5rem\",\n    fontSize: \"1rem\",\n    borderRadius: \"4px\",\n    border: nightMode ? \"1px solid #2a384a\" : \"1px solid #ccc\",\n    marginTop: \"0.3rem\",\n    background: nightMode ? \"#0f1724\" : \"#fff\",\n    color: nightMode ? \"#e6eefc\" : \"#222\"\n  };\n\n  const modalButtonStyle = {\n    padding: \"0.5rem 1.2rem\",\n    fontSize: \"1rem\",\n    borderRadius: \"6px\",\n    border: \"none\",\n    cursor: \"pointer\",\n    background: \"#3477eb\",\n    color: \"#fff\",\n    fontWeight: \"bold\"\n  };\n\n  return (\n    <div style={mainBgStyle}>\n      <h2 style={{ textAlign: \"center\", color: nightMode ? \"#aad7ff\" : \"#232d40\" }}>\n        {translations[locale].title}\n      </h2>\n\n      {/* Search */}\n      <div style={{ marginBottom: \"1rem\", display: \"flex\", alignItems: \"center\", maxWidth: 340, flexDirection: isRtl ? \"row-reverse\" : \"row\" }}>\n        <span style={{ fontSize: \"1.2rem\", marginRight: \"0.5rem\", color: nightMode ? \"#aad7ff\" : \"#232d40\" }}>ðŸ”</span>\n        <input\n          type=\"text\"\n          placeholder={translations[locale].searchPlaceholder}\n          value={searchQuery}\n          onChange={(e) => {\n            setSearchQuery(e.target.value);\n            setSelectedIndex(null);\n          }}\n          style={{\n            flex: 1,\n            padding: \"0.5rem\",\n            fontSize: \"1rem\",\n            borderRadius: \"4px\",\n            border: nightMode ? \"1px solid #27304b\" : \"1px solid #ccc\",\n            background: nightMode ? \"#212736\" : \"#fff\",\n            color: nightMode ? \"#e5eaff\" : \"#232d40\"\n          }}\n        />\n      </div>\n\n      {/* Table / Spinner */}\n      {isLoading ? (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <div style={spinnerStyle} />\n        </div>\n      ) : (\n        <div style={tableContainerStyle}>\n          <table style={tableStyle}>\n            <thead>\n              <tr>\n                {displayedHeaders.map((h, i) => (\n                  <th\n                    key={i}\n                    style={{\n                      ...tableHeaderStyle,\n                      ...(h === \"#\" ? { width: 36, minWidth: 24, maxWidth: 40 } : {}),\n                      ...(h === \"Photo\" || h === \"Ø§Ù„ØµÙˆØ±Ø©\" ? { minWidth: 50, maxWidth: 70, width: 60 } : {}),\n                      position: \"sticky\",\n                      top: 0,\n                      zIndex: 2\n                    }}\n                    className=\"tableHeaderSticky\"\n                  >\n                    {h}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {filteredClients.map((client, idx) => (\n                <tr\n                  key={client.id || (client.nom + idx)}\n                  style={{\n                    ...tableRowStyle(idx),\n                    ...(idx === selectedIndex ? highlightedRow : {})\n                  }}\n                  onClick={() => setSelectedIndex(idx)}\n                >\n                  <td style={tableCellBase}>{idx + 1}</td>\n                  {tableFieldsOrder.map((field) => renderTableCell(client, field))}\n                </tr>\n              ))}\n              {filteredClients.length === 0 && !isLoading && (\n                <tr>\n                  <td colSpan={displayedHeaders.length} style={{ padding: \"1rem\", textAlign: \"center\", color: nightMode ? \"#7ea6c7\" : \"#666\" }}>\n                    {translations[locale].errorLoad}\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Drawers / Action Buttons */}\n      <div\n        style={{\n          position: \"fixed\",\n          left: 20,\n          bottom: 28,\n          display: \"flex\",\n          gap: 8,\n          zIndex: 8\n        }}\n      >\n        <button\n          onClick={handleAjouter}\n          style={{\n            padding: \"0.5rem 1rem\",\n            borderRadius: 6,\n            border: \"none\",\n            cursor: \"pointer\",\n            background: nightMode ? \"#1b2536\" : \"#eaf3ff\",\n            color: nightMode ? \"#aad7ff\" : \"#3477eb\"\n          }}\n        >\n          {translations[locale].addButton}\n        </button>\n        <button\n          onClick={handleModifier}\n          style={{\n            padding: \"0.5rem 1rem\",\n            borderRadius: 6,\n            border: \"none\",\n            cursor: \"pointer\",\n            background: nightMode ? \"#1b2536\" : \"#eaf3ff\",\n            color: nightMode ? \"#aad7ff\" : \"#3477eb\"\n          }}\n        >\n          {translations[locale].editButton}\n        </button>\n        <button\n          onClick={handleSupprimer}\n          style={{\n            padding: \"0.5rem 1rem\",\n            borderRadius: 6,\n            border: \"none\",\n            cursor: \"pointer\",\n            background: nightMode ? \"#1b2536\" : \"#eaf3ff\",\n            color: nightMode ? \"#ffd1c1\" : \"#d9534f\"\n          }}\n        >\n          {translations[locale].deleteButton}\n        </button>\n      </div>\n\n      <div\n        style={{\n          position: \"fixed\",\n          right: 20,\n          bottom: 28,\n          display: \"flex\",\n          gap: 8,\n          zIndex: 8\n        }}\n      >\n        <button\n          onClick={handleFicheClient}\n          style={{\n            padding: \"0.5rem 1rem\",\n            borderRadius: 6,\n            border: \"none\",\n            cursor: \"pointer\",\n            background: \"#1b9e5c\",\n            color: \"#fff\"\n          }}\n        >\n          {translations[locale].ficheButton}\n        </button>\n        <button\n          onClick={handleImpression}\n          style={{\n            padding: \"0.5rem 1rem\",\n            borderRadius: 6,\n            border: \"none\",\n            cursor: \"pointer\",\n            background: \"#3477eb\",\n            color: \"#fff\"\n          }}\n        >\n          {translations[locale].printButton}\n        </button>\n      </div>\n\n      {/* Modal */}\n      {showModal && (\n        <div style={modalOverlayStyle} onClick={handleCloseModal}>\n          <div style={modalContentStyle} onClick={(e) => e.stopPropagation()}>\n            <h3 style={{ marginTop: 0 }}>{modalMode === \"add\" ? translations[locale].addClient : translations[locale].editClient}</h3>\n            <form onSubmit={handleSaveClient} style={{ display: \"flex\", flexDirection: \"column\", gap: 12 }}>\n              {/* rows of inputs: 4 per row */}\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.nom}:\n                  <input style={modalInputStyle} value={clientForm.nom || \"\"} onChange={(e) => setClientForm({ ...clientForm, nom: e.target.value })} required />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.prenom}:\n                  <input style={modalInputStyle} value={clientForm.prenom || \"\"} onChange={(e) => setClientForm({ ...clientForm, prenom: e.target.value })} required />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.nom_ar}:\n                  <input style={modalInputStyle} value={clientForm.nom_ar || \"\"} onChange={(e) => handleArInput(\"nom_ar\", e.target.value)} dir=\"rtl\" />\n                  {arErrors.nom_ar && <small style={{ color: \"#ffb4b4\" }}>{arErrors.nom_ar}</small>}\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.prenom_ar}:\n                  <input style={modalInputStyle} value={clientForm.prenom_ar || \"\"} onChange={(e) => handleArInput(\"prenom_ar\", e.target.value)} dir=\"rtl\" />\n                  {arErrors.prenom_ar && <small style={{ color: \"#ffb4b4\" }}>{arErrors.prenom_ar}</small>}\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.prenom_pere}:\n                  <input style={modalInputStyle} value={clientForm.prenom_pere || \"\"} onChange={(e) => setClientForm({ ...clientForm, prenom_pere: e.target.value })} />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.prenom_pere_ar}:\n                  <input style={modalInputStyle} value={clientForm.prenom_pere_ar || \"\"} onChange={(e) => handleArInput(\"prenom_pere_ar\", e.target.value)} dir=\"rtl\" />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.nom_mere}:\n                  <input style={modalInputStyle} value={clientForm.nom_mere || \"\"} onChange={(e) => setClientForm({ ...clientForm, nom_mere: e.target.value })} />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.prenom_mere}:\n                  <input style={modalInputStyle} value={clientForm.prenom_mere || \"\"} onChange={(e) => setClientForm({ ...clientForm, prenom_mere: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.nom_mere_ar}:\n                  <input style={modalInputStyle} value={clientForm.nom_mere_ar || \"\"} onChange={(e) => handleArInput(\"nom_mere_ar\", e.target.value)} dir=\"rtl\" />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.prenom_mere_ar}:\n                  <input style={modalInputStyle} value={clientForm.prenom_mere_ar || \"\"} onChange={(e) => handleArInput(\"prenom_mere_ar\", e.target.value)} dir=\"rtl\" />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.date_de_naissance}:\n                  <input style={modalInputStyle} type=\"date\" value={clientForm.date_de_naissance ? formatDateToISO(clientForm.date_de_naissance) : \"\"} onChange={(e) => setClientForm({ ...clientForm, date_de_naissance: e.target.value ? formatDateToFR(e.target.value) : \"\" })} />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.lieu_de_naissance}:\n                  <input style={modalInputStyle} value={clientForm.lieu_de_naissance || \"\"} onChange={(e) => setClientForm({ ...clientForm, lieu_de_naissance: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.nationalite}:\n                  <select style={modalInputStyle} value={clientForm.nationalite} onChange={(e) => setClientForm({ ...clientForm, nationalite: e.target.value })}>\n                    {NATIONALITIES.map((n) => <option key={n} value={n}>{n}</option>)}\n                  </select>\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.passport_number}:\n                  <input style={modalInputStyle} value={clientForm.passport_number || \"\"} onChange={(e) => setClientForm({ ...clientForm, passport_number: e.target.value })} />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.date_delivrance}:\n                  <input style={modalInputStyle} type=\"date\" value={clientForm.date_delivrance ? formatDateToISO(clientForm.date_delivrance) : \"\"} onChange={(e) => setClientForm({ ...clientForm, date_delivrance: e.target.value ? formatDateToFR(e.target.value) : \"\" })} />\n                </label>\n                <label style={modalLabelStyle}>\n                  {translations[locale].modalLabels.date_expiration}:\n                  <input style={modalInputStyle} type=\"date\" value={clientForm.date_expiration ? formatDateToISO(clientForm.date_expiration) : \"\"} onChange={(e) => setClientForm({ ...clientForm, date_expiration: e.target.value ? formatDateToFR(e.target.value) : \"\" })} />\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 8 }}>\n                <label style={{ ...modalLabelStyle, flex: 1 }}>\n                  {translations[locale].modalLabels.addresse}:\n                  <input style={modalInputStyle} value={clientForm.addresse || \"\"} onChange={(e) => setClientForm({ ...clientForm, addresse: e.target.value })} />\n                </label>\n                <label style={{ ...modalLabelStyle, width: 200 }}>\n                  {translations[locale].modalLabels.telephone}:\n                  <input style={modalInputStyle} value={clientForm.telephone || \"\"} onChange={(e) => setClientForm({ ...clientForm, telephone: e.target.value })} />\n                </label>\n                <label style={{ ...modalLabelStyle, width: 140 }}>\n                  {translations[locale].modalLabels.credit}:\n                  <input style={modalInputStyle} type=\"number\" min={0} value={clientForm.credit || \"\"} onChange={(e) => setClientForm({ ...clientForm, credit: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n                <label style={{ ...modalLabelStyle, flex: 1 }}>\n                  {translations[locale].modalLabels.photo}:\n                  <input style={{ marginTop: 6 }} type=\"file\" accept=\"image/*\" onChange={(e) => handlePhotoChange(e.target.files[0])} />\n                </label>\n                {clientForm.photo ? (\n                  <div style={{ width: 96 }}>\n                    <img src={photoSrc(clientForm.photo)} alt=\"preview\" style={{ width: 96, height: 72, objectFit: \"cover\", borderRadius: 6 }} />\n                  </div>\n                ) : null}\n              </div>\n\n              <div style={{ display: \"flex\", gap: 8, justifyContent: \"flex-end\", marginTop: 8 }}>\n                <button type=\"submit\" style={modalButtonStyle}>{translations[locale].save}</button>\n                <button type=\"button\" onClick={handleCloseModal} style={{ ...modalButtonStyle, background: \"#999\" }}>{translations[locale].cancel}</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ClientPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
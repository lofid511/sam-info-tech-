{"ast":null,"code":"import _objectSpread from\"C:/Users/R-TECH/Desktop/00/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";/*\n  personel.js\n\n  Updated to render the personnel table RTL when locale is Arabic so the visible column\n  order is: #, ÿßŸÑŸÑŸÇÿ® (nom), ÿßŸÑÿßÿ≥ŸÖ (prenom), ... (right-to-left). Data columns always\n  align with headers. When Arabic:\n   - the outer container uses direction: rtl so the table reads right-to-left\n   - we still render columns in logical order (# then TABLE_FIELDS) so the first visible\n     column on the right is '#' and the next is 'ÿßŸÑŸÑŸÇÿ®' and so on ‚Äî matching client.js\n*/import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TABLE_FIELDS=[\"nom\",\"prenom\",\"poste\",\"telephone\",\"adresse\",\"date_dentree\",\"date_sortie\",\"numero_assurance\",\"salaire\",\"avance\",\"photo\"];const translations={fr:{title:\"Personnel\",addButton:\"‚ûï Ajouter\",editButton:\"‚úèÔ∏è Modifier\",deleteButton:\"üóëÔ∏è Supprimer\",save:\"Enregistrer\",cancel:\"Annuler\",searchPlaceholder:\"Rechercher...\",selectRowAlert:\"Veuillez s√©lectionner un membre du personnel.\",confirmDelete:name=>\"Supprimer \".concat(name,\" ?\"),tableHeaders:[\"#\",\"Nom\",\"Pr√©nom\",\"Poste\",\"T√©l√©phone\",\"Adresse\",\"Date d'entr√©e\",\"Date de sortie\",\"N¬∞ d'assurance\",\"Salaire\",\"Avance\",\"Photo\"],modalLabels:{nom:\"Nom\",prenom:\"Pr√©nom\",poste:\"Poste\",telephone:\"T√©l√©phone\",adresse:\"Adresse\",date_dentree:\"Date d'entr√©e\",date_sortie:\"Date de sortie\",numero_assurance:\"N¬∞ d'assurance\",salaire:\"Salaire\",avance:\"Avance\",photo:\"Photo (jpg/png)\"},errorLoad:\"Erreur lors du chargement du personnel\",errorSave:\"Erreur lors de l'enregistrement\",errorDelete:\"Erreur lors de la suppression\",totalStaff:\"Total Personnel\",totalSalaire:\"Salaire Total\",totalAvance:\"Avance Totale\",pointageButton:\"üìã Pointage\",printLabel:\"Historique\"},ar:{title:\"ÿßŸÑŸÖŸàÿ∏ŸÅŸàŸÜ\",addButton:\"‚ûï ÿ•ÿ∂ÿßŸÅÿ©\",editButton:\"‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ\",deleteButton:\"üóëÔ∏è ÿ≠ÿ∞ŸÅ\",save:\"ÿ≠ŸÅÿ∏\",cancel:\"ÿ•ŸÑÿ∫ÿßÿ°\",searchPlaceholder:\"ÿ®ÿ≠ÿ´...\",selectRowAlert:\"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàÿ∏ŸÅ.\",confirmDelete:name=>\"\\u0647\\u0644 \\u062A\\u0631\\u064A\\u062F \\u062D\\u0630\\u0641 \".concat(name,\"\\u061F\"),tableHeaders:[\"#\",\"ÿßŸÑŸÑŸÇÿ®\",\"ÿßŸÑÿßÿ≥ŸÖ\",\"ÿßŸÑŸÖŸÜÿµÿ®\",\"ÿßŸÑŸáÿßÿ™ŸÅ\",\"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\"ÿßŸÑÿ±ÿßÿ™ÿ®\",\"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\"ÿßŸÑÿµŸàÿ±ÿ©\"],modalLabels:{nom:\"ÿßŸÑŸÑŸÇÿ®\",prenom:\"ÿßŸÑÿßÿ≥ŸÖ\",poste:\"ÿßŸÑŸÖŸÜÿµÿ®\",telephone:\"ÿßŸÑŸáÿßÿ™ŸÅ\",adresse:\"ÿßŸÑÿπŸÜŸàÿßŸÜ\",date_dentree:\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",date_sortie:\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",numero_assurance:\"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",salaire:\"ÿßŸÑÿ±ÿßÿ™ÿ®\",avance:\"ÿßŸÑÿ≥ŸÑŸÅÿ©\",photo:\"ÿßŸÑÿµŸàÿ±ÿ© (jpg/png)\"},errorLoad:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",errorSave:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏\",errorDelete:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ\",totalStaff:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",totalSalaire:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ±Ÿàÿßÿ™ÿ®\",totalAvance:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≥ŸÑŸÅ\",pointageButton:\"üìã ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿ≠ÿ∂Ÿàÿ±\",printLabel:\"ÿßŸÑÿ≥ÿ¨ŸÑ\"}};// Helpers\nfunction photoSrc(val){if(!val)return null;if(typeof val!==\"string\")return null;if(val.startsWith(\"data:\"))return val;return\"data:image/png;base64,\".concat(val);}function formatCurrency(value){if(value===undefined||value===null||value===\"\")return\"\";const cleaned=String(value).replace(/\\s+/g,\"\").replace(/,/g,\"\");const num=parseFloat(cleaned);if(Number.isNaN(num))return String(value);return num.toLocaleString(\"fr-FR\",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/\\u202f/g,\" \");}function unformatNumber(value){if(value===undefined||value===null)return\"\";return String(value).replace(/\\s+/g,\"\").replace(/,/g,\"\").trim();}function formatDateToFR(dateString){if(!dateString)return\"\";if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){const[yyyy,mm,dd]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){const[dd,mm,yyyy]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){return dateString;}return dateString;}function formatDateToISO(dateString){if(!dateString)return\"\";let dd,mm,yyyy;if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"/\");}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"-\");}else if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){return dateString;}if(yyyy&&mm&&dd){return\"\".concat(yyyy,\"-\").concat(mm,\"-\").concat(dd);}return dateString;}function isArabic(str){return /^[\\u0600-\\u06FF\\s]+$/.test(str);}function PersonelPage(_ref){let{locale=\"fr\"}=_ref;const T=translations[locale]||translations.fr;const[personel,setPersonel]=useState([]);const[selectedIndex,setSelectedIndex]=useState(null);const[searchQuery,setSearchQuery]=useState(\"\");const[showModal,setShowModal]=useState(false);const[modalMode,setModalMode]=useState(\"add\");// add | edit\nconst[form,setForm]=useState({id:null,nom:\"\",prenom:\"\",poste:\"\",telephone:\"\",adresse:\"\",date_dentree:\"\",date_sortie:\"\",numero_assurance:\"\",salaire:\"\",avance:\"\",photo:\"\"});const[arErrors,setArErrors]=useState({});const[isLoading,setIsLoading]=useState(false);const[isDeleting,setIsDeleting]=useState(false);const isRtl=locale===\"ar\";// data order - always derived from TABLE_FIELDS\n// We render columns in the logical order: numbering column (#) then TABLE_FIELDS.\n// With the container set to direction: rtl when Arabic, the visual result will be:\n// right-most column -> #, next -> ÿßŸÑŸÑŸÇÿ® (nom), next -> ÿßŸÑÿßÿ≥ŸÖ (prenom), etc.\nconst tableFieldsOrder=[...TABLE_FIELDS];const directionStyle=isRtl?{direction:\"rtl\"}:{direction:\"ltr\"};// Helper to get header label for a field (TABLE_FIELDS index -> T.tableHeaders index+1)\nconst headerLabelForField=field=>{const idx=TABLE_FIELDS.indexOf(field);if(idx===-1)return field;return T.tableHeaders[idx+1]||field;// +1 because tableHeaders[0] is \"#\"\n};// Fetch personnel\nconst fetchPersonel=async()=>{setIsLoading(true);try{const res=await window.pywebview.api.get_personnel();const normalized=(res||[]).map(r=>_objectSpread(_objectSpread({},r),{},{salaire:r.salaire!==undefined&&r.salaire!==null?String(r.salaire):\"\",avance:r.avance!==undefined&&r.avance!==null?String(r.avance):\"\",date_dentree:r.date_dentree||\"\",date_sortie:r.date_sortie||\"\",numero_assurance:r.numero_assurance||r.num_assurance||\"\",photo:r.photo||\"\"}));setPersonel(normalized);}catch(err){console.error(\"Failed to fetch personnel:\",err);setPersonel([]);alert(T.errorLoad+(err!==null&&err!==void 0&&err.message?\": \".concat(err.message):\"\"));}finally{setIsLoading(false);}};useEffect(()=>{fetchPersonel();// eslint-disable-next-line\n},[locale]);// Filtering\nconst filtered=personel.filter(p=>{const q=searchQuery.trim().toLowerCase();if(!q)return true;return(p.nom||\"\").toLowerCase().includes(q)||(p.prenom||\"\").toLowerCase().includes(q)||(p.poste||\"\").toLowerCase().includes(q)||(p.telephone||\"\").toLowerCase().includes(q)||(p.adresse||\"\").toLowerCase().includes(q);});// Totals\nconst totalStaff=filtered.length;const totalSalaire=filtered.reduce((s,p)=>{const val=parseFloat(String(p.salaire||\"0\").replace(/\\s+/g,\"\").replace(\",\",\".\"));return s+(isNaN(val)?0:val);},0);const totalAvance=filtered.reduce((s,p)=>{const val=parseFloat(String(p.avance||\"0\").replace(/\\s+/g,\"\").replace(\",\",\".\"));return s+(isNaN(val)?0:val);},0);const emptyForm={id:null,nom:\"\",prenom:\"\",poste:\"\",telephone:\"\",adresse:\"\",date_dentree:\"\",date_sortie:\"\",numero_assurance:\"\",salaire:\"\",avance:\"\",photo:\"\"};const handleAdd=()=>{setModalMode(\"add\");setForm(_objectSpread({},emptyForm));setArErrors({});setShowModal(true);};const handleEdit=()=>{var _sel$id,_sel$nom,_sel$prenom,_sel$poste,_sel$telephone,_sel$adresse,_sel$numero_assurance,_sel$photo;if(selectedIndex===null||filtered[selectedIndex]===undefined){alert(T.selectRowAlert);return;}const sel=filtered[selectedIndex];setModalMode(\"edit\");setForm({id:(_sel$id=sel.id)!==null&&_sel$id!==void 0?_sel$id:null,nom:(_sel$nom=sel.nom)!==null&&_sel$nom!==void 0?_sel$nom:\"\",prenom:(_sel$prenom=sel.prenom)!==null&&_sel$prenom!==void 0?_sel$prenom:\"\",poste:(_sel$poste=sel.poste)!==null&&_sel$poste!==void 0?_sel$poste:\"\",telephone:(_sel$telephone=sel.telephone)!==null&&_sel$telephone!==void 0?_sel$telephone:\"\",adresse:(_sel$adresse=sel.adresse)!==null&&_sel$adresse!==void 0?_sel$adresse:\"\",date_dentree:sel.date_dentree?formatDateToFR(sel.date_dentree):\"\",date_sortie:sel.date_sortie?formatDateToFR(sel.date_sortie):\"\",numero_assurance:(_sel$numero_assurance=sel.numero_assurance)!==null&&_sel$numero_assurance!==void 0?_sel$numero_assurance:\"\",salaire:sel.salaire!==undefined&&sel.salaire!==null?String(sel.salaire):\"\",avance:sel.avance!==undefined&&sel.avance!==null?String(sel.avance):\"\",photo:(_sel$photo=sel.photo)!==null&&_sel$photo!==void 0?_sel$photo:\"\"});setShowModal(true);};const handleDelete=async()=>{if(selectedIndex===null||filtered[selectedIndex]===undefined){alert(T.selectRowAlert);return;}const sel=filtered[selectedIndex];const name=\"\".concat(sel.nom||\"\",\" \").concat(sel.prenom||\"\").trim()||sel.id||\"\";if(!window.confirm(T.confirmDelete(name)))return;try{setIsDeleting(true);const resp=await window.pywebview.api.delete_personnel(sel.id);if(resp===0||resp===false){alert(T.errorDelete);}else{setPersonel(prev=>prev.filter(p=>p.id!==sel.id));setSelectedIndex(null);}}catch(err){console.error(\"Delete error:\",err);alert(T.errorDelete+(err!==null&&err!==void 0&&err.message?\": \".concat(err.message):\"\"));}finally{setIsDeleting(false);}};const handleSave=async e=>{var _e$preventDefault;e===null||e===void 0?void 0:(_e$preventDefault=e.preventDefault)===null||_e$preventDefault===void 0?void 0:_e$preventDefault.call(e);let newErrors={};for(const f of Object.keys(form)){if(f.endsWith(\"_ar\")&&form[f]&&!isArabic(form[f])){newErrors[f]=translations[locale].saisieArabe||\"Saisie arabe requise\";}}setArErrors(newErrors);if(Object.values(newErrors).some(Boolean))return;try{const payload=_objectSpread(_objectSpread({},form),{},{salaire:unformatNumber(form.salaire),avance:unformatNumber(form.avance),date_dentree:formatDateToISO(form.date_dentree),date_sortie:formatDateToISO(form.date_sortie)});let result;if(modalMode===\"add\"){result=await window.pywebview.api.add_personnel(payload);}else{result=await window.pywebview.api.update_personnel(payload);}if(!result){alert(T.errorSave+(result&&result.error?\": \".concat(result.error):\" (voir console)\"));return;}if(modalMode===\"add\"){setPersonel(prev=>[...prev,_objectSpread(_objectSpread({},result),{},{salaire:result.salaire!==undefined&&result.salaire!==null?String(result.salaire):\"\",avance:result.avance!==undefined&&result.avance!==null?String(result.avance):\"\",photo:result.photo||\"\"})]);}else{setPersonel(prev=>prev.map(p=>p.id===result.id?_objectSpread(_objectSpread({},result),{},{salaire:result.salaire!==undefined&&result.salaire!==null?String(result.salaire):\"\",avance:result.avance!==undefined&&result.avance!==null?String(result.avance):\"\",photo:result.photo||\"\"}):p));}setShowModal(false);setForm(_objectSpread({},emptyForm));}catch(err){console.error(\"Save error:\",err);alert(T.errorSave+(err!==null&&err!==void 0&&err.message?\": \".concat(err.message):\"\"));}};const handlePhotoChange=file=>{if(!file){setForm(s=>_objectSpread(_objectSpread({},s),{},{photo:\"\"}));return;}const reader=new FileReader();reader.onload=()=>{setForm(s=>_objectSpread(_objectSpread({},s),{},{photo:reader.result}));};reader.readAsDataURL(file);};const handleOpenPointage=async()=>{const detail={locale,translations,personnel:null};if(selectedIndex!==null&&filtered[selectedIndex])detail.personnel=filtered[selectedIndex];try{const mod=await import(\"./pointage\");if(mod&&typeof mod.openPointage===\"function\"){mod.openPointage(detail);return;}}catch(impErr){console.warn(\"Could not dynamically import ./pointage (will dispatch event).\",impErr);}window.dispatchEvent(new CustomEvent(\"openPointage\",{detail}));};const handleHistorique=async()=>{const detail={locale,translations,personnel:null};if(selectedIndex!==null&&filtered[selectedIndex])detail.personnel=filtered[selectedIndex];try{const mod=await import(\"./hystorique\");if(mod&&typeof mod.openHistorique===\"function\"){mod.openHistorique(detail);return;}if(mod&&typeof mod.default===\"function\"){mod.default(detail);return;}}catch(impErr){console.warn(\"Could not dynamically import ./hystorique (will dispatch event).\",impErr);}window.dispatchEvent(new CustomEvent(\"openHystorique\",{detail}));};// Render cell helper: field is one of TABLE_FIELDS so mapping is consistent\nfunction renderTableCell(item,field,idx){var _item$field;const isLast=idx===tableFieldsOrder.length-1;const baseCellStyle=_objectSpread(_objectSpread({},styles.tableCell),{},{borderRight:isLast?\"none\":\"1px solid #e6eefb\"});if(field===\"photo\"){const src=photoSrc(item[field]);return/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},baseCellStyle),{},{padding:6,textAlign:\"center\",minWidth:50,maxWidth:70,width:60,verticalAlign:\"middle\",background:\"#fff\"}),children:src?/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"photo\",style:{width:50,height:36,objectFit:\"cover\",borderRadius:6,display:\"block\",margin:\"0 auto\"}}):\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"salaire\"||field===\"avance\"){const formatted=formatCurrency(item[field]);return/*#__PURE__*/_jsx(\"td\",{style:baseCellStyle,children:formatted||\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"date_dentree\"||field===\"date_sortie\"){return/*#__PURE__*/_jsx(\"td\",{style:baseCellStyle,children:formatDateToFR(item[field])||\"-\"},\"\".concat(item.id,\"-\").concat(field));}return/*#__PURE__*/_jsx(\"td\",{style:baseCellStyle,children:(_item$field=item[field])!==null&&_item$field!==void 0?_item$field:\"-\"},\"\".concat(item.id,\"-\").concat(field));}// Drawer buttons\nconst drawerLeft=/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.drawer),{},{left:20,right:\"unset\",bottom:28}),children:[/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleAdd,children:T.addButton}),/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleEdit,children:T.editButton}),/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleDelete,children:T.deleteButton})]});const drawerRight=/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.drawer),{},{right:20,left:\"unset\",bottom:28}),children:[/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.drawerButton),{},{background:\"#3477eb\",color:\"#fff\"}),onClick:handleHistorique,children:T.printLabel}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.drawerButton),{},{background:\"#fff\",border:\"1px solid #e6eefb\",color:\"#14355f\",fontWeight:700}),onClick:handleOpenPointage,children:T.pointageButton})]});return/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.container),directionStyle),children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:T.title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,marginBottom:12,alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.searchWrap),{},{maxWidth:420}),children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:8},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:T.searchPlaceholder,value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);setSelectedIndex(null);},style:styles.searchInput})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"auto\",display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDC65 \",T.totalStaff,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:totalStaff})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDCB0 \",T.totalSalaire,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:formatCurrency(totalSalaire)})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDCB8 \",T.totalAvance,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:formatCurrency(totalAvance)})]})]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{style:{padding:40,textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{style:styles.spinner})}):/*#__PURE__*/_jsx(\"div\",{style:styles.tableWrap,children:/*#__PURE__*/_jsxs(\"table\",{style:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:styles.tableHeaderRow,children:[/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},styles.tableHeader),{},{borderRight:\"1px solid #e6eefb\",width:36,minWidth:24,maxWidth:40}),children:\"#\"}),tableFieldsOrder.map((field,i)=>{const isLastHeader=i===tableFieldsOrder.length-1;return/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},styles.tableHeader),{},{borderRight:isLastHeader?\"none\":\"1px solid #e6eefb\"},field===\"photo\"?{minWidth:50,maxWidth:70,width:60}:{}),children:headerLabelForField(field)},field);})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.length?filtered.map((p,i)=>{var _p$id;return/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>setSelectedIndex(i),style:_objectSpread(_objectSpread({},styles.tableRow),{},{background:i===selectedIndex?\"#cce5ff\":i%2===0?\"#fff\":\"#f4f8ff\",cursor:\"pointer\"}),children:[/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},styles.tableCell),{},{width:36,minWidth:24,maxWidth:40,textAlign:\"left\",borderRight:\"1px solid #e6eefb\"}),children:i+1}),tableFieldsOrder.map((field,idx)=>renderTableCell(p,field,idx))]},(_p$id=p.id)!==null&&_p$id!==void 0?_p$id:i);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:1+tableFieldsOrder.length,style:{padding:\"1rem\",textAlign:\"center\",color:\"#666\"},children:T.errorLoad})})})]})}),drawerLeft,drawerRight,showModal&&/*#__PURE__*/_jsx(\"div\",{style:styles.modalOverlay,children:/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.modal),isRtl?{direction:\"rtl\",textAlign:\"right\"}:{}),children:[/*#__PURE__*/_jsx(\"h3\",{children:modalMode===\"add\"?T.addButton:T.editButton}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSave,style:styles.form,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.nom,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.nom,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{nom:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.prenom,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.prenom,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{prenom:e.target.value})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.poste,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.poste,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{poste:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.telephone,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.telephone,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{telephone:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.adresse,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.adresse,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{adresse:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.date_dentree,/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date_dentree?formatDateToISO(form.date_dentree):\"\",onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{date_dentree:e.target.value?formatDateToFR(e.target.value):\"\"})),style:styles.input})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.date_sortie,/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date_sortie?formatDateToISO(form.date_sortie):\"\",onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{date_sortie:e.target.value?formatDateToFR(e.target.value):\"\"})),style:styles.input})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.numero_assurance,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.numero_assurance,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{numero_assurance:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.salaire,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.salaire,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{salaire:e.target.value})),type:\"number\",min:0,step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.avance,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.avance,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{avance:e.target.value})),type:\"number\",min:0,step:\"0.01\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,alignItems:\"flex-start\",marginTop:6},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.photo,/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>handlePhotoChange(e.target.files[0]),style:{marginTop:6}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:110},children:form.photo?/*#__PURE__*/_jsx(\"img\",{src:photoSrc(form.photo),alt:\"preview\",style:{width:100,height:72,objectFit:\"cover\",borderRadius:6}}):null})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",gap:8,marginTop:12},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.saveButton,children:T.save}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:styles.cancelButton,onClick:()=>setShowModal(false),children:T.cancel})]})]})]})})]});}const styles={container:{padding:\"1.25rem\",position:\"relative\",minHeight:\"100vh\",boxSizing:\"border-box\"},searchWrap:{flex:1,maxWidth:420,display:\"flex\",alignItems:\"center\",gap:8},searchInput:{width:\"100%\",padding:\"0.5rem\",borderRadius:6,border:\"1px solid #ccc\",fontSize:\"1rem\"},spinner:{margin:\"60px auto\",border:\"8px solid #eee\",borderTop:\"8px solid #3477eb\",borderRadius:\"50%\",width:48,height:48,animation:\"spin 1s linear infinite\"},tableWrap:{maxHeight:\"60vh\",overflowY:\"auto\",border:\"1px solid #e0e0e0\",borderRadius:6,background:\"#fff\"},table:{width:\"100%\",borderCollapse:\"separate\",tableLayout:\"fixed\",borderSpacing:0},tableHeaderRow:{background:\"#f1f6ff\"},tableHeader:{textAlign:\"left\",padding:\"0.6rem\",borderBottom:\"1px solid #e2e8f0\",background:\"#f1f6ff\",fontWeight:700},tableRow:{cursor:\"pointer\"},tableCell:{padding:\"0.45rem 0.6rem\",borderBottom:\"1px solid #f0f4fb\",verticalAlign:\"middle\",wordBreak:\"break-word\"},drawer:{position:\"fixed\",background:\"transparent\",padding:\"1rem\",borderRadius:\"8px\",boxShadow:\"0 2px 8px rgba(0,0,0,0.15)\",display:\"flex\",flexDirection:\"row\",gap:\"0.5rem\",zIndex:8,minWidth:0,width:\"auto\",alignItems:\"center\"},drawerButton:{display:\"flex\",alignItems:\"center\",gap:\"0.3rem\",padding:\"0.5rem 1rem\",fontSize:\"1rem\",color:\"#3477eb\",background:\"#eaf3ff\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\",transition:\"background 0.2s\"},summaryBadge:{padding:\"0.4rem 0.6rem\",background:\"rgba(255,255,255,0.9)\",borderRadius:8,border:\"1px solid #e6eefb\",display:\"flex\",alignItems:\"center\",gap:8,fontWeight:700,color:\"#14355f\"},modalOverlay:{position:\"fixed\",inset:0,background:\"rgba(0,0,0,0.45)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",zIndex:999},modal:{background:\"#fff\",padding:20,borderRadius:10,width:\"92%\",maxWidth:820,boxShadow:\"0 8px 30px rgba(0,0,0,0.2)\"},form:{display:\"flex\",flexDirection:\"column\",gap:12},row:{display:\"flex\",gap:12},label:{flex:1,display:\"flex\",flexDirection:\"column\",fontSize:14,color:\"#333\"},input:{marginTop:6,padding:\"0.5rem\",borderRadius:6,border:\"1px solid #ccc\",fontSize:14},saveButton:{padding:\"0.55rem 1rem\",background:\"#3477eb\",color:\"#fff\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:700},cancelButton:{padding:\"0.45rem 0.9rem\",background:\"#f1f4f8\",color:\"#333\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:700}};export default PersonelPage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","TABLE_FIELDS","translations","fr","title","addButton","editButton","deleteButton","save","cancel","searchPlaceholder","selectRowAlert","confirmDelete","name","concat","tableHeaders","modalLabels","nom","prenom","poste","telephone","adresse","date_dentree","date_sortie","numero_assurance","salaire","avance","photo","errorLoad","errorSave","errorDelete","totalStaff","totalSalaire","totalAvance","pointageButton","printLabel","ar","photoSrc","val","startsWith","formatCurrency","value","undefined","cleaned","String","replace","num","parseFloat","Number","isNaN","toLocaleString","minimumFractionDigits","maximumFractionDigits","unformatNumber","trim","formatDateToFR","dateString","test","yyyy","mm","dd","split","formatDateToISO","isArabic","str","PersonelPage","_ref","locale","T","personel","setPersonel","selectedIndex","setSelectedIndex","searchQuery","setSearchQuery","showModal","setShowModal","modalMode","setModalMode","form","setForm","id","arErrors","setArErrors","isLoading","setIsLoading","isDeleting","setIsDeleting","isRtl","tableFieldsOrder","directionStyle","direction","headerLabelForField","field","idx","indexOf","fetchPersonel","res","window","pywebview","api","get_personnel","normalized","map","r","_objectSpread","num_assurance","err","console","error","alert","message","filtered","filter","p","q","toLowerCase","includes","length","reduce","s","emptyForm","handleAdd","handleEdit","_sel$id","_sel$nom","_sel$prenom","_sel$poste","_sel$telephone","_sel$adresse","_sel$numero_assurance","_sel$photo","sel","handleDelete","confirm","resp","delete_personnel","prev","handleSave","e","_e$preventDefault","preventDefault","call","newErrors","f","Object","keys","endsWith","saisieArabe","values","some","Boolean","payload","result","add_personnel","update_personnel","handlePhotoChange","file","reader","FileReader","onload","readAsDataURL","handleOpenPointage","detail","personnel","mod","openPointage","impErr","warn","dispatchEvent","CustomEvent","handleHistorique","openHistorique","default","renderTableCell","item","_item$field","isLast","baseCellStyle","styles","tableCell","borderRight","src","style","padding","textAlign","minWidth","maxWidth","width","verticalAlign","background","children","alt","height","objectFit","borderRadius","display","margin","formatted","drawerLeft","drawer","left","right","bottom","drawerButton","onClick","drawerRight","color","border","fontWeight","container","gap","marginBottom","alignItems","searchWrap","marginRight","placeholder","onChange","target","searchInput","marginLeft","summaryBadge","spinner","tableWrap","table","tableHeaderRow","tableHeader","i","isLastHeader","_p$id","tableRow","cursor","colSpan","modalOverlay","modal","onSubmit","row","label","input","required","type","min","step","marginTop","flex","accept","files","justifyContent","saveButton","cancelButton","position","minHeight","boxSizing","fontSize","borderTop","animation","maxHeight","overflowY","borderCollapse","tableLayout","borderSpacing","borderBottom","wordBreak","boxShadow","flexDirection","zIndex","transition","inset"],"sources":["C:/Users/R-TECH/Desktop/00/my-app/src/personel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\n/*\n  personel.js\n\n  Updated to render the personnel table RTL when locale is Arabic so the visible column\n  order is: #, ÿßŸÑŸÑŸÇÿ® (nom), ÿßŸÑÿßÿ≥ŸÖ (prenom), ... (right-to-left). Data columns always\n  align with headers. When Arabic:\n   - the outer container uses direction: rtl so the table reads right-to-left\n   - we still render columns in logical order (# then TABLE_FIELDS) so the first visible\n     column on the right is '#' and the next is 'ÿßŸÑŸÑŸÇÿ®' and so on ‚Äî matching client.js\n*/\n\nconst TABLE_FIELDS = [\n  \"nom\",\n  \"prenom\",\n  \"poste\",\n  \"telephone\",\n  \"adresse\",\n  \"date_dentree\",\n  \"date_sortie\",\n  \"numero_assurance\",\n  \"salaire\",\n  \"avance\",\n  \"photo\"\n];\n\nconst translations = {\n  fr: {\n    title: \"Personnel\",\n    addButton: \"‚ûï Ajouter\",\n    editButton: \"‚úèÔ∏è Modifier\",\n    deleteButton: \"üóëÔ∏è Supprimer\",\n    save: \"Enregistrer\",\n    cancel: \"Annuler\",\n    searchPlaceholder: \"Rechercher...\",\n    selectRowAlert: \"Veuillez s√©lectionner un membre du personnel.\",\n    confirmDelete: (name) => `Supprimer ${name} ?`,\n    tableHeaders: [\n      \"#\",\n      \"Nom\",\n      \"Pr√©nom\",\n      \"Poste\",\n      \"T√©l√©phone\",\n      \"Adresse\",\n      \"Date d'entr√©e\",\n      \"Date de sortie\",\n      \"N¬∞ d'assurance\",\n      \"Salaire\",\n      \"Avance\",\n      \"Photo\"\n    ],\n    modalLabels: {\n      nom: \"Nom\",\n      prenom: \"Pr√©nom\",\n      poste: \"Poste\",\n      telephone: \"T√©l√©phone\",\n      adresse: \"Adresse\",\n      date_dentree: \"Date d'entr√©e\",\n      date_sortie: \"Date de sortie\",\n      numero_assurance: \"N¬∞ d'assurance\",\n      salaire: \"Salaire\",\n      avance: \"Avance\",\n      photo: \"Photo (jpg/png)\"\n    },\n    errorLoad: \"Erreur lors du chargement du personnel\",\n    errorSave: \"Erreur lors de l'enregistrement\",\n    errorDelete: \"Erreur lors de la suppression\",\n    totalStaff: \"Total Personnel\",\n    totalSalaire: \"Salaire Total\",\n    totalAvance: \"Avance Totale\",\n    pointageButton: \"üìã Pointage\",\n    printLabel: \"Historique\"\n  },\n  ar: {\n    title: \"ÿßŸÑŸÖŸàÿ∏ŸÅŸàŸÜ\",\n    addButton: \"‚ûï ÿ•ÿ∂ÿßŸÅÿ©\",\n    editButton: \"‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ\",\n    deleteButton: \"üóëÔ∏è ÿ≠ÿ∞ŸÅ\",\n    save: \"ÿ≠ŸÅÿ∏\",\n    cancel: \"ÿ•ŸÑÿ∫ÿßÿ°\",\n    searchPlaceholder: \"ÿ®ÿ≠ÿ´...\",\n    selectRowAlert: \"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàÿ∏ŸÅ.\",\n    confirmDelete: (name) => `ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ≠ÿ∞ŸÅ ${name}ÿü`,\n    tableHeaders: [\n      \"#\",\n      \"ÿßŸÑŸÑŸÇÿ®\",\n      \"ÿßŸÑÿßÿ≥ŸÖ\",\n      \"ÿßŸÑŸÖŸÜÿµÿ®\",\n      \"ÿßŸÑŸáÿßÿ™ŸÅ\",\n      \"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\n      \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\n      \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\n      \"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\n      \"ÿßŸÑÿ±ÿßÿ™ÿ®\",\n      \"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\n      \"ÿßŸÑÿµŸàÿ±ÿ©\"\n    ],\n    modalLabels: {\n      nom: \"ÿßŸÑŸÑŸÇÿ®\",\n      prenom: \"ÿßŸÑÿßÿ≥ŸÖ\",\n      poste: \"ÿßŸÑŸÖŸÜÿµÿ®\",\n      telephone: \"ÿßŸÑŸáÿßÿ™ŸÅ\",\n      adresse: \"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\n      date_dentree: \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\n      date_sortie: \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\n      numero_assurance: \"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\n      salaire: \"ÿßŸÑÿ±ÿßÿ™ÿ®\",\n      avance: \"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\n      photo: \"ÿßŸÑÿµŸàÿ±ÿ© (jpg/png)\"\n    },\n    errorLoad: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",\n    errorSave: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏\",\n    errorDelete: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ\",\n    totalStaff: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",\n    totalSalaire: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ±Ÿàÿßÿ™ÿ®\",\n    totalAvance: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≥ŸÑŸÅ\",\n    pointageButton: \"üìã ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿ≠ÿ∂Ÿàÿ±\",\n    printLabel: \"ÿßŸÑÿ≥ÿ¨ŸÑ\"\n  }\n};\n\n// Helpers\nfunction photoSrc(val) {\n  if (!val) return null;\n  if (typeof val !== \"string\") return null;\n  if (val.startsWith(\"data:\")) return val;\n  return `data:image/png;base64,${val}`;\n}\n\nfunction formatCurrency(value) {\n  if (value === undefined || value === null || value === \"\") return \"\";\n  const cleaned = String(value).replace(/\\s+/g, \"\").replace(/,/g, \"\");\n  const num = parseFloat(cleaned);\n  if (Number.isNaN(num)) return String(value);\n  return num.toLocaleString(\"fr-FR\", { minimumFractionDigits: 2, maximumFractionDigits: 2 }).replace(/\\u202f/g, \" \");\n}\n\nfunction unformatNumber(value) {\n  if (value === undefined || value === null) return \"\";\n  return String(value).replace(/\\s+/g, \"\").replace(/,/g, \"\").trim();\n}\n\nfunction formatDateToFR(dateString) {\n  if (!dateString) return \"\";\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    const [yyyy, mm, dd] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    const [dd, mm, yyyy] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    return dateString;\n  }\n  return dateString;\n}\n\nfunction formatDateToISO(dateString) {\n  if (!dateString) return \"\";\n  let dd, mm, yyyy;\n  if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"/\");\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"-\");\n  } else if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    return dateString;\n  }\n  if (yyyy && mm && dd) {\n    return `${yyyy}-${mm}-${dd}`;\n  }\n  return dateString;\n}\n\nfunction isArabic(str) {\n  return /^[\\u0600-\\u06FF\\s]+$/.test(str);\n}\n\nfunction PersonelPage({ locale = \"fr\" }) {\n  const T = translations[locale] || translations.fr;\n\n  const [personel, setPersonel] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [modalMode, setModalMode] = useState(\"add\"); // add | edit\n  const [form, setForm] = useState({\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    poste: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    date_dentree: \"\",\n    date_sortie: \"\",\n    numero_assurance: \"\",\n    salaire: \"\",\n    avance: \"\",\n    photo: \"\"\n  });\n  const [arErrors, setArErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const isRtl = locale === \"ar\";\n\n  // data order - always derived from TABLE_FIELDS\n  // We render columns in the logical order: numbering column (#) then TABLE_FIELDS.\n  // With the container set to direction: rtl when Arabic, the visual result will be:\n  // right-most column -> #, next -> ÿßŸÑŸÑŸÇÿ® (nom), next -> ÿßŸÑÿßÿ≥ŸÖ (prenom), etc.\n  const tableFieldsOrder = [...TABLE_FIELDS];\n\n  const directionStyle = isRtl ? { direction: \"rtl\" } : { direction: \"ltr\" };\n\n  // Helper to get header label for a field (TABLE_FIELDS index -> T.tableHeaders index+1)\n  const headerLabelForField = (field) => {\n    const idx = TABLE_FIELDS.indexOf(field);\n    if (idx === -1) return field;\n    return T.tableHeaders[idx + 1] || field; // +1 because tableHeaders[0] is \"#\"\n  };\n\n  // Fetch personnel\n  const fetchPersonel = async () => {\n    setIsLoading(true);\n    try {\n      const res = await window.pywebview.api.get_personnel();\n      const normalized = (res || []).map(r => ({\n        ...r,\n        salaire: r.salaire !== undefined && r.salaire !== null ? String(r.salaire) : \"\",\n        avance: r.avance !== undefined && r.avance !== null ? String(r.avance) : \"\",\n        date_dentree: r.date_dentree || \"\",\n        date_sortie: r.date_sortie || \"\",\n        numero_assurance: r.numero_assurance || r.num_assurance || \"\",\n        photo: r.photo || \"\"\n      }));\n      setPersonel(normalized);\n    } catch (err) {\n      console.error(\"Failed to fetch personnel:\", err);\n      setPersonel([]);\n      alert(T.errorLoad + (err?.message ? `: ${err.message}` : \"\"));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPersonel();\n    // eslint-disable-next-line\n  }, [locale]);\n\n  // Filtering\n  const filtered = personel.filter((p) => {\n    const q = searchQuery.trim().toLowerCase();\n    if (!q) return true;\n    return (\n      (p.nom || \"\").toLowerCase().includes(q) ||\n      (p.prenom || \"\").toLowerCase().includes(q) ||\n      (p.poste || \"\").toLowerCase().includes(q) ||\n      (p.telephone || \"\").toLowerCase().includes(q) ||\n      (p.adresse || \"\").toLowerCase().includes(q)\n    );\n  });\n\n  // Totals\n  const totalStaff = filtered.length;\n  const totalSalaire = filtered.reduce((s, p) => {\n    const val = parseFloat(String(p.salaire || \"0\").replace(/\\s+/g, \"\").replace(\",\", \".\"));\n    return s + (isNaN(val) ? 0 : val);\n  }, 0);\n  const totalAvance = filtered.reduce((s, p) => {\n    const val = parseFloat(String(p.avance || \"0\").replace(/\\s+/g, \"\").replace(\",\", \".\"));\n    return s + (isNaN(val) ? 0 : val);\n  }, 0);\n\n  const emptyForm = {\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    poste: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    date_dentree: \"\",\n    date_sortie: \"\",\n    numero_assurance: \"\",\n    salaire: \"\",\n    avance: \"\",\n    photo: \"\"\n  };\n\n  const handleAdd = () => {\n    setModalMode(\"add\");\n    setForm({ ...emptyForm });\n    setArErrors({});\n    setShowModal(true);\n  };\n\n  const handleEdit = () => {\n    if (selectedIndex === null || filtered[selectedIndex] === undefined) {\n      alert(T.selectRowAlert);\n      return;\n    }\n    const sel = filtered[selectedIndex];\n    setModalMode(\"edit\");\n    setForm({\n      id: sel.id ?? null,\n      nom: sel.nom ?? \"\",\n      prenom: sel.prenom ?? \"\",\n      poste: sel.poste ?? \"\",\n      telephone: sel.telephone ?? \"\",\n      adresse: sel.adresse ?? \"\",\n      date_dentree: sel.date_dentree ? formatDateToFR(sel.date_dentree) : \"\",\n      date_sortie: sel.date_sortie ? formatDateToFR(sel.date_sortie) : \"\",\n      numero_assurance: sel.numero_assurance ?? \"\",\n      salaire: sel.salaire !== undefined && sel.salaire !== null ? String(sel.salaire) : \"\",\n      avance: sel.avance !== undefined && sel.avance !== null ? String(sel.avance) : \"\",\n      photo: sel.photo ?? \"\"\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = async () => {\n    if (selectedIndex === null || filtered[selectedIndex] === undefined) {\n      alert(T.selectRowAlert);\n      return;\n    }\n    const sel = filtered[selectedIndex];\n    const name = `${sel.nom || \"\"} ${sel.prenom || \"\"}`.trim() || sel.id || \"\";\n    if (!window.confirm(T.confirmDelete(name))) return;\n    try {\n      setIsDeleting(true);\n      const resp = await window.pywebview.api.delete_personnel(sel.id);\n      if (resp === 0 || resp === false) {\n        alert(T.errorDelete);\n      } else {\n        setPersonel(prev => prev.filter(p => p.id !== sel.id));\n        setSelectedIndex(null);\n      }\n    } catch (err) {\n      console.error(\"Delete error:\", err);\n      alert(T.errorDelete + (err?.message ? `: ${err.message}` : \"\"));\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleSave = async (e) => {\n    e?.preventDefault?.();\n    let newErrors = {};\n    for (const f of Object.keys(form)) {\n      if (f.endsWith(\"_ar\") && form[f] && !isArabic(form[f])) {\n        newErrors[f] = translations[locale].saisieArabe || \"Saisie arabe requise\";\n      }\n    }\n    setArErrors(newErrors);\n    if (Object.values(newErrors).some(Boolean)) return;\n\n    try {\n      const payload = {\n        ...form,\n        salaire: unformatNumber(form.salaire),\n        avance: unformatNumber(form.avance),\n        date_dentree: formatDateToISO(form.date_dentree),\n        date_sortie: formatDateToISO(form.date_sortie)\n      };\n\n      let result;\n      if (modalMode === \"add\") {\n        result = await window.pywebview.api.add_personnel(payload);\n      } else {\n        result = await window.pywebview.api.update_personnel(payload);\n      }\n\n      if (!result) {\n        alert(T.errorSave + (result && result.error ? `: ${result.error}` : \" (voir console)\"));\n        return;\n      }\n\n      if (modalMode === \"add\") {\n        setPersonel(prev => [...prev, {\n          ...result,\n          salaire: result.salaire !== undefined && result.salaire !== null ? String(result.salaire) : \"\",\n          avance: result.avance !== undefined && result.avance !== null ? String(result.avance) : \"\",\n          photo: result.photo || \"\"\n        }]);\n      } else {\n        setPersonel(prev => prev.map(p => p.id === result.id ? {\n          ...result,\n          salaire: result.salaire !== undefined && result.salaire !== null ? String(result.salaire) : \"\",\n          avance: result.avance !== undefined && result.avance !== null ? String(result.avance) : \"\",\n          photo: result.photo || \"\"\n        } : p));\n      }\n\n      setShowModal(false);\n      setForm({ ...emptyForm });\n    } catch (err) {\n      console.error(\"Save error:\", err);\n      alert(T.errorSave + (err?.message ? `: ${err.message}` : \"\"));\n    }\n  };\n\n  const handlePhotoChange = (file) => {\n    if (!file) {\n      setForm((s) => ({ ...s, photo: \"\" }));\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = () => {\n      setForm((s) => ({ ...s, photo: reader.result }));\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleOpenPointage = async () => {\n    const detail = { locale, translations, personnel: null };\n    if (selectedIndex !== null && filtered[selectedIndex]) detail.personnel = filtered[selectedIndex];\n    try {\n      const mod = await import(\"./pointage\");\n      if (mod && typeof mod.openPointage === \"function\") {\n        mod.openPointage(detail);\n        return;\n      }\n    } catch (impErr) {\n      console.warn(\"Could not dynamically import ./pointage (will dispatch event).\", impErr);\n    }\n    window.dispatchEvent(new CustomEvent(\"openPointage\", { detail }));\n  };\n\n  const handleHistorique = async () => {\n    const detail = { locale, translations, personnel: null };\n    if (selectedIndex !== null && filtered[selectedIndex]) detail.personnel = filtered[selectedIndex];\n    try {\n      const mod = await import(\"./hystorique\");\n      if (mod && typeof mod.openHistorique === \"function\") {\n        mod.openHistorique(detail);\n        return;\n      }\n      if (mod && typeof mod.default === \"function\") {\n        mod.default(detail);\n        return;\n      }\n    } catch (impErr) {\n      console.warn(\"Could not dynamically import ./hystorique (will dispatch event).\", impErr);\n    }\n    window.dispatchEvent(new CustomEvent(\"openHystorique\", { detail }));\n  };\n\n  // Render cell helper: field is one of TABLE_FIELDS so mapping is consistent\n  function renderTableCell(item, field, idx) {\n    const isLast = idx === tableFieldsOrder.length - 1;\n    const baseCellStyle = {\n      ...styles.tableCell,\n      borderRight: isLast ? \"none\" : \"1px solid #e6eefb\"\n    };\n\n    if (field === \"photo\") {\n      const src = photoSrc(item[field]);\n      return (\n        <td\n          key={`${item.id}-${field}`}\n          style={{\n            ...baseCellStyle,\n            padding: 6,\n            textAlign: \"center\",\n            minWidth: 50,\n            maxWidth: 70,\n            width: 60,\n            verticalAlign: \"middle\",\n            background: \"#fff\"\n          }}\n        >\n          {src ? (\n            <img\n              src={src}\n              alt=\"photo\"\n              style={{\n                width: 50,\n                height: 36,\n                objectFit: \"cover\",\n                borderRadius: 6,\n                display: \"block\",\n                margin: \"0 auto\"\n              }}\n            />\n          ) : (\n            \"-\"\n          )}\n        </td>\n      );\n    }\n\n    if (field === \"salaire\" || field === \"avance\") {\n      const formatted = formatCurrency(item[field]);\n      return (\n        <td key={`${item.id}-${field}`} style={baseCellStyle}>\n          {formatted || \"-\"}\n        </td>\n      );\n    }\n\n    if (field === \"date_dentree\" || field === \"date_sortie\") {\n      return (\n        <td key={`${item.id}-${field}`} style={baseCellStyle}>\n          {formatDateToFR(item[field]) || \"-\"}\n        </td>\n      );\n    }\n\n    return (\n      <td key={`${item.id}-${field}`} style={baseCellStyle}>\n        {item[field] ?? \"-\"}\n      </td>\n    );\n  }\n\n  // Drawer buttons\n  const drawerLeft = (\n    <div style={{ ...styles.drawer, left: 20, right: \"unset\", bottom: 28 }}>\n      <button style={styles.drawerButton} onClick={handleAdd}>{T.addButton}</button>\n      <button style={styles.drawerButton} onClick={handleEdit}>{T.editButton}</button>\n      <button style={styles.drawerButton} onClick={handleDelete}>{T.deleteButton}</button>\n    </div>\n  );\n\n  const drawerRight = (\n    <div style={{ ...styles.drawer, right: 20, left: \"unset\", bottom: 28 }}>\n      <button style={{ ...styles.drawerButton, background: \"#3477eb\", color: \"#fff\" }} onClick={handleHistorique}>\n        {T.printLabel}\n      </button>\n      <button\n        style={{ ...styles.drawerButton, background: \"#fff\", border: \"1px solid #e6eefb\", color: \"#14355f\", fontWeight: 700 }}\n        onClick={handleOpenPointage}\n      >\n        {T.pointageButton}\n      </button>\n    </div>\n  );\n\n  return (\n    <div style={{ ...styles.container, ...directionStyle }}>\n      <h2 style={{ textAlign: \"center\" }}>{T.title}</h2>\n\n      <div style={{ display: \"flex\", gap: 12, marginBottom: 12, alignItems: \"center\" }}>\n        <div style={{ ...styles.searchWrap, maxWidth: 420 }}>\n          <span style={{ marginRight: 8 }}>üîç</span>\n          <input\n            placeholder={T.searchPlaceholder}\n            value={searchQuery}\n            onChange={(e) => { setSearchQuery(e.target.value); setSelectedIndex(null); }}\n            style={styles.searchInput}\n          />\n        </div>\n\n        <div style={{ marginLeft: \"auto\", display: \"flex\", gap: 8 }}>\n          <div style={styles.summaryBadge}>\n            üë• {T.totalStaff}: <strong style={{ marginLeft: 6 }}>{totalStaff}</strong>\n          </div>\n          <div style={styles.summaryBadge}>\n            üí∞ {T.totalSalaire}: <strong style={{ marginLeft: 6 }}>{formatCurrency(totalSalaire)}</strong>\n          </div>\n          <div style={styles.summaryBadge}>\n            üí∏ {T.totalAvance}: <strong style={{ marginLeft: 6 }}>{formatCurrency(totalAvance)}</strong>\n          </div>\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div style={{ padding: 40, textAlign: \"center\" }}>\n          <div style={styles.spinner}></div>\n        </div> \n      ) : (\n        <div style={styles.tableWrap}>\n          <table style={styles.table}>\n            <thead>\n              <tr style={styles.tableHeaderRow}>\n                {/* numbering header first */}\n                <th\n                  style={{\n                    ...styles.tableHeader,\n                    borderRight: \"1px solid #e6eefb\",\n                    width: 36,\n                    minWidth: 24,\n                    maxWidth: 40\n                  }}\n                >\n                  #\n                </th>\n\n                {/* Render headers in the same logical order as data columns (TABLE_FIELDS),\n                    header text is taken from translations and will be in Arabic when locale is 'ar' */}\n                {tableFieldsOrder.map((field, i) => {\n                  const isLastHeader = i === tableFieldsOrder.length - 1;\n                  return (\n                    <th\n                      key={field}\n                      style={{\n                        ...styles.tableHeader,\n                        borderRight: isLastHeader ? \"none\" : \"1px solid #e6eefb\",\n                        ...(field === \"photo\" ? { minWidth: 50, maxWidth: 70, width: 60 } : {})\n                      }}\n                    >\n                      {headerLabelForField(field)}\n                    </th>\n                  );\n                })}\n              </tr>\n            </thead>\n            <tbody>\n              {filtered.length ? (\n                filtered.map((p, i) => (\n                  <tr\n                    key={p.id ?? i}\n                    onClick={() => setSelectedIndex(i)}\n                    style={{\n                      ...styles.tableRow,\n                      background: i === selectedIndex ? \"#cce5ff\" : i % 2 === 0 ? \"#fff\" : \"#f4f8ff\",\n                      cursor: \"pointer\"\n                    }}\n                  >\n                    {/* numbering column */}\n                    <td style={{ ...styles.tableCell, width: 36, minWidth: 24, maxWidth: 40, textAlign: \"left\", borderRight: \"1px solid #e6eefb\" }}>{i + 1}</td>\n\n                    {/* render cells in the same logical order as headers */}\n                    {tableFieldsOrder.map((field, idx) => renderTableCell(p, field, idx))}\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan={1 + tableFieldsOrder.length} style={{ padding: \"1rem\", textAlign: \"center\", color: \"#666\" }}>\n                    {T.errorLoad}\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {drawerLeft}\n      {drawerRight}\n\n      {/* Modal */}\n      {showModal && (\n        <div style={styles.modalOverlay}>\n          <div style={{ ...styles.modal, ...(isRtl ? { direction: \"rtl\", textAlign: \"right\" } : {}) }}>\n            <h3>{modalMode === \"add\" ? T.addButton : T.editButton}</h3>\n            <form onSubmit={handleSave} style={styles.form}>\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.nom}\n                  <input style={styles.input} value={form.nom} onChange={(e) => setForm({ ...form, nom: e.target.value })} required />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.prenom}\n                  <input style={styles.input} value={form.prenom} onChange={(e) => setForm({ ...form, prenom: e.target.value })} required />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.poste}\n                  <input style={styles.input} value={form.poste} onChange={(e) => setForm({ ...form, poste: e.target.value })} />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.telephone}\n                  <input style={styles.input} value={form.telephone} onChange={(e) => setForm({ ...form, telephone: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.adresse}\n                  <input style={styles.input} value={form.adresse} onChange={(e) => setForm({ ...form, adresse: e.target.value })} />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.date_dentree}\n                  <input\n                    type=\"date\"\n                    value={form.date_dentree ? formatDateToISO(form.date_dentree) : \"\"}\n                    onChange={(e) => setForm(prev => ({ ...prev, date_dentree: e.target.value ? formatDateToFR(e.target.value) : \"\" }))}\n                    style={styles.input}\n                  />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.date_sortie}\n                  <input\n                    type=\"date\"\n                    value={form.date_sortie ? formatDateToISO(form.date_sortie) : \"\"}\n                    onChange={(e) => setForm(prev => ({ ...prev, date_sortie: e.target.value ? formatDateToFR(e.target.value) : \"\" }))}\n                    style={styles.input}\n                  />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.numero_assurance}\n                  <input style={styles.input} value={form.numero_assurance} onChange={(e) => setForm({ ...form, numero_assurance: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.salaire}\n                  <input\n                    style={styles.input}\n                    value={form.salaire}\n                    onChange={(e) => setForm({ ...form, salaire: e.target.value })}\n                    type=\"number\"\n                    min={0}\n                    step=\"0.01\"\n                  />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.avance}\n                  <input\n                    style={styles.input}\n                    value={form.avance}\n                    onChange={(e) => setForm({ ...form, avance: e.target.value })}\n                    type=\"number\"\n                    min={0}\n                    step=\"0.01\"\n                  />\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 12, alignItems: \"flex-start\", marginTop: 6 }}>\n                <div style={{ flex: 1 }}>\n                  <label style={styles.label}>\n                    {T.modalLabels.photo}\n                    <input type=\"file\" accept=\"image/*\" onChange={(e) => handlePhotoChange(e.target.files[0])} style={{ marginTop: 6 }} />\n                  </label>\n                </div>\n                <div style={{ width: 110 }}>\n                  {form.photo ? (\n                    <img src={photoSrc(form.photo)} alt=\"preview\" style={{ width: 100, height: 72, objectFit: \"cover\", borderRadius: 6 }} />\n                  ) : null}\n                </div>\n              </div>\n\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8, marginTop: 12 }}>\n                <button type=\"submit\" style={styles.saveButton}>{T.save}</button>\n                <button type=\"button\" style={styles.cancelButton} onClick={() => setShowModal(false)}>{T.cancel}</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    padding: \"1.25rem\",\n    position: \"relative\",\n    minHeight: \"100vh\",\n    boxSizing: \"border-box\"\n  },\n  searchWrap: {\n    flex: 1,\n    maxWidth: 420,\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 8\n  },\n  searchInput: {\n    width: \"100%\",\n    padding: \"0.5rem\",\n    borderRadius: 6,\n    border: \"1px solid #ccc\",\n    fontSize: \"1rem\"\n  },\n  spinner: {\n    margin: \"60px auto\",\n    border: \"8px solid #eee\",\n    borderTop: \"8px solid #3477eb\",\n    borderRadius: \"50%\",\n    width: 48,\n    height: 48,\n    animation: \"spin 1s linear infinite\"\n  },\n  tableWrap: {\n    maxHeight: \"60vh\",\n    overflowY: \"auto\",\n    border: \"1px solid #e0e0e0\",\n    borderRadius: 6,\n    background: \"#fff\"\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"separate\",\n    tableLayout: \"fixed\",\n    borderSpacing: 0\n  },\n  tableHeaderRow: {\n    background: \"#f1f6ff\"\n  },\n  tableHeader: {\n    textAlign: \"left\",\n    padding: \"0.6rem\",\n    borderBottom: \"1px solid #e2e8f0\",\n    background: \"#f1f6ff\",\n    fontWeight: 700\n  },\n  tableRow: {\n    cursor: \"pointer\"\n  },\n  tableCell: {\n    padding: \"0.45rem 0.6rem\",\n    borderBottom: \"1px solid #f0f4fb\",\n    verticalAlign: \"middle\",\n    wordBreak: \"break-word\"\n  },\n  drawer: {\n    position: \"fixed\",\n    background: \"transparent\",\n    padding: \"1rem\",\n    borderRadius: \"8px\",\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    gap: \"0.5rem\",\n    zIndex: 8,\n    minWidth: 0,\n    width: \"auto\",\n    alignItems: \"center\"\n  },\n  drawerButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"0.3rem\",\n    padding: \"0.5rem 1rem\",\n    fontSize: \"1rem\",\n    color: \"#3477eb\",\n    background: \"#eaf3ff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n    transition: \"background 0.2s\"\n  },\n  summaryBadge: {\n    padding: \"0.4rem 0.6rem\",\n    background: \"rgba(255,255,255,0.9)\",\n    borderRadius: 8,\n    border: \"1px solid #e6eefb\",\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 8,\n    fontWeight: 700,\n    color: \"#14355f\"\n  },\n  modalOverlay: {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(0,0,0,0.45)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 999\n  },\n  modal: {\n    background: \"#fff\",\n    padding: 20,\n    borderRadius: 10,\n    width: \"92%\",\n    maxWidth: 820,\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.2)\"\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 12\n  },\n  row: {\n    display: \"flex\",\n    gap: 12\n  },\n  label: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontSize: 14,\n    color: \"#333\"\n  },\n  input: {\n    marginTop: 6,\n    padding: \"0.5rem\",\n    borderRadius: 6,\n    border: \"1px solid #ccc\",\n    fontSize: 14\n  },\n  saveButton: {\n    padding: \"0.55rem 1rem\",\n    background: \"#3477eb\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: 6,\n    cursor: \"pointer\",\n    fontWeight: 700\n  },\n  cancelButton: {\n    padding: \"0.45rem 0.9rem\",\n    background: \"#f1f4f8\",\n    color: \"#333\",\n    border: \"none\",\n    borderRadius: 6,\n    cursor: \"pointer\",\n    fontWeight: 700\n  }\n};\n\nexport default PersonelPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
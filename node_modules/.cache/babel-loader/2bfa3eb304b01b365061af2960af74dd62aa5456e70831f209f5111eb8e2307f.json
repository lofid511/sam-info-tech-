{"ast":null,"code":"import _objectSpread from\"C:/Users/R-TECH/Desktop/00/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";// Personnel management page (Personnel / Staff)\n// Fields: id, nom, prenom, poste, telephone, adresse, date_dentree, date_sortie, numero_assurance, salaire, avance, photo\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TABLE_FIELDS=[\"nom\",\"prenom\",\"poste\",\"telephone\",\"adresse\",\"date_dentree\",\"date_sortie\",\"numero_assurance\",\"salaire\",\"avance\",\"photo\"];const translations={fr:{title:\"Personnel\",addButton:\"‚ûï Ajouter\",editButton:\"‚úèÔ∏è Modifier\",deleteButton:\"üóëÔ∏è Supprimer\",save:\"Enregistrer\",cancel:\"Annuler\",searchPlaceholder:\"Rechercher...\",selectRowAlert:\"Veuillez s√©lectionner un membre du personnel.\",confirmDelete:name=>\"Supprimer \".concat(name,\" ?\"),tableHeaders:[\"#\",\"Nom\",\"Pr√©nom\",\"Poste\",\"T√©l√©phone\",\"Adresse\",\"Date d'entr√©e\",\"Date de sortie\",\"N¬∞ d'assurance\",\"Salaire\",\"Avance\",\"Photo\"],modalLabels:{nom:\"Nom\",prenom:\"Pr√©nom\",poste:\"Poste\",telephone:\"T√©l√©phone\",adresse:\"Adresse\",date_dentree:\"Date d'entr√©e\",date_sortie:\"Date de sortie\",numero_assurance:\"N¬∞ d'assurance\",salaire:\"Salaire\",avance:\"Avance\",photo:\"Photo (jpg/png)\"},errorLoad:\"Erreur lors du chargement du personnel\",errorSave:\"Erreur lors de l'enregistrement\",errorDelete:\"Erreur lors de la suppression\",totalStaff:\"Total Personnel\",totalSalaire:\"Salaire Total\",totalAvance:\"Avance Totale\",pointageButton:\"üìã Pointage\",printLabel:\"üñ®Ô∏è Imprimer\"},ar:{title:\"ÿßŸÑŸÖŸàÿ∏ŸÅŸàŸÜ\",addButton:\"‚ûï ÿ•ÿ∂ÿßŸÅÿ©\",editButton:\"‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ\",deleteButton:\"üóëÔ∏è ÿ≠ÿ∞ŸÅ\",save:\"ÿ≠ŸÅÿ∏\",cancel:\"ÿ•ŸÑÿ∫ÿßÿ°\",searchPlaceholder:\"ÿ®ÿ≠ÿ´...\",selectRowAlert:\"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàÿ∏ŸÅ.\",confirmDelete:name=>\"\\u0647\\u0644 \\u062A\\u0631\\u064A\\u062F \\u062D\\u0630\\u0641 \".concat(name,\"\\u061F\"),tableHeaders:[\"#\",\"ÿßŸÑŸÑŸÇÿ®\",\"ÿßŸÑÿßÿ≥ŸÖ\",\"ÿßŸÑŸÖŸÜÿµÿ®\",\"ÿßŸÑŸáÿßÿ™ŸÅ\",\"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\"ÿßŸÑÿ±ÿßÿ™ÿ®\",\"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\"ÿßŸÑÿµŸàÿ±ÿ©\"],modalLabels:{nom:\"ÿßŸÑŸÑŸÇÿ®\",prenom:\"ÿßŸÑÿßÿ≥ŸÖ\",poste:\"ÿßŸÑŸÖŸÜÿµÿ®\",telephone:\"ÿßŸÑŸáÿßÿ™ŸÅ\",adresse:\"ÿßŸÑÿπŸÜŸàÿßŸÜ\",date_dentree:\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",date_sortie:\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",numero_assurance:\"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",salaire:\"ÿßŸÑÿ±ÿßÿ™ÿ®\",avance:\"ÿßŸÑÿ≥ŸÑŸÅÿ©\",photo:\"ÿßŸÑÿµŸàÿ±ÿ© (jpg/png)\"},errorLoad:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",errorSave:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏\",errorDelete:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ\",totalStaff:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",totalSalaire:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ±Ÿàÿßÿ™ÿ®\",totalAvance:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≥ŸÑŸÅ\",pointageButton:\"üìã ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿ≠ÿ∂Ÿàÿ±\",printLabel:\"üñ®Ô∏è ÿ∑ÿ®ÿßÿπÿ©\"}};// Helpers\nfunction photoSrc(val){if(!val)return null;if(typeof val!==\"string\")return null;if(val.startsWith(\"data:\"))return val;return\"data:image/png;base64,\".concat(val);}function formatCurrency(value){if(value===undefined||value===null||value===\"\")return\"\";const cleaned=String(value).replace(/\\s+/g,\"\").replace(/,/g,\"\");const num=parseFloat(cleaned);if(Number.isNaN(num))return String(value);return num.toLocaleString(\"fr-FR\",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/\\u202f/g,\" \");}function unformatNumber(value){if(value===undefined||value===null)return\"\";return String(value).replace(/\\s+/g,\"\").replace(/,/g,\"\").trim();}function formatDateToFR(dateString){if(!dateString)return\"\";if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){const[yyyy,mm,dd]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){const[dd,mm,yyyy]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){return dateString;}return dateString;}function formatDateToISO(dateString){if(!dateString)return\"\";let dd,mm,yyyy;if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"/\");}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"-\");}else if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){return dateString;}if(yyyy&&mm&&dd){return\"\".concat(yyyy,\"-\").concat(mm,\"-\").concat(dd);}return dateString;}function isArabic(str){return /^[\\u0600-\\u06FF\\s]+$/.test(str);}function PersonelPage(_ref){let{locale=\"fr\"}=_ref;const T=translations[locale]||translations.fr;const[personel,setPersonel]=useState([]);const[selectedIndex,setSelectedIndex]=useState(null);const[searchQuery,setSearchQuery]=useState(\"\");const[showModal,setShowModal]=useState(false);const[modalMode,setModalMode]=useState(\"add\");// 'add' | 'edit'\nconst[form,setForm]=useState({id:null,nom:\"\",prenom:\"\",poste:\"\",telephone:\"\",adresse:\"\",date_dentree:\"\",date_sortie:\"\",numero_assurance:\"\",salaire:\"\",avance:\"\",photo:\"\"});const[arErrors,setArErrors]=useState({});const[isLoading,setIsLoading]=useState(false);const[isDeleting,setIsDeleting]=useState(false);// Table / direction handling (reverse order for Arabic)\nconst isRtl=locale===\"ar\";const displayedHeaders=isRtl?[...T.tableHeaders].reverse():T.tableHeaders;const tableFieldsOrder=isRtl?[...TABLE_FIELDS].reverse():[...TABLE_FIELDS];const directionStyle=isRtl?{direction:\"rtl\"}:{direction:\"ltr\"};// Totals\nconst totalStaff=personel.length;const totalSalaire=personel.reduce((s,p)=>{const val=parseFloat(unformatNumber(p.salaire||\"0\"));return s+(isNaN(val)?0:val);},0);const totalAvance=personel.reduce((s,p)=>{const val=parseFloat(unformatNumber(p.avance||\"0\"));return s+(isNaN(val)?0:val);},0);// Fetch from backend\nconst fetchPersonel=async()=>{setIsLoading(true);try{const res=await window.pywebview.api.get_personnel();// Expect res to be an array of objects; ensure numeric fields canonicalized if needed\nconst normalized=(res||[]).map(r=>_objectSpread(_objectSpread({},r),{},{salaire:r.salaire!==undefined&&r.salaire!==null?String(r.salaire):\"\",avance:r.avance!==undefined&&r.avance!==null?String(r.avance):\"\",date_dentree:r.date_dentree||r.date_entree||\"\",date_sortie:r.date_sortie||\"\",numero_assurance:r.numero_assurance||r.num_assurance||\"\"}));setPersonel(normalized);}catch(e){console.error(e);setPersonel([]);}finally{setIsLoading(false);}};useEffect(()=>{fetchPersonel();// eslint-disable-next-line\n},[locale]);// Filter\nconst filtered=personel.filter(p=>{const q=searchQuery.trim().toLowerCase();if(!q)return true;return(p.nom||\"\").toLowerCase().includes(q)||(p.prenom||\"\").toLowerCase().includes(q)||(p.poste||\"\").toLowerCase().includes(q)||(p.telephone||\"\").toLowerCase().includes(q)||(p.adresse||\"\").toLowerCase().includes(q);});// Empty form template\nconst emptyForm={id:null,nom:\"\",prenom:\"\",poste:\"\",telephone:\"\",adresse:\"\",date_dentree:\"\",date_sortie:\"\",numero_assurance:\"\",salaire:\"\",avance:\"\",photo:\"\"};// CRUD handlers\nconst handleAdd=()=>{setModalMode(\"add\");setForm(_objectSpread({},emptyForm));setArErrors({});setShowModal(true);};const handleEdit=()=>{var _sel$id,_sel$nom,_sel$prenom,_sel$poste,_sel$telephone,_sel$adresse,_sel$numero_assurance,_sel$photo;if(selectedIndex===null||filtered[selectedIndex]===undefined){alert(T.selectRowAlert);return;}const sel=filtered[selectedIndex];// Load canonical numbers into form and format dates for the form\nsetForm({id:(_sel$id=sel.id)!==null&&_sel$id!==void 0?_sel$id:null,nom:(_sel$nom=sel.nom)!==null&&_sel$nom!==void 0?_sel$nom:\"\",prenom:(_sel$prenom=sel.prenom)!==null&&_sel$prenom!==void 0?_sel$prenom:\"\",poste:(_sel$poste=sel.poste)!==null&&_sel$poste!==void 0?_sel$poste:\"\",telephone:(_sel$telephone=sel.telephone)!==null&&_sel$telephone!==void 0?_sel$telephone:\"\",adresse:(_sel$adresse=sel.adresse)!==null&&_sel$adresse!==void 0?_sel$adresse:\"\",date_dentree:formatDateToFR(sel.date_dentree),date_sortie:formatDateToFR(sel.date_sortie),numero_assurance:(_sel$numero_assurance=sel.numero_assurance)!==null&&_sel$numero_assurance!==void 0?_sel$numero_assurance:\"\",salaire:sel.salaire!==undefined&&sel.salaire!==null?String(sel.salaire):\"\",avance:sel.avance!==undefined&&sel.avance!==null?String(sel.avance):\"\",photo:(_sel$photo=sel.photo)!==null&&_sel$photo!==void 0?_sel$photo:\"\"});setModalMode(\"edit\");setShowModal(true);};const handleDelete=async()=>{if(selectedIndex===null||filtered[selectedIndex]===undefined){alert(T.selectRowAlert);return;}const sel=filtered[selectedIndex];const name=\"\".concat(sel.nom||\"\",\" \").concat(sel.prenom||\"\").trim()||sel.id||\"\";if(!window.confirm(T.confirmDelete(name)))return;try{setIsDeleting(true);await window.pywebview.api.delete_personnel(sel.id);// remove locally\nsetPersonel(prev=>prev.filter(p=>p.id!==sel.id));setSelectedIndex(null);}catch(e){console.error(e);alert(T.errorDelete);}finally{setIsDeleting(false);}};const handleSave=async e=>{e.preventDefault();// validate arabic fields if any (not mandatory here but kept for parity with client.js)\nlet newErrors={};setArErrors(newErrors);if(Object.values(newErrors).some(Boolean))return;try{// Prepare payload: ensure numeric fields are sent unformatted and dates are ISO\nconst payload=_objectSpread(_objectSpread({},form),{},{salaire:unformatNumber(form.salaire),avance:unformatNumber(form.avance),date_dentree:formatDateToISO(form.date_dentree),date_sortie:formatDateToISO(form.date_sortie)});if(modalMode===\"add\"){const newItem=await window.pywebview.api.add_personnel(payload);if(newItem&&newItem.id!==undefined){setPersonel(prev=>[...prev,_objectSpread(_objectSpread({},newItem),{},{salaire:newItem.salaire!==undefined&&newItem.salaire!==null?String(newItem.salaire):\"\",avance:newItem.avance!==undefined&&newItem.avance!==null?String(newItem.avance):\"\",date_dentree:newItem.date_dentree||newItem.date_entree||\"\",date_sortie:newItem.date_sortie||\"\"})]);}else{await fetchPersonel();}}else{const updated=await window.pywebview.api.update_personnel(payload);if(updated&&updated.id!==undefined){setPersonel(prev=>prev.map(p=>p.id===updated.id?_objectSpread(_objectSpread({},updated),{},{salaire:updated.salaire!==undefined?String(updated.salaire):\"\",avance:updated.avance!==undefined?String(updated.avance):\"\",date_dentree:updated.date_dentree||updated.date_entree||\"\",date_sortie:updated.date_sortie||\"\"}):p));}else{await fetchPersonel();}}setShowModal(false);setForm(_objectSpread({},emptyForm));}catch(e){console.error(e);alert(T.errorSave);}};const handlePhotoChange=file=>{if(!file){setForm(s=>_objectSpread(_objectSpread({},s),{},{photo:\"\"}));return;}const reader=new FileReader();reader.onload=()=>{setForm(s=>_objectSpread(_objectSpread({},s),{},{photo:reader.result}));};reader.readAsDataURL(file);};// Render helpers\nfunction renderTableCell(item,field){var _item$field2;if(field===\"photo\"){const src=photoSrc(item[field]);return/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},styles.tableCell),{},{padding:0,textAlign:\"center\",minWidth:50,maxWidth:70,width:60,verticalAlign:\"middle\",background:\"#fff\"}),children:src?/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"photo\",style:{width:50,height:36,objectFit:\"cover\",borderRadius:6,display:\"block\",margin:\"0 auto\"}}):\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"salaire\"||field===\"avance\"){const formatted=formatCurrency(item[field]);return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:formatted||\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"date_dentree\"||field===\"date_sortie\"){return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:formatDateToFR(item[field])||\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"numero_assurance\"){var _item$field;return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:(_item$field=item[field])!==null&&_item$field!==void 0?_item$field:\"-\"},\"\".concat(item.id,\"-\").concat(field));}return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:(_item$field2=item[field])!==null&&_item$field2!==void 0?_item$field2:\"-\"},\"\".concat(item.id,\"-\").concat(field));}// Spinner style injection (if needed)\nif(typeof document!==\"undefined\"&&!document.getElementById(\"personel-spinner-style\")){const style=document.createElement(\"style\");style.id=\"personel-spinner-style\";style.innerHTML=\"\\n      @keyframes spin { to { transform: rotate(360deg); } }\\n      .tableHeaderStickyPersonel { position: sticky; top: 0; background: #f1f6ff; z-index: 2; }\\n    \";document.head.appendChild(style);}// Drawer buttons (left/right)\nconst drawerLeft=/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.drawer),{},{left:20,right:\"unset\",bottom:28}),children:[/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleAdd,children:T.addButton}),/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleEdit,children:T.editButton}),/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleDelete,children:T.deleteButton})]});// New: open Pointage handler\nconst handleOpenPointage=async()=>{// Dispatch a DOM event so the app shell (or any listener) can open the Pointage component\nconst detail={locale,translations};// pass both languages/translations as requested\ntry{// 1) Dispatch event for other front-end code to catch and render pointage\nwindow.dispatchEvent(new CustomEvent(\"openPointage\",{detail}));// 2) Try dynamic import of ./pointage if it exports a function (best-effort)\ntry{const mod=await import(\"./pointage\");// If pointage module exposes a function to open/run pointage, call it.\nif(mod&&typeof mod.openPointage===\"function\"){mod.openPointage(detail);}else if(mod&&typeof mod.default===\"function\"){// default export is likely a React component; we only log the import as fallback.\nconsole.info(\"pointage module loaded (default export is a component). Use the openPointage event to render it in the app.\");}}catch(impErr){// dynamic import may fail in some bundler setups; ignore (event already dispatched)\n// console.warn(\"pointage dynamic import failed\", impErr);\n}}catch(err){console.error(\"Failed to open pointage\",err);}};const drawerRight=/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.drawer),{},{right:20,left:\"unset\",bottom:28}),children:[/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.drawerButton),{},{background:\"#3477eb\",color:\"#fff\"}),onClick:()=>window.print(),children:T.printLabel}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.drawerButton),{},{background:\"#ffffff\",border:\"1px solid #e6eefb\",color:\"#14355f\",fontWeight:700}),onClick:handleOpenPointage,children:T.pointageButton})]});return/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.container),directionStyle),children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:T.title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,marginBottom:12,alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.searchWrap),{},{maxWidth:340}),children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:8},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:T.searchPlaceholder,value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);setSelectedIndex(null);},style:styles.searchInput})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"auto\",display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDC65 \",T.totalStaff,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:totalStaff})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDCB0 \",T.totalSalaire,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:formatCurrency(totalSalaire)})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDCB8 \",T.totalAvance,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:formatCurrency(totalAvance)})]})]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{style:{padding:40,textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{style:styles.spinner})}):/*#__PURE__*/_jsx(\"div\",{style:styles.tableWrap,children:/*#__PURE__*/_jsxs(\"table\",{style:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:T.tableHeaders.map((h,i)=>/*#__PURE__*/_jsx(\"th\",{style:styles.tableHeader,children:h},i))})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.length?filtered.map((p,i)=>{var _p$id;return/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>setSelectedIndex(i),style:{background:i===selectedIndex?\"#cce5ff\":i%2===0?\"#fff\":\"#f4f8ff\",cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:i+1}),tableFieldsOrder.map(field=>renderTableCell(p,field))]},(_p$id=p.id)!==null&&_p$id!==void 0?_p$id:i);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:T.tableHeaders.length,style:{padding:\"1rem\",textAlign:\"center\",color:\"#666\"},children:T.errorLoad})})})]})}),drawerLeft,drawerRight,showModal&&/*#__PURE__*/_jsx(\"div\",{style:styles.modalOverlay,children:/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.modal),isRtl?{direction:\"rtl\",textAlign:\"right\"}:{}),children:[/*#__PURE__*/_jsx(\"h3\",{children:modalMode===\"add\"?T.addButton:T.editButton}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSave,style:styles.form,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.nom,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.nom,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{nom:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.prenom,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.prenom,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{prenom:e.target.value})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.poste,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.poste,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{poste:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.telephone,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.telephone,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{telephone:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.adresse,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.adresse,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{adresse:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.date_dentree,/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date_dentree?formatDateToISO(form.date_dentree):\"\",onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{date_dentree:e.target.value?formatDateToFR(e.target.value):\"\"})),style:styles.input})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.date_sortie,/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date_sortie?formatDateToISO(form.date_sortie):\"\",onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{date_sortie:e.target.value?formatDateToFR(e.target.value):\"\"})),style:styles.input})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.numero_assurance,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.numero_assurance,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{numero_assurance:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.salaire,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.salaire,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{salaire:e.target.value})),type:\"number\",min:0,step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.avance,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.avance,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{avance:e.target.value})),type:\"number\",min:0,step:\"0.01\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,alignItems:\"flex-start\",marginTop:6},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.photo,/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>handlePhotoChange(e.target.files[0]),style:{marginTop:6}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:110},children:form.photo?/*#__PURE__*/_jsx(\"img\",{src:photoSrc(form.photo),alt:\"preview\",style:{width:100,height:72,objectFit:\"cover\",borderRadius:6}}):null})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",gap:8,marginTop:12},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.saveButton,children:T.save}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:styles.cancelButton,onClick:()=>setShowModal(false),children:T.cancel})]})]})]})})]});}// Styles (kept similar to client.js / personel)\nconst styles={container:{padding:\"1.25rem\",position:\"relative\",minHeight:\"100vh\",boxSizing:\"border-box\"},searchWrap:{flex:1,maxWidth:420,display:\"flex\",alignItems:\"center\",gap:8},searchInput:{width:\"100%\",padding:\"0.5rem\",borderRadius:6,border:\"1px solid #ccc\",fontSize:\"1rem\"},spinner:{margin:\"60px auto\",border:\"8px solid #eee\",borderTop:\"8px solid #3477eb\",borderRadius:\"50%\",width:48,height:48,animation:\"spin 1s linear infinite\"},tableWrap:{maxHeight:\"60vh\",overflowY:\"auto\",border:\"1px solid #e0e0e0\",borderRadius:6},table:{width:\"100%\",borderCollapse:\"collapse\",tableLayout:\"fixed\"},tableHeaderRow:{background:\"#f1f6ff\"},tableHeader:{textAlign:\"left\",padding:\"0.6rem\",borderBottom:\"1px solid #e2e8f0\",background:\"#f1f6ff\",fontWeight:700},tableCell:{padding:\"0.45rem 0.6rem\",borderBottom:\"1px solid #f0f4fb\",verticalAlign:\"middle\",wordBreak:\"break-word\"},drawer:{position:\"fixed\",background:\"transparent\",padding:\"1rem\",borderRadius:\"8px\",boxShadow:\"0 2px 8px rgba(0,0,0,0.15)\",display:\"flex\",flexDirection:\"row\",gap:\"0.5rem\",zIndex:8,minWidth:0,width:\"auto\",alignItems:\"center\"},drawerButton:{display:\"flex\",alignItems:\"center\",gap:\"0.3rem\",padding:\"0.5rem 1rem\",fontSize:\"1rem\",color:\"#3477eb\",background:\"#eaf3ff\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\",transition:\"background 0.2s\"},summaryBadge:{padding:\"0.4rem 0.6rem\",background:\"rgba(255,255,255,0.9)\",borderRadius:8,border:\"1px solid #e6eefb\",display:\"flex\",alignItems:\"center\",gap:8,fontWeight:700,color:\"#14355f\"},modalOverlay:{position:\"fixed\",inset:0,background:\"rgba(0,0,0,0.45)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",zIndex:999},modal:{background:\"#fff\",padding:20,borderRadius:10,width:\"92%\",maxWidth:820,boxShadow:\"0 8px 30px rgba(0,0,0,0.2)\"},form:{display:\"flex\",flexDirection:\"column\",gap:12},row:{display:\"flex\",gap:12},label:{flex:1,display:\"flex\",flexDirection:\"column\",fontSize:14,color:\"#333\"},input:{marginTop:6,padding:\"0.5rem\",borderRadius:6,border:\"1px solid #ccc\",fontSize:14},saveButton:{padding:\"0.55rem 1rem\",background:\"#3477eb\",color:\"#fff\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:700},cancelButton:{padding:\"0.45rem 0.9rem\",background:\"#f1f4f8\",color:\"#333\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:700}};export default PersonelPage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","TABLE_FIELDS","translations","fr","title","addButton","editButton","deleteButton","save","cancel","searchPlaceholder","selectRowAlert","confirmDelete","name","concat","tableHeaders","modalLabels","nom","prenom","poste","telephone","adresse","date_dentree","date_sortie","numero_assurance","salaire","avance","photo","errorLoad","errorSave","errorDelete","totalStaff","totalSalaire","totalAvance","pointageButton","printLabel","ar","photoSrc","val","startsWith","formatCurrency","value","undefined","cleaned","String","replace","num","parseFloat","Number","isNaN","toLocaleString","minimumFractionDigits","maximumFractionDigits","unformatNumber","trim","formatDateToFR","dateString","test","yyyy","mm","dd","split","formatDateToISO","isArabic","str","PersonelPage","_ref","locale","T","personel","setPersonel","selectedIndex","setSelectedIndex","searchQuery","setSearchQuery","showModal","setShowModal","modalMode","setModalMode","form","setForm","id","arErrors","setArErrors","isLoading","setIsLoading","isDeleting","setIsDeleting","isRtl","displayedHeaders","reverse","tableFieldsOrder","directionStyle","direction","length","reduce","s","p","fetchPersonel","res","window","pywebview","api","get_personnel","normalized","map","r","_objectSpread","date_entree","num_assurance","e","console","error","filtered","filter","q","toLowerCase","includes","emptyForm","handleAdd","handleEdit","_sel$id","_sel$nom","_sel$prenom","_sel$poste","_sel$telephone","_sel$adresse","_sel$numero_assurance","_sel$photo","alert","sel","handleDelete","confirm","delete_personnel","prev","handleSave","preventDefault","newErrors","Object","values","some","Boolean","payload","newItem","add_personnel","updated","update_personnel","handlePhotoChange","file","reader","FileReader","onload","result","readAsDataURL","renderTableCell","item","field","_item$field2","src","style","styles","tableCell","padding","textAlign","minWidth","maxWidth","width","verticalAlign","background","children","alt","height","objectFit","borderRadius","display","margin","formatted","_item$field","document","getElementById","createElement","innerHTML","head","appendChild","drawerLeft","drawer","left","right","bottom","drawerButton","onClick","handleOpenPointage","detail","dispatchEvent","CustomEvent","mod","openPointage","default","info","impErr","err","drawerRight","color","print","border","fontWeight","container","gap","marginBottom","alignItems","searchWrap","marginRight","placeholder","onChange","target","searchInput","marginLeft","summaryBadge","spinner","tableWrap","table","h","i","tableHeader","_p$id","cursor","colSpan","modalOverlay","modal","onSubmit","row","label","input","required","type","min","step","marginTop","flex","accept","files","justifyContent","saveButton","cancelButton","position","minHeight","boxSizing","fontSize","borderTop","animation","maxHeight","overflowY","borderCollapse","tableLayout","tableHeaderRow","borderBottom","wordBreak","boxShadow","flexDirection","zIndex","transition","inset"],"sources":["C:/Users/R-TECH/Desktop/00/my-app/src/personel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\n// Personnel management page (Personnel / Staff)\n// Fields: id, nom, prenom, poste, telephone, adresse, date_dentree, date_sortie, numero_assurance, salaire, avance, photo\n\nconst TABLE_FIELDS = [\n  \"nom\",\n  \"prenom\",\n  \"poste\",\n  \"telephone\",\n  \"adresse\",\n  \"date_dentree\",\n  \"date_sortie\",\n  \"numero_assurance\",\n  \"salaire\",\n  \"avance\",\n  \"photo\"\n];\n\nconst translations = {\n  fr: {\n    title: \"Personnel\",\n    addButton: \"‚ûï Ajouter\",\n    editButton: \"‚úèÔ∏è Modifier\",\n    deleteButton: \"üóëÔ∏è Supprimer\",\n    save: \"Enregistrer\",\n    cancel: \"Annuler\",\n    searchPlaceholder: \"Rechercher...\",\n    selectRowAlert: \"Veuillez s√©lectionner un membre du personnel.\",\n    confirmDelete: (name) => `Supprimer ${name} ?`,\n    tableHeaders: [\n      \"#\",\n      \"Nom\",\n      \"Pr√©nom\",\n      \"Poste\",\n      \"T√©l√©phone\",\n      \"Adresse\",\n      \"Date d'entr√©e\",\n      \"Date de sortie\",\n      \"N¬∞ d'assurance\",\n      \"Salaire\",\n      \"Avance\",\n      \"Photo\"\n    ],\n    modalLabels: {\n      nom: \"Nom\",\n      prenom: \"Pr√©nom\",\n      poste: \"Poste\",\n      telephone: \"T√©l√©phone\",\n      adresse: \"Adresse\",\n      date_dentree: \"Date d'entr√©e\",\n      date_sortie: \"Date de sortie\",\n      numero_assurance: \"N¬∞ d'assurance\",\n      salaire: \"Salaire\",\n      avance: \"Avance\",\n      photo: \"Photo (jpg/png)\"\n    },\n    errorLoad: \"Erreur lors du chargement du personnel\",\n    errorSave: \"Erreur lors de l'enregistrement\",\n    errorDelete: \"Erreur lors de la suppression\",\n    totalStaff: \"Total Personnel\",\n    totalSalaire: \"Salaire Total\",\n    totalAvance: \"Avance Totale\",\n    pointageButton: \"üìã Pointage\",\n    printLabel: \"üñ®Ô∏è Imprimer\"\n  },\n  ar: {\n    title: \"ÿßŸÑŸÖŸàÿ∏ŸÅŸàŸÜ\",\n    addButton: \"‚ûï ÿ•ÿ∂ÿßŸÅÿ©\",\n    editButton: \"‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ\",\n    deleteButton: \"üóëÔ∏è ÿ≠ÿ∞ŸÅ\",\n    save: \"ÿ≠ŸÅÿ∏\",\n    cancel: \"ÿ•ŸÑÿ∫ÿßÿ°\",\n    searchPlaceholder: \"ÿ®ÿ≠ÿ´...\",\n    selectRowAlert: \"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàÿ∏ŸÅ.\",\n    confirmDelete: (name) => `ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ≠ÿ∞ŸÅ ${name}ÿü`,\n    tableHeaders: [\n      \"#\",\n      \"ÿßŸÑŸÑŸÇÿ®\",\n      \"ÿßŸÑÿßÿ≥ŸÖ\",\n      \"ÿßŸÑŸÖŸÜÿµÿ®\",\n      \"ÿßŸÑŸáÿßÿ™ŸÅ\",\n      \"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\n      \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\n      \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\n      \"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\n      \"ÿßŸÑÿ±ÿßÿ™ÿ®\",\n      \"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\n      \"ÿßŸÑÿµŸàÿ±ÿ©\"\n    ],\n    modalLabels: {\n      nom: \"ÿßŸÑŸÑŸÇÿ®\",\n      prenom: \"ÿßŸÑÿßÿ≥ŸÖ\",\n      poste: \"ÿßŸÑŸÖŸÜÿµÿ®\",\n      telephone: \"ÿßŸÑŸáÿßÿ™ŸÅ\",\n      adresse: \"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\n      date_dentree: \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\n      date_sortie: \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\n      numero_assurance: \"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\n      salaire: \"ÿßŸÑÿ±ÿßÿ™ÿ®\",\n      avance: \"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\n      photo: \"ÿßŸÑÿµŸàÿ±ÿ© (jpg/png)\"\n    },\n    errorLoad: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",\n    errorSave: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏\",\n    errorDelete: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ\",\n    totalStaff: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",\n    totalSalaire: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ±Ÿàÿßÿ™ÿ®\",\n    totalAvance: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≥ŸÑŸÅ\",\n    pointageButton: \"üìã ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿ≠ÿ∂Ÿàÿ±\",\n    printLabel: \"üñ®Ô∏è ÿ∑ÿ®ÿßÿπÿ©\"\n  }\n};\n\n// Helpers\nfunction photoSrc(val) {\n  if (!val) return null;\n  if (typeof val !== \"string\") return null;\n  if (val.startsWith(\"data:\")) return val;\n  return `data:image/png;base64,${val}`;\n}\n\nfunction formatCurrency(value) {\n  if (value === undefined || value === null || value === \"\") return \"\";\n  const cleaned = String(value).replace(/\\s+/g, \"\").replace(/,/g, \"\");\n  const num = parseFloat(cleaned);\n  if (Number.isNaN(num)) return String(value);\n  return num.toLocaleString(\"fr-FR\", { minimumFractionDigits: 2, maximumFractionDigits: 2 }).replace(/\\u202f/g, \" \");\n}\n\nfunction unformatNumber(value) {\n  if (value === undefined || value === null) return \"\";\n  return String(value).replace(/\\s+/g, \"\").replace(/,/g, \"\").trim();\n}\n\nfunction formatDateToFR(dateString) {\n  if (!dateString) return \"\";\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    const [yyyy, mm, dd] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    const [dd, mm, yyyy] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    return dateString;\n  }\n  return dateString;\n}\n\nfunction formatDateToISO(dateString) {\n  if (!dateString) return \"\";\n  let dd, mm, yyyy;\n  if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"/\");\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"-\");\n  } else if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    return dateString;\n  }\n  if (yyyy && mm && dd) {\n    return `${yyyy}-${mm}-${dd}`;\n  }\n  return dateString;\n}\n\nfunction isArabic(str) {\n  return /^[\\u0600-\\u06FF\\s]+$/.test(str);\n}\n\nfunction PersonelPage({ locale = \"fr\" }) {\n  const T = translations[locale] || translations.fr;\n\n  const [personel, setPersonel] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [modalMode, setModalMode] = useState(\"add\"); // 'add' | 'edit'\n  const [form, setForm] = useState({\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    poste: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    date_dentree: \"\",\n    date_sortie: \"\",\n    numero_assurance: \"\",\n    salaire: \"\",\n    avance: \"\",\n    photo: \"\"\n  });\n  const [arErrors, setArErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // Table / direction handling (reverse order for Arabic)\n  const isRtl = locale === \"ar\";\n  const displayedHeaders = isRtl ? [...T.tableHeaders].reverse() : T.tableHeaders;\n  const tableFieldsOrder = isRtl ? [...TABLE_FIELDS].reverse() : [...TABLE_FIELDS];\n  const directionStyle = isRtl ? { direction: \"rtl\" } : { direction: \"ltr\" };\n\n  // Totals\n  const totalStaff = personel.length;\n  const totalSalaire = personel.reduce((s, p) => {\n    const val = parseFloat(unformatNumber(p.salaire || \"0\"));\n    return s + (isNaN(val) ? 0 : val);\n  }, 0);\n  const totalAvance = personel.reduce((s, p) => {\n    const val = parseFloat(unformatNumber(p.avance || \"0\"));\n    return s + (isNaN(val) ? 0 : val);\n  }, 0);\n\n  // Fetch from backend\n  const fetchPersonel = async () => {\n    setIsLoading(true);\n    try {\n      const res = await window.pywebview.api.get_personnel();\n      // Expect res to be an array of objects; ensure numeric fields canonicalized if needed\n      const normalized = (res || []).map((r) => ({\n        ...r,\n        salaire: r.salaire !== undefined && r.salaire !== null ? String(r.salaire) : \"\",\n        avance: r.avance !== undefined && r.avance !== null ? String(r.avance) : \"\",\n        date_dentree: r.date_dentree || r.date_entree || \"\",\n        date_sortie: r.date_sortie || \"\",\n        numero_assurance: r.numero_assurance || r.num_assurance || \"\"\n      }));\n      setPersonel(normalized);\n    } catch (e) {\n      console.error(e);\n      setPersonel([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPersonel();\n    // eslint-disable-next-line\n  }, [locale]);\n\n  // Filter\n  const filtered = personel.filter((p) => {\n    const q = searchQuery.trim().toLowerCase();\n    if (!q) return true;\n    return (\n      (p.nom || \"\").toLowerCase().includes(q) ||\n      (p.prenom || \"\").toLowerCase().includes(q) ||\n      (p.poste || \"\").toLowerCase().includes(q) ||\n      (p.telephone || \"\").toLowerCase().includes(q) ||\n      (p.adresse || \"\").toLowerCase().includes(q)\n    );\n  });\n\n  // Empty form template\n  const emptyForm = {\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    poste: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    date_dentree: \"\",\n    date_sortie: \"\",\n    numero_assurance: \"\",\n    salaire: \"\",\n    avance: \"\",\n    photo: \"\"\n  };\n\n  // CRUD handlers\n  const handleAdd = () => {\n    setModalMode(\"add\");\n    setForm({ ...emptyForm });\n    setArErrors({});\n    setShowModal(true);\n  };\n\n  const handleEdit = () => {\n    if (selectedIndex === null || filtered[selectedIndex] === undefined) {\n      alert(T.selectRowAlert);\n      return;\n    }\n    const sel = filtered[selectedIndex];\n    // Load canonical numbers into form and format dates for the form\n    setForm({\n      id: sel.id ?? null,\n      nom: sel.nom ?? \"\",\n      prenom: sel.prenom ?? \"\",\n      poste: sel.poste ?? \"\",\n      telephone: sel.telephone ?? \"\",\n      adresse: sel.adresse ?? \"\",\n      date_dentree: formatDateToFR(sel.date_dentree),\n      date_sortie: formatDateToFR(sel.date_sortie),\n      numero_assurance: sel.numero_assurance ?? \"\",\n      salaire: sel.salaire !== undefined && sel.salaire !== null ? String(sel.salaire) : \"\",\n      avance: sel.avance !== undefined && sel.avance !== null ? String(sel.avance) : \"\",\n      photo: sel.photo ?? \"\"\n    });\n    setModalMode(\"edit\");\n    setShowModal(true);\n  };\n\n  const handleDelete = async () => {\n    if (selectedIndex === null || filtered[selectedIndex] === undefined) {\n      alert(T.selectRowAlert);\n      return;\n    }\n    const sel = filtered[selectedIndex];\n    const name = `${sel.nom || \"\"} ${sel.prenom || \"\"}`.trim() || sel.id || \"\";\n    if (!window.confirm(T.confirmDelete(name))) return;\n    try {\n      setIsDeleting(true);\n      await window.pywebview.api.delete_personnel(sel.id);\n      // remove locally\n      setPersonel((prev) => prev.filter((p) => p.id !== sel.id));\n      setSelectedIndex(null);\n    } catch (e) {\n      console.error(e);\n      alert(T.errorDelete);\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleSave = async (e) => {\n    e.preventDefault();\n    // validate arabic fields if any (not mandatory here but kept for parity with client.js)\n    let newErrors = {};\n    setArErrors(newErrors);\n    if (Object.values(newErrors).some(Boolean)) return;\n\n    try {\n      // Prepare payload: ensure numeric fields are sent unformatted and dates are ISO\n      const payload = {\n        ...form,\n        salaire: unformatNumber(form.salaire),\n        avance: unformatNumber(form.avance),\n        date_dentree: formatDateToISO(form.date_dentree),\n        date_sortie: formatDateToISO(form.date_sortie)\n      };\n      if (modalMode === \"add\") {\n        const newItem = await window.pywebview.api.add_personnel(payload);\n        if (newItem && newItem.id !== undefined) {\n          setPersonel((prev) => [\n            ...prev,\n            {\n              ...newItem,\n              salaire: newItem.salaire !== undefined && newItem.salaire !== null ? String(newItem.salaire) : \"\",\n              avance: newItem.avance !== undefined && newItem.avance !== null ? String(newItem.avance) : \"\",\n              date_dentree: newItem.date_dentree || newItem.date_entree || \"\",\n              date_sortie: newItem.date_sortie || \"\"\n            }\n          ]);\n        } else {\n          await fetchPersonel();\n        }\n      } else {\n        const updated = await window.pywebview.api.update_personnel(payload);\n        if (updated && updated.id !== undefined) {\n          setPersonel((prev) =>\n            prev.map((p) =>\n              p.id === updated.id\n                ? {\n                    ...updated,\n                    salaire: updated.salaire !== undefined ? String(updated.salaire) : \"\",\n                    avance: updated.avance !== undefined ? String(updated.avance) : \"\",\n                    date_dentree: updated.date_dentree || updated.date_entree || \"\",\n                    date_sortie: updated.date_sortie || \"\"\n                  }\n                : p\n            )\n          );\n        } else {\n          await fetchPersonel();\n        }\n      }\n      setShowModal(false);\n      setForm({ ...emptyForm });\n    } catch (e) {\n      console.error(e);\n      alert(T.errorSave);\n    }\n  };\n\n  const handlePhotoChange = (file) => {\n    if (!file) {\n      setForm((s) => ({ ...s, photo: \"\" }));\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = () => {\n      setForm((s) => ({ ...s, photo: reader.result }));\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // Render helpers\n  function renderTableCell(item, field) {\n    if (field === \"photo\") {\n      const src = photoSrc(item[field]);\n      return (\n        <td\n          key={`${item.id}-${field}`}\n          style={{\n            ...styles.tableCell,\n            padding: 0,\n            textAlign: \"center\",\n            minWidth: 50,\n            maxWidth: 70,\n            width: 60,\n            verticalAlign: \"middle\",\n            background: \"#fff\"\n          }}\n        >\n          {src ? (\n            <img\n              src={src}\n              alt=\"photo\"\n              style={{\n                width: 50,\n                height: 36,\n                objectFit: \"cover\",\n                borderRadius: 6,\n                display: \"block\",\n                margin: \"0 auto\"\n              }}\n            />\n          ) : (\n            \"-\"\n          )}\n        </td>\n      );\n    }\n\n    if (field === \"salaire\" || field === \"avance\") {\n      const formatted = formatCurrency(item[field]);\n      return (\n        <td key={`${item.id}-${field}`} style={styles.tableCell}>\n          {formatted || \"-\"}\n        </td>\n      );\n    }\n\n    if (field === \"date_dentree\" || field === \"date_sortie\") {\n      return (\n        <td key={`${item.id}-${field}`} style={styles.tableCell}>\n          {formatDateToFR(item[field]) || \"-\"}\n        </td>\n      );\n    }\n\n    if (field === \"numero_assurance\") {\n      return (\n        <td key={`${item.id}-${field}`} style={styles.tableCell}>\n          {item[field] ?? \"-\"}\n        </td>\n      );\n    }\n\n    return (\n      <td key={`${item.id}-${field}`} style={styles.tableCell}>\n        {item[field] ?? \"-\"}\n      </td>\n    );\n  }\n\n  // Spinner style injection (if needed)\n  if (typeof document !== \"undefined\" && !document.getElementById(\"personel-spinner-style\")) {\n    const style = document.createElement(\"style\");\n    style.id = \"personel-spinner-style\";\n    style.innerHTML = `\n      @keyframes spin { to { transform: rotate(360deg); } }\n      .tableHeaderStickyPersonel { position: sticky; top: 0; background: #f1f6ff; z-index: 2; }\n    `;\n    document.head.appendChild(style);\n  }\n\n  // Drawer buttons (left/right)\n  const drawerLeft = (\n    <div style={{ ...styles.drawer, left: 20, right: \"unset\", bottom: 28 }}>\n      <button style={styles.drawerButton} onClick={handleAdd}>{T.addButton}</button>\n      <button style={styles.drawerButton} onClick={handleEdit}>{T.editButton}</button>\n      <button style={styles.drawerButton} onClick={handleDelete}>{T.deleteButton}</button>\n    </div>\n  );\n\n  // New: open Pointage handler\n  const handleOpenPointage = async () => {\n    // Dispatch a DOM event so the app shell (or any listener) can open the Pointage component\n    const detail = { locale, translations }; // pass both languages/translations as requested\n    try {\n      // 1) Dispatch event for other front-end code to catch and render pointage\n      window.dispatchEvent(new CustomEvent(\"openPointage\", { detail }));\n\n      // 2) Try dynamic import of ./pointage if it exports a function (best-effort)\n      try {\n        const mod = await import(\"./pointage\");\n        // If pointage module exposes a function to open/run pointage, call it.\n        if (mod && typeof mod.openPointage === \"function\") {\n          mod.openPointage(detail);\n        } else if (mod && typeof mod.default === \"function\") {\n          // default export is likely a React component; we only log the import as fallback.\n          console.info(\"pointage module loaded (default export is a component). Use the openPointage event to render it in the app.\");\n        }\n      } catch (impErr) {\n        // dynamic import may fail in some bundler setups; ignore (event already dispatched)\n        // console.warn(\"pointage dynamic import failed\", impErr);\n      }\n    } catch (err) {\n      console.error(\"Failed to open pointage\", err);\n    }\n  };\n\n  const drawerRight = (\n    <div style={{ ...styles.drawer, right: 20, left: \"unset\", bottom: 28 }}>\n      <button style={{ ...styles.drawerButton, background: \"#3477eb\", color: \"#fff\" }} onClick={() => window.print()}>\n        {T.printLabel}\n      </button>\n\n      {/* Pointage button placed beside Impression, matches fiche client design placement */}\n      <button\n        style={{ ...styles.drawerButton, background: \"#ffffff\", border: \"1px solid #e6eefb\", color: \"#14355f\", fontWeight: 700 }}\n        onClick={handleOpenPointage}\n      >\n        {T.pointageButton}\n      </button>\n    </div>\n  );\n\n  return (\n    <div style={{ ...styles.container, ...directionStyle }}>\n      <h2 style={{ textAlign: \"center\" }}>{T.title}</h2>\n\n      <div style={{ display: \"flex\", gap: 12, marginBottom: 12, alignItems: \"center\" }}>\n        <div style={{ ...styles.searchWrap, maxWidth: 340 }}>\n          <span style={{ marginRight: 8 }}>üîç</span>\n          <input\n            placeholder={T.searchPlaceholder}\n            value={searchQuery}\n            onChange={(e) => { setSearchQuery(e.target.value); setSelectedIndex(null); }}\n            style={styles.searchInput}\n          />\n        </div>\n\n        <div style={{ marginLeft: \"auto\", display: \"flex\", gap: 8 }}>\n          {/* Summary badges (small) */}\n          <div style={styles.summaryBadge}>\n            üë• {T.totalStaff}: <strong style={{ marginLeft: 6 }}>{totalStaff}</strong>\n          </div>\n          <div style={styles.summaryBadge}>\n            üí∞ {T.totalSalaire}: <strong style={{ marginLeft: 6 }}>{formatCurrency(totalSalaire)}</strong>\n          </div>\n          <div style={styles.summaryBadge}>\n            üí∏ {T.totalAvance}: <strong style={{ marginLeft: 6 }}>{formatCurrency(totalAvance)}</strong>\n          </div>\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div style={{ padding: 40, textAlign: \"center\" }}>\n          <div style={styles.spinner}></div>\n        </div>\n      ) : (\n        <div style={styles.tableWrap}>\n          <table style={styles.table}>\n            <thead>\n              <tr>\n                {T.tableHeaders.map((h, i) => (\n                  <th key={i} style={styles.tableHeader}>{h}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {filtered.length ? (\n                filtered.map((p, i) => (\n                  <tr\n                    key={p.id ?? i}\n                    onClick={() => setSelectedIndex(i)}\n                    style={{\n                      background: i === selectedIndex ? \"#cce5ff\" : i % 2 === 0 ? \"#fff\" : \"#f4f8ff\",\n                      cursor: \"pointer\"\n                    }}\n                  >\n                    <td style={styles.tableCell}>{i + 1}</td>\n                    {tableFieldsOrder.map((field) => renderTableCell(p, field))}\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan={T.tableHeaders.length} style={{ padding: \"1rem\", textAlign: \"center\", color: \"#666\" }}>\n                    {T.errorLoad}\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {drawerLeft}\n      {drawerRight}\n\n      {/* Modal */}\n      {showModal && (\n        <div style={styles.modalOverlay}>\n          <div style={{ ...styles.modal, ...(isRtl ? { direction: \"rtl\", textAlign: \"right\" } : {}) }}>\n            <h3>{modalMode === \"add\" ? T.addButton : T.editButton}</h3>\n            <form onSubmit={handleSave} style={styles.form}>\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.nom}\n                  <input style={styles.input} value={form.nom} onChange={(e) => setForm({ ...form, nom: e.target.value })} required />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.prenom}\n                  <input style={styles.input} value={form.prenom} onChange={(e) => setForm({ ...form, prenom: e.target.value })} required />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.poste}\n                  <input style={styles.input} value={form.poste} onChange={(e) => setForm({ ...form, poste: e.target.value })} />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.telephone}\n                  <input style={styles.input} value={form.telephone} onChange={(e) => setForm({ ...form, telephone: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.adresse}\n                  <input style={styles.input} value={form.adresse} onChange={(e) => setForm({ ...form, adresse: e.target.value })} />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.date_dentree}\n                  <input\n                    type=\"date\"\n                    value={form.date_dentree ? formatDateToISO(form.date_dentree) : \"\"}\n                    onChange={(e) => setForm(prev => ({ ...prev, date_dentree: e.target.value ? formatDateToFR(e.target.value) : \"\" }))}\n                    style={styles.input}\n                  />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.date_sortie}\n                  <input\n                    type=\"date\"\n                    value={form.date_sortie ? formatDateToISO(form.date_sortie) : \"\"}\n                    onChange={(e) => setForm(prev => ({ ...prev, date_sortie: e.target.value ? formatDateToFR(e.target.value) : \"\" }))}\n                    style={styles.input}\n                  />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.numero_assurance}\n                  <input style={styles.input} value={form.numero_assurance} onChange={(e) => setForm({ ...form, numero_assurance: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.salaire}\n                  <input\n                    style={styles.input}\n                    value={form.salaire}\n                    onChange={(e) => setForm({ ...form, salaire: e.target.value })}\n                    type=\"number\"\n                    min={0}\n                    step=\"0.01\"\n                  />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.avance}\n                  <input\n                    style={styles.input}\n                    value={form.avance}\n                    onChange={(e) => setForm({ ...form, avance: e.target.value })}\n                    type=\"number\"\n                    min={0}\n                    step=\"0.01\"\n                  />\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 12, alignItems: \"flex-start\", marginTop: 6 }}>\n                <div style={{ flex: 1 }}>\n                  <label style={styles.label}>\n                    {T.modalLabels.photo}\n                    <input type=\"file\" accept=\"image/*\" onChange={(e) => handlePhotoChange(e.target.files[0])} style={{ marginTop: 6 }} />\n                  </label>\n                </div>\n                <div style={{ width: 110 }}>\n                  {form.photo ? (\n                    <img src={photoSrc(form.photo)} alt=\"preview\" style={{ width: 100, height: 72, objectFit: \"cover\", borderRadius: 6 }} />\n                  ) : null}\n                </div>\n              </div>\n\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8, marginTop: 12 }}>\n                <button type=\"submit\" style={styles.saveButton}>{T.save}</button>\n                <button type=\"button\" style={styles.cancelButton} onClick={() => setShowModal(false)}>{T.cancel}</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\n// Styles (kept similar to client.js / personel)\nconst styles = {\n  container: {\n    padding: \"1.25rem\",\n    position: \"relative\",\n    minHeight: \"100vh\",\n    boxSizing: \"border-box\"\n  },\n  searchWrap: {\n    flex: 1,\n    maxWidth: 420,\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 8\n  },\n  searchInput: {\n    width: \"100%\",\n    padding: \"0.5rem\",\n    borderRadius: 6,\n    border: \"1px solid #ccc\",\n    fontSize: \"1rem\"\n  },\n  spinner: {\n    margin: \"60px auto\",\n    border: \"8px solid #eee\",\n    borderTop: \"8px solid #3477eb\",\n    borderRadius: \"50%\",\n    width: 48,\n    height: 48,\n    animation: \"spin 1s linear infinite\"\n  },\n  tableWrap: {\n    maxHeight: \"60vh\",\n    overflowY: \"auto\",\n    border: \"1px solid #e0e0e0\",\n    borderRadius: 6\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"collapse\",\n    tableLayout: \"fixed\"\n  },\n  tableHeaderRow: {\n    background: \"#f1f6ff\"\n  },\n  tableHeader: {\n    textAlign: \"left\",\n    padding: \"0.6rem\",\n    borderBottom: \"1px solid #e2e8f0\",\n    background: \"#f1f6ff\",\n    fontWeight: 700\n  },\n  tableCell: {\n    padding: \"0.45rem 0.6rem\",\n    borderBottom: \"1px solid #f0f4fb\",\n    verticalAlign: \"middle\",\n    wordBreak: \"break-word\"\n  },\n  drawer: {\n    position: \"fixed\",\n    background: \"transparent\",\n    padding: \"1rem\",\n    borderRadius: \"8px\",\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    gap: \"0.5rem\",\n    zIndex: 8,\n    minWidth: 0,\n    width: \"auto\",\n    alignItems: \"center\"\n  },\n  drawerButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"0.3rem\",\n    padding: \"0.5rem 1rem\",\n    fontSize: \"1rem\",\n    color: \"#3477eb\",\n    background: \"#eaf3ff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n    transition: \"background 0.2s\"\n  },\n  summaryBadge: {\n    padding: \"0.4rem 0.6rem\",\n    background: \"rgba(255,255,255,0.9)\",\n    borderRadius: 8,\n    border: \"1px solid #e6eefb\",\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 8,\n    fontWeight: 700,\n    color: \"#14355f\"\n  },\n  modalOverlay: {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(0,0,0,0.45)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 999\n  },\n  modal: {\n    background: \"#fff\",\n    padding: 20,\n    borderRadius: 10,\n    width: \"92%\",\n    maxWidth: 820,\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.2)\"\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 12\n  },\n  row: {\n    display: \"flex\",\n    gap: 12\n  },\n  label: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontSize: 14,\n    color: \"#333\"\n  },\n  input: {\n    marginTop: 6,\n    padding: \"0.5rem\",\n    borderRadius: 6,\n    border: \"1px solid #ccc\",\n    fontSize: 14\n  },\n  saveButton: {\n    padding: \"0.55rem 1rem\",\n    background: \"#3477eb\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: 6,\n    cursor: \"pointer\",\n    fontWeight: 700\n  },\n  cancelButton: {\n    padding: \"0.45rem 0.9rem\",\n    background: \"#f1f4f8\",\n    color: \"#333\",\n    border: \"none\",\n    borderRadius: 6,\n    cursor: \"pointer\",\n    fontWeight: 700\n  }\n};\n\nexport default PersonelPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
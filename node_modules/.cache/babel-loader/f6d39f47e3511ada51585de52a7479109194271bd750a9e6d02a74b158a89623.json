{"ast":null,"code":"import _objectSpread from\"C:/Users/R-TECH/Desktop/00/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";/*\n  personel.js\n\n  Full rewrite of the Personnel page to:\n  - Match client.js look & feel (search size, spacing, summary badges)\n  - Support FR/AR translations and RTL (table and headers reversed)\n  - CRUD: get_personnel, add_personnel, update_personnel, delete_personnel via pywebview API\n  - Pointage button next to Print which opens pointage.js and passes selected personnel + locale/translations\n  - Improved logging and user-friendly error messages\n  - Handles photo (data URI or base64) and numeric/date normalization at frontend level\n*/import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TABLE_FIELDS=[\"nom\",\"prenom\",\"poste\",\"telephone\",\"adresse\",\"date_dentree\",\"date_sortie\",\"numero_assurance\",\"salaire\",\"avance\",\"photo\"];const translations={fr:{title:\"Personnel\",addButton:\"‚ûï Ajouter\",editButton:\"‚úèÔ∏è Modifier\",deleteButton:\"üóëÔ∏è Supprimer\",save:\"Enregistrer\",cancel:\"Annuler\",searchPlaceholder:\"Rechercher...\",selectRowAlert:\"Veuillez s√©lectionner un membre du personnel.\",confirmDelete:name=>\"Supprimer \".concat(name,\" ?\"),tableHeaders:[\"#\",\"Nom\",\"Pr√©nom\",\"Poste\",\"T√©l√©phone\",\"Adresse\",\"Date d'entr√©e\",\"Date de sortie\",\"N¬∞ d'assurance\",\"Salaire\",\"Avance\",\"Photo\"],modalLabels:{nom:\"Nom\",prenom:\"Pr√©nom\",poste:\"Poste\",telephone:\"T√©l√©phone\",adresse:\"Adresse\",date_dentree:\"Date d'entr√©e\",date_sortie:\"Date de sortie\",numero_assurance:\"N¬∞ d'assurance\",salaire:\"Salaire\",avance:\"Avance\",photo:\"Photo (jpg/png)\"},errorLoad:\"Erreur lors du chargement du personnel\",errorSave:\"Erreur lors de l'enregistrement\",errorDelete:\"Erreur lors de la suppression\",totalStaff:\"Total Personnel\",totalSalaire:\"Salaire Total\",totalAvance:\"Avance Totale\",pointageButton:\"üìã Pointage\",printLabel:\"üñ®Ô∏è Imprimer\",close:\"Fermer\",savePointage:\"Enregistrer le pointage\"},ar:{title:\"ÿßŸÑŸÖŸàÿ∏ŸÅŸàŸÜ\",addButton:\"‚ûï ÿ•ÿ∂ÿßŸÅÿ©\",editButton:\"‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ\",deleteButton:\"üóëÔ∏è ÿ≠ÿ∞ŸÅ\",save:\"ÿ≠ŸÅÿ∏\",cancel:\"ÿ•ŸÑÿ∫ÿßÿ°\",searchPlaceholder:\"ÿ®ÿ≠ÿ´...\",selectRowAlert:\"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàÿ∏ŸÅ.\",confirmDelete:name=>\"\\u0647\\u0644 \\u062A\\u0631\\u064A\\u062F \\u062D\\u0630\\u0641 \".concat(name,\"\\u061F\"),tableHeaders:[\"#\",\"ÿßŸÑŸÑŸÇÿ®\",\"ÿßŸÑÿßÿ≥ŸÖ\",\"ÿßŸÑŸÖŸÜÿµÿ®\",\"ÿßŸÑŸáÿßÿ™ŸÅ\",\"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\"ÿßŸÑÿ±ÿßÿ™ÿ®\",\"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\"ÿßŸÑÿµŸàÿ±ÿ©\"],modalLabels:{nom:\"ÿßŸÑŸÑŸÇÿ®\",prenom:\"ÿßŸÑÿßÿ≥ŸÖ\",poste:\"ÿßŸÑŸÖŸÜÿµÿ®\",telephone:\"ÿßŸÑŸáÿßÿ™ŸÅ\",adresse:\"ÿßŸÑÿπŸÜŸàÿßŸÜ\",date_dentree:\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",date_sortie:\"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",numero_assurance:\"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",salaire:\"ÿßŸÑÿ±ÿßÿ™ÿ®\",avance:\"ÿßŸÑÿ≥ŸÑŸÅÿ©\",photo:\"ÿßŸÑÿµŸàÿ±ÿ© (jpg/png)\"},errorLoad:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",errorSave:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏\",errorDelete:\"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ\",totalStaff:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",totalSalaire:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ±Ÿàÿßÿ™ÿ®\",totalAvance:\"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≥ŸÑŸÅ\",pointageButton:\"üìã ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿ≠ÿ∂Ÿàÿ±\",printLabel:\"üñ®Ô∏è ÿ∑ÿ®ÿßÿπÿ©\",close:\"ÿ•ÿ∫ŸÑÿßŸÇ\",savePointage:\"ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ\"}};// Helpers\nfunction photoSrc(val){if(!val)return null;if(typeof val!==\"string\")return null;if(val.startsWith(\"data:\"))return val;return\"data:image/png;base64,\".concat(val);}function formatCurrency(value){if(value===undefined||value===null||value===\"\")return\"\";const cleaned=String(value).replace(/\\s+/g,\"\").replace(/,/g,\"\");const num=parseFloat(cleaned);if(Number.isNaN(num))return String(value);return num.toLocaleString(\"fr-FR\",{minimumFractionDigits:2,maximumFractionDigits:2}).replace(/\\u202f/g,\" \");}function unformatNumber(value){if(value===undefined||value===null)return\"\";return String(value).replace(/\\s+/g,\"\").replace(/,/g,\"\").trim();}function formatDateToFR(dateString){if(!dateString)return\"\";if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){const[yyyy,mm,dd]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){const[dd,mm,yyyy]=dateString.split(\"-\");return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy);}else if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){return dateString;}return dateString;}function formatDateToISO(dateString){if(!dateString)return\"\";let dd,mm,yyyy;if(/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"/\");}else if(/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)){[dd,mm,yyyy]=dateString.split(\"-\");}else if(/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)){return dateString;}if(yyyy&&mm&&dd){return\"\".concat(yyyy,\"-\").concat(mm,\"-\").concat(dd);}return dateString;}function isArabic(str){return /^[\\u0600-\\u06FF\\s]+$/.test(str);}// Component\nfunction PersonelPage(_ref){let{locale=\"fr\"}=_ref;const T=translations[locale]||translations.fr;const[personel,setPersonel]=useState([]);const[selectedIndex,setSelectedIndex]=useState(null);const[searchQuery,setSearchQuery]=useState(\"\");const[showModal,setShowModal]=useState(false);const[modalMode,setModalMode]=useState(\"add\");// add | edit\nconst[form,setForm]=useState({id:null,nom:\"\",prenom:\"\",poste:\"\",telephone:\"\",adresse:\"\",date_dentree:\"\",date_sortie:\"\",numero_assurance:\"\",salaire:\"\",avance:\"\",photo:\"\"});const[arErrors,setArErrors]=useState({});const[isLoading,setIsLoading]=useState(false);const[isDeleting,setIsDeleting]=useState(false);const isRtl=locale===\"ar\";const displayedHeaders=isRtl?[...T.tableHeaders].reverse():T.tableHeaders;const tableFieldsOrder=isRtl?[...TABLE_FIELDS].reverse():[...TABLE_FIELDS];const directionStyle=isRtl?{direction:\"rtl\"}:{direction:\"ltr\"};// Fetch personnel\nconst fetchPersonel=async()=>{setIsLoading(true);try{console.log(\"Fetching personnel from backend...\");const res=await window.pywebview.api.get_personnel();const normalized=(res||[]).map(r=>_objectSpread(_objectSpread({},r),{},{salaire:r.salaire!==undefined&&r.salaire!==null?String(r.salaire):\"\",avance:r.avance!==undefined&&r.avance!==null?String(r.avance):\"\",date_dentree:r.date_dentree||\"\",date_sortie:r.date_sortie||\"\",numero_assurance:r.numero_assurance||r.num_assurance||\"\",photo:r.photo||\"\"}));setPersonel(normalized);console.log(\"Personnel loaded:\",normalized.length);}catch(err){console.error(\"Failed to fetch personnel:\",err);setPersonel([]);alert(T.errorLoad+(err!==null&&err!==void 0&&err.message?\": \".concat(err.message):\"\"));}finally{setIsLoading(false);}};useEffect(()=>{fetchPersonel();// eslint-disable-next-line\n},[locale]);// Filtering\nconst filtered=personel.filter(p=>{const q=searchQuery.trim().toLowerCase();if(!q)return true;return(p.nom||\"\").toLowerCase().includes(q)||(p.prenom||\"\").toLowerCase().includes(q)||(p.poste||\"\").toLowerCase().includes(q)||(p.telephone||\"\").toLowerCase().includes(q)||(p.adresse||\"\").toLowerCase().includes(q);});// Totals\nconst totalStaff=filtered.length;const totalSalaire=filtered.reduce((s,p)=>{const val=parseFloat(String(p.salaire||\"0\").replace(/\\s+/g,\"\").replace(\",\",\".\"));return s+(isNaN(val)?0:val);},0);const totalAvance=filtered.reduce((s,p)=>{const val=parseFloat(String(p.avance||\"0\").replace(/\\s+/g,\"\").replace(\",\",\".\"));return s+(isNaN(val)?0:val);},0);const emptyForm={id:null,nom:\"\",prenom:\"\",poste:\"\",telephone:\"\",adresse:\"\",date_dentree:\"\",date_sortie:\"\",numero_assurance:\"\",salaire:\"\",avance:\"\",photo:\"\"};const handleAdd=()=>{setModalMode(\"add\");setForm(_objectSpread({},emptyForm));setArErrors({});setShowModal(true);};const handleEdit=()=>{var _sel$id,_sel$nom,_sel$prenom,_sel$poste,_sel$telephone,_sel$adresse,_sel$numero_assurance,_sel$photo;if(selectedIndex===null||filtered[selectedIndex]===undefined){alert(T.selectRowAlert);return;}const sel=filtered[selectedIndex];setModalMode(\"edit\");setForm({id:(_sel$id=sel.id)!==null&&_sel$id!==void 0?_sel$id:null,nom:(_sel$nom=sel.nom)!==null&&_sel$nom!==void 0?_sel$nom:\"\",prenom:(_sel$prenom=sel.prenom)!==null&&_sel$prenom!==void 0?_sel$prenom:\"\",poste:(_sel$poste=sel.poste)!==null&&_sel$poste!==void 0?_sel$poste:\"\",telephone:(_sel$telephone=sel.telephone)!==null&&_sel$telephone!==void 0?_sel$telephone:\"\",adresse:(_sel$adresse=sel.adresse)!==null&&_sel$adresse!==void 0?_sel$adresse:\"\",date_dentree:sel.date_dentree?formatDateToFR(sel.date_dentree):\"\",date_sortie:sel.date_sortie?formatDateToFR(sel.date_sortie):\"\",numero_assurance:(_sel$numero_assurance=sel.numero_assurance)!==null&&_sel$numero_assurance!==void 0?_sel$numero_assurance:\"\",salaire:sel.salaire!==undefined&&sel.salaire!==null?String(sel.salaire):\"\",avance:sel.avance!==undefined&&sel.avance!==null?String(sel.avance):\"\",photo:(_sel$photo=sel.photo)!==null&&_sel$photo!==void 0?_sel$photo:\"\"});setShowModal(true);};const handleDelete=async()=>{if(selectedIndex===null||filtered[selectedIndex]===undefined){alert(T.selectRowAlert);return;}const sel=filtered[selectedIndex];const name=\"\".concat(sel.nom||\"\",\" \").concat(sel.prenom||\"\").trim()||sel.id||\"\";if(!window.confirm(T.confirmDelete(name)))return;try{setIsDeleting(true);console.log(\"Deleting personnel id=\",sel.id);const resp=await window.pywebview.api.delete_personnel(sel.id);console.log(\"delete_personnel response:\",resp);if(resp===0||resp===false){// backend returned 0 rows deleted\nalert(T.errorDelete);}else{setPersonel(prev=>prev.filter(p=>p.id!==sel.id));setSelectedIndex(null);}}catch(err){console.error(\"Delete error:\",err);alert(T.errorDelete+(err!==null&&err!==void 0&&err.message?\": \".concat(err.message):\"\"));}finally{setIsDeleting(false);}};const handleSave=async e=>{var _e$preventDefault;e===null||e===void 0?void 0:(_e$preventDefault=e.preventDefault)===null||_e$preventDefault===void 0?void 0:_e$preventDefault.call(e);// Arabic validation (if any *_ar fields existed). Kept for parity.\nlet newErrors={};for(const f of Object.keys(form)){if(f.endsWith(\"_ar\")&&form[f]&&!isArabic(form[f])){newErrors[f]=translations[locale].saisieArabe||\"Saisie arabe requise\";}}setArErrors(newErrors);if(Object.values(newErrors).some(Boolean))return;try{const payload=_objectSpread(_objectSpread({},form),{},{salaire:unformatNumber(form.salaire),avance:unformatNumber(form.avance),date_dentree:formatDateToISO(form.date_dentree),date_sortie:formatDateToISO(form.date_sortie)});console.log(\"personel: calling backend with payload:\",payload);let result;if(modalMode===\"add\"){result=await window.pywebview.api.add_personnel(payload);}else{result=await window.pywebview.api.update_personnel(payload);}console.log(\"personel: backend result:\",result);if(!result){console.error(\"personel: backend returned falsy value:\",result);alert(T.errorSave+(result&&result.error?\": \".concat(result.error):\" (voir console)\"));return;}// update local state using returned object if present\nif(modalMode===\"add\"){setPersonel(prev=>[...prev,_objectSpread(_objectSpread({},result),{},{salaire:result.salaire!==undefined&&result.salaire!==null?String(result.salaire):\"\",avance:result.avance!==undefined&&result.avance!==null?String(result.avance):\"\",photo:result.photo||\"\"})]);}else{setPersonel(prev=>prev.map(p=>p.id===result.id?_objectSpread(_objectSpread({},result),{},{salaire:result.salaire!==undefined&&result.salaire!==null?String(result.salaire):\"\",avance:result.avance!==undefined&&result.avance!==null?String(result.avance):\"\",photo:result.photo||\"\"}):p));}setShowModal(false);setForm(_objectSpread({},emptyForm));}catch(err){console.error(\"Save error:\",err);alert(T.errorSave+(err!==null&&err!==void 0&&err.message?\": \".concat(err.message):\"\"));}};const handlePhotoChange=file=>{if(!file){setForm(s=>_objectSpread(_objectSpread({},s),{},{photo:\"\"}));return;}const reader=new FileReader();reader.onload=()=>{setForm(s=>_objectSpread(_objectSpread({},s),{},{photo:reader.result}));};reader.readAsDataURL(file);};// Open pointage: send selected personnel if any; otherwise open pointage selector.\nconst handleOpenPointage=async()=>{// Build detail to pass\nconst detail={locale,translations,personnel:null};if(selectedIndex!==null&&filtered[selectedIndex]){detail.personnel=filtered[selectedIndex];}try{// Dispatch event so the app can catch it\nwindow.dispatchEvent(new CustomEvent(\"openPointage\",{detail}));// Also attempt to dynamically import and call openPointage if exported\ntry{const mod=await import(\"./pointage\");if(mod&&typeof mod.openPointage===\"function\"){mod.openPointage(detail);}else{console.info(\"pointage module loaded; use the openPointage event to render it.\");}}catch(impErr){// dynamic import may fail in some bundlers - event is primary\nconsole.warn(\"Could not dynamically import ./pointage (fallback to event).\",impErr);}}catch(err){console.error(\"Failed to open pointage:\",err);alert(\"Erreur lors de l'ouverture du pointage (voir console).\");}};// Render cell helper\nfunction renderTableCell(item,field){var _item$field;if(field===\"photo\"){const src=photoSrc(item[field]);return/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},styles.tableCell),{},{padding:0,textAlign:\"center\",minWidth:50,maxWidth:70,width:60,verticalAlign:\"middle\",background:\"#fff\"}),children:src?/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"photo\",style:{width:50,height:36,objectFit:\"cover\",borderRadius:6,display:\"block\",margin:\"0 auto\"}}):\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"salaire\"||field===\"avance\"){const formatted=formatCurrency(item[field]);return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:formatted||\"-\"},\"\".concat(item.id,\"-\").concat(field));}if(field===\"date_dentree\"||field===\"date_sortie\"){return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:formatDateToFR(item[field])||\"-\"},\"\".concat(item.id,\"-\").concat(field));}return/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:(_item$field=item[field])!==null&&_item$field!==void 0?_item$field:\"-\"},\"\".concat(item.id,\"-\").concat(field));}// Drawer buttons\nconst drawerLeft=/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.drawer),{},{left:20,right:\"unset\",bottom:28}),children:[/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleAdd,children:T.addButton}),/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleEdit,children:T.editButton}),/*#__PURE__*/_jsx(\"button\",{style:styles.drawerButton,onClick:handleDelete,children:T.deleteButton})]});const drawerRight=/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.drawer),{},{right:20,left:\"unset\",bottom:28}),children:[/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.drawerButton),{},{background:\"#3477eb\",color:\"#fff\"}),onClick:()=>window.print(),children:T.printLabel}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.drawerButton),{},{background:\"#fff\",border:\"1px solid #e6eefb\",color:\"#14355f\",fontWeight:700}),onClick:handleOpenPointage,children:T.pointageButton})]});return/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.container),directionStyle),children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:T.title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,marginBottom:12,alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.searchWrap),{},{maxWidth:420}),children:[/*#__PURE__*/_jsx(\"span\",{style:{marginRight:8},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:T.searchPlaceholder,value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);setSelectedIndex(null);},style:styles.searchInput})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"auto\",display:\"flex\",gap:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDC65 \",T.totalStaff,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:totalStaff})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDCB0 \",T.totalSalaire,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:formatCurrency(totalSalaire)})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.summaryBadge,children:[\"\\uD83D\\uDCB8 \",T.totalAvance,\": \",/*#__PURE__*/_jsx(\"strong\",{style:{marginLeft:6},children:formatCurrency(totalAvance)})]})]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{style:{padding:40,textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{style:styles.spinner})}):/*#__PURE__*/_jsx(\"div\",{style:styles.tableWrap,children:/*#__PURE__*/_jsxs(\"table\",{style:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{style:styles.tableHeaderRow,children:isRtl?[...displayedHeaders].reverse().map((h,i)=>/*#__PURE__*/_jsx(\"th\",{style:styles.tableHeader,children:h},i)):displayedHeaders.map((h,i)=>/*#__PURE__*/_jsx(\"th\",{style:styles.tableHeader,children:h},i))})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.length?filtered.map((p,i)=>{var _p$id;return/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>setSelectedIndex(i),style:_objectSpread(_objectSpread({},styles.tableRow),{},{background:i===selectedIndex?\"#cce5ff\":i%2===0?\"#fff\":\"#f4f8ff\",cursor:\"pointer\"}),children:[/*#__PURE__*/_jsx(\"td\",{style:styles.tableCell,children:i+1}),tableFieldsOrder.map(field=>renderTableCell(p,field))]},(_p$id=p.id)!==null&&_p$id!==void 0?_p$id:i);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:displayedHeaders.length,style:{padding:\"1rem\",textAlign:\"center\",color:\"#666\"},children:T.errorLoad})})})]})}),drawerLeft,drawerRight,showModal&&/*#__PURE__*/_jsx(\"div\",{style:styles.modalOverlay,children:/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.modal),isRtl?{direction:\"rtl\",textAlign:\"right\"}:{}),children:[/*#__PURE__*/_jsx(\"h3\",{children:modalMode===\"add\"?T.addButton:T.editButton}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSave,style:styles.form,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.nom,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.nom,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{nom:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.prenom,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.prenom,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{prenom:e.target.value})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.poste,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.poste,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{poste:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.telephone,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.telephone,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{telephone:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.adresse,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.adresse,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{adresse:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.date_dentree,/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date_dentree?formatDateToISO(form.date_dentree):\"\",onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{date_dentree:e.target.value?formatDateToFR(e.target.value):\"\"})),style:styles.input})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.date_sortie,/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:form.date_sortie?formatDateToISO(form.date_sortie):\"\",onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{date_sortie:e.target.value?formatDateToFR(e.target.value):\"\"})),style:styles.input})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.numero_assurance,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.numero_assurance,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{numero_assurance:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.row,children:[/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.salaire,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.salaire,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{salaire:e.target.value})),type:\"number\",min:0,step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.avance,/*#__PURE__*/_jsx(\"input\",{style:styles.input,value:form.avance,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{avance:e.target.value})),type:\"number\",min:0,step:\"0.01\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:12,alignItems:\"flex-start\",marginTop:6},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"label\",{style:styles.label,children:[T.modalLabels.photo,/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>handlePhotoChange(e.target.files[0]),style:{marginTop:6}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{width:110},children:form.photo?/*#__PURE__*/_jsx(\"img\",{src:photoSrc(form.photo),alt:\"preview\",style:{width:100,height:72,objectFit:\"cover\",borderRadius:6}}):null})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",gap:8,marginTop:12},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.saveButton,children:T.save}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:styles.cancelButton,onClick:()=>setShowModal(false),children:T.cancel})]})]})]})})]});}const styles={container:{padding:\"1.25rem\",position:\"relative\",minHeight:\"100vh\",boxSizing:\"border-box\"},searchWrap:{flex:1,maxWidth:420,display:\"flex\",alignItems:\"center\",gap:8},searchInput:{width:\"100%\",padding:\"0.5rem\",borderRadius:6,border:\"1px solid #ccc\",fontSize:\"1rem\"},spinner:{margin:\"60px auto\",border:\"8px solid #eee\",borderTop:\"8px solid #3477eb\",borderRadius:\"50%\",width:48,height:48,animation:\"spin 1s linear infinite\"},tableWrap:{maxHeight:\"60vh\",overflowY:\"auto\",border:\"1px solid #e0e0e0\",borderRadius:6},table:{width:\"100%\",borderCollapse:\"collapse\",tableLayout:\"fixed\"},tableHeaderRow:{background:\"#f1f6ff\"},tableHeader:{textAlign:\"left\",padding:\"0.6rem\",borderBottom:\"1px solid #e2e8f0\",background:\"#f1f6ff\",fontWeight:700},tableRow:{cursor:\"pointer\"},tableCell:{padding:\"0.45rem 0.6rem\",borderBottom:\"1px solid #f0f4fb\",verticalAlign:\"middle\",wordBreak:\"break-word\"},drawer:{position:\"fixed\",background:\"transparent\",padding:\"1rem\",borderRadius:\"8px\",boxShadow:\"0 2px 8px rgba(0,0,0,0.15)\",display:\"flex\",flexDirection:\"row\",gap:\"0.5rem\",zIndex:8,minWidth:0,width:\"auto\",alignItems:\"center\"},drawerButton:{display:\"flex\",alignItems:\"center\",gap:\"0.3rem\",padding:\"0.5rem 1rem\",fontSize:\"1rem\",color:\"#3477eb\",background:\"#eaf3ff\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\",transition:\"background 0.2s\"},summaryBadge:{padding:\"0.4rem 0.6rem\",background:\"rgba(255,255,255,0.9)\",borderRadius:8,border:\"1px solid #e6eefb\",display:\"flex\",alignItems:\"center\",gap:8,fontWeight:700,color:\"#14355f\"},modalOverlay:{position:\"fixed\",inset:0,background:\"rgba(0,0,0,0.45)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",zIndex:999},modal:{background:\"#fff\",padding:20,borderRadius:10,width:\"92%\",maxWidth:820,boxShadow:\"0 8px 30px rgba(0,0,0,0.2)\"},form:{display:\"flex\",flexDirection:\"column\",gap:12},row:{display:\"flex\",gap:12},label:{flex:1,display:\"flex\",flexDirection:\"column\",fontSize:14,color:\"#333\"},input:{marginTop:6,padding:\"0.5rem\",borderRadius:6,border:\"1px solid #ccc\",fontSize:14},saveButton:{padding:\"0.55rem 1rem\",background:\"#3477eb\",color:\"#fff\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:700},cancelButton:{padding:\"0.45rem 0.9rem\",background:\"#f1f4f8\",color:\"#333\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:700}};export default PersonelPage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","TABLE_FIELDS","translations","fr","title","addButton","editButton","deleteButton","save","cancel","searchPlaceholder","selectRowAlert","confirmDelete","name","concat","tableHeaders","modalLabels","nom","prenom","poste","telephone","adresse","date_dentree","date_sortie","numero_assurance","salaire","avance","photo","errorLoad","errorSave","errorDelete","totalStaff","totalSalaire","totalAvance","pointageButton","printLabel","close","savePointage","ar","photoSrc","val","startsWith","formatCurrency","value","undefined","cleaned","String","replace","num","parseFloat","Number","isNaN","toLocaleString","minimumFractionDigits","maximumFractionDigits","unformatNumber","trim","formatDateToFR","dateString","test","yyyy","mm","dd","split","formatDateToISO","isArabic","str","PersonelPage","_ref","locale","T","personel","setPersonel","selectedIndex","setSelectedIndex","searchQuery","setSearchQuery","showModal","setShowModal","modalMode","setModalMode","form","setForm","id","arErrors","setArErrors","isLoading","setIsLoading","isDeleting","setIsDeleting","isRtl","displayedHeaders","reverse","tableFieldsOrder","directionStyle","direction","fetchPersonel","console","log","res","window","pywebview","api","get_personnel","normalized","map","r","_objectSpread","num_assurance","length","err","error","alert","message","filtered","filter","p","q","toLowerCase","includes","reduce","s","emptyForm","handleAdd","handleEdit","_sel$id","_sel$nom","_sel$prenom","_sel$poste","_sel$telephone","_sel$adresse","_sel$numero_assurance","_sel$photo","sel","handleDelete","confirm","resp","delete_personnel","prev","handleSave","e","_e$preventDefault","preventDefault","call","newErrors","f","Object","keys","endsWith","saisieArabe","values","some","Boolean","payload","result","add_personnel","update_personnel","handlePhotoChange","file","reader","FileReader","onload","readAsDataURL","handleOpenPointage","detail","personnel","dispatchEvent","CustomEvent","mod","openPointage","info","impErr","warn","renderTableCell","item","field","_item$field","src","style","styles","tableCell","padding","textAlign","minWidth","maxWidth","width","verticalAlign","background","children","alt","height","objectFit","borderRadius","display","margin","formatted","drawerLeft","drawer","left","right","bottom","drawerButton","onClick","drawerRight","color","print","border","fontWeight","container","gap","marginBottom","alignItems","searchWrap","marginRight","placeholder","onChange","target","searchInput","marginLeft","summaryBadge","spinner","tableWrap","table","tableHeaderRow","h","i","tableHeader","_p$id","tableRow","cursor","colSpan","modalOverlay","modal","onSubmit","row","label","input","required","type","min","step","marginTop","flex","accept","files","justifyContent","saveButton","cancelButton","position","minHeight","boxSizing","fontSize","borderTop","animation","maxHeight","overflowY","borderCollapse","tableLayout","borderBottom","wordBreak","boxShadow","flexDirection","zIndex","transition","inset"],"sources":["C:/Users/R-TECH/Desktop/00/my-app/src/personel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\n/*\n  personel.js\n\n  Full rewrite of the Personnel page to:\n  - Match client.js look & feel (search size, spacing, summary badges)\n  - Support FR/AR translations and RTL (table and headers reversed)\n  - CRUD: get_personnel, add_personnel, update_personnel, delete_personnel via pywebview API\n  - Pointage button next to Print which opens pointage.js and passes selected personnel + locale/translations\n  - Improved logging and user-friendly error messages\n  - Handles photo (data URI or base64) and numeric/date normalization at frontend level\n*/\n\nconst TABLE_FIELDS = [\n  \"nom\",\n  \"prenom\",\n  \"poste\",\n  \"telephone\",\n  \"adresse\",\n  \"date_dentree\",\n  \"date_sortie\",\n  \"numero_assurance\",\n  \"salaire\",\n  \"avance\",\n  \"photo\"\n];\n\nconst translations = {\n  fr: {\n    title: \"Personnel\",\n    addButton: \"‚ûï Ajouter\",\n    editButton: \"‚úèÔ∏è Modifier\",\n    deleteButton: \"üóëÔ∏è Supprimer\",\n    save: \"Enregistrer\",\n    cancel: \"Annuler\",\n    searchPlaceholder: \"Rechercher...\",\n    selectRowAlert: \"Veuillez s√©lectionner un membre du personnel.\",\n    confirmDelete: (name) => `Supprimer ${name} ?`,\n    tableHeaders: [\n      \"#\",\n      \"Nom\",\n      \"Pr√©nom\",\n      \"Poste\",\n      \"T√©l√©phone\",\n      \"Adresse\",\n      \"Date d'entr√©e\",\n      \"Date de sortie\",\n      \"N¬∞ d'assurance\",\n      \"Salaire\",\n      \"Avance\",\n      \"Photo\"\n    ],\n    modalLabels: {\n      nom: \"Nom\",\n      prenom: \"Pr√©nom\",\n      poste: \"Poste\",\n      telephone: \"T√©l√©phone\",\n      adresse: \"Adresse\",\n      date_dentree: \"Date d'entr√©e\",\n      date_sortie: \"Date de sortie\",\n      numero_assurance: \"N¬∞ d'assurance\",\n      salaire: \"Salaire\",\n      avance: \"Avance\",\n      photo: \"Photo (jpg/png)\"\n    },\n    errorLoad: \"Erreur lors du chargement du personnel\",\n    errorSave: \"Erreur lors de l'enregistrement\",\n    errorDelete: \"Erreur lors de la suppression\",\n    totalStaff: \"Total Personnel\",\n    totalSalaire: \"Salaire Total\",\n    totalAvance: \"Avance Totale\",\n    pointageButton: \"üìã Pointage\",\n    printLabel: \"üñ®Ô∏è Imprimer\",\n    close: \"Fermer\",\n    savePointage: \"Enregistrer le pointage\"\n  },\n  ar: {\n    title: \"ÿßŸÑŸÖŸàÿ∏ŸÅŸàŸÜ\",\n    addButton: \"‚ûï ÿ•ÿ∂ÿßŸÅÿ©\",\n    editButton: \"‚úèÔ∏è ÿ™ÿπÿØŸäŸÑ\",\n    deleteButton: \"üóëÔ∏è ÿ≠ÿ∞ŸÅ\",\n    save: \"ÿ≠ŸÅÿ∏\",\n    cancel: \"ÿ•ŸÑÿ∫ÿßÿ°\",\n    searchPlaceholder: \"ÿ®ÿ≠ÿ´...\",\n    selectRowAlert: \"ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ™ÿ≠ÿØŸäÿØ ŸÖŸàÿ∏ŸÅ.\",\n    confirmDelete: (name) => `ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ≠ÿ∞ŸÅ ${name}ÿü`,\n    tableHeaders: [\n      \"#\",\n      \"ÿßŸÑŸÑŸÇÿ®\",\n      \"ÿßŸÑÿßÿ≥ŸÖ\",\n      \"ÿßŸÑŸÖŸÜÿµÿ®\",\n      \"ÿßŸÑŸáÿßÿ™ŸÅ\",\n      \"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\n      \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\n      \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\n      \"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\n      \"ÿßŸÑÿ±ÿßÿ™ÿ®\",\n      \"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\n      \"ÿßŸÑÿµŸàÿ±ÿ©\"\n    ],\n    modalLabels: {\n      nom: \"ÿßŸÑŸÑŸÇÿ®\",\n      prenom: \"ÿßŸÑÿßÿ≥ŸÖ\",\n      poste: \"ÿßŸÑŸÖŸÜÿµÿ®\",\n      telephone: \"ÿßŸÑŸáÿßÿ™ŸÅ\",\n      adresse: \"ÿßŸÑÿπŸÜŸàÿßŸÜ\",\n      date_dentree: \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿØÿÆŸàŸÑ\",\n      date_sortie: \"ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿÆÿ±Ÿàÿ¨\",\n      numero_assurance: \"ÿ±ŸÇŸÖ ÿßŸÑÿ™ÿ£ŸÖŸäŸÜ\",\n      salaire: \"ÿßŸÑÿ±ÿßÿ™ÿ®\",\n      avance: \"ÿßŸÑÿ≥ŸÑŸÅÿ©\",\n      photo: \"ÿßŸÑÿµŸàÿ±ÿ© (jpg/png)\"\n    },\n    errorLoad: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",\n    errorSave: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏\",\n    errorDelete: \"ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ\",\n    totalStaff: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ\",\n    totalSalaire: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ±Ÿàÿßÿ™ÿ®\",\n    totalAvance: \"ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ≥ŸÑŸÅ\",\n    pointageButton: \"üìã ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿ≠ÿ∂Ÿàÿ±\",\n    printLabel: \"üñ®Ô∏è ÿ∑ÿ®ÿßÿπÿ©\",\n    close: \"ÿ•ÿ∫ŸÑÿßŸÇ\",\n    savePointage: \"ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ\"\n  }\n};\n\n// Helpers\nfunction photoSrc(val) {\n  if (!val) return null;\n  if (typeof val !== \"string\") return null;\n  if (val.startsWith(\"data:\")) return val;\n  return `data:image/png;base64,${val}`;\n}\n\nfunction formatCurrency(value) {\n  if (value === undefined || value === null || value === \"\") return \"\";\n  const cleaned = String(value).replace(/\\s+/g, \"\").replace(/,/g, \"\");\n  const num = parseFloat(cleaned);\n  if (Number.isNaN(num)) return String(value);\n  return num.toLocaleString(\"fr-FR\", { minimumFractionDigits: 2, maximumFractionDigits: 2 }).replace(/\\u202f/g, \" \");\n}\n\nfunction unformatNumber(value) {\n  if (value === undefined || value === null) return \"\";\n  return String(value).replace(/\\s+/g, \"\").replace(/,/g, \"\").trim();\n}\n\nfunction formatDateToFR(dateString) {\n  if (!dateString) return \"\";\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    const [yyyy, mm, dd] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    const [dd, mm, yyyy] = dateString.split(\"-\");\n    return `${dd}/${mm}/${yyyy}`;\n  } else if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    return dateString;\n  }\n  return dateString;\n}\n\nfunction formatDateToISO(dateString) {\n  if (!dateString) return \"\";\n  let dd, mm, yyyy;\n  if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"/\");\n  } else if (/^\\d{2}-\\d{2}-\\d{4}$/.test(dateString)) {\n    [dd, mm, yyyy] = dateString.split(\"-\");\n  } else if (/^\\d{4}-\\d{2}-\\d{2}$/.test(dateString)) {\n    return dateString;\n  }\n  if (yyyy && mm && dd) {\n    return `${yyyy}-${mm}-${dd}`;\n  }\n  return dateString;\n}\n\nfunction isArabic(str) {\n  return /^[\\u0600-\\u06FF\\s]+$/.test(str);\n}\n\n// Component\nfunction PersonelPage({ locale = \"fr\" }) {\n  const T = translations[locale] || translations.fr;\n\n  const [personel, setPersonel] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [modalMode, setModalMode] = useState(\"add\"); // add | edit\n  const [form, setForm] = useState({\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    poste: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    date_dentree: \"\",\n    date_sortie: \"\",\n    numero_assurance: \"\",\n    salaire: \"\",\n    avance: \"\",\n    photo: \"\"\n  });\n  const [arErrors, setArErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const isRtl = locale === \"ar\";\n  const displayedHeaders = isRtl ? [...T.tableHeaders].reverse() : T.tableHeaders;\n  const tableFieldsOrder = isRtl ? [...TABLE_FIELDS].reverse() : [...TABLE_FIELDS];\n  const directionStyle = isRtl ? { direction: \"rtl\" } : { direction: \"ltr\" };\n\n  // Fetch personnel\n  const fetchPersonel = async () => {\n    setIsLoading(true);\n    try {\n      console.log(\"Fetching personnel from backend...\");\n      const res = await window.pywebview.api.get_personnel();\n      const normalized = (res || []).map(r => ({\n        ...r,\n        salaire: r.salaire !== undefined && r.salaire !== null ? String(r.salaire) : \"\",\n        avance: r.avance !== undefined && r.avance !== null ? String(r.avance) : \"\",\n        date_dentree: r.date_dentree || \"\",\n        date_sortie: r.date_sortie || \"\",\n        numero_assurance: r.numero_assurance || r.num_assurance || \"\",\n        photo: r.photo || \"\"\n      }));\n      setPersonel(normalized);\n      console.log(\"Personnel loaded:\", normalized.length);\n    } catch (err) {\n      console.error(\"Failed to fetch personnel:\", err);\n      setPersonel([]);\n      alert(T.errorLoad + (err?.message ? `: ${err.message}` : \"\"));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPersonel();\n    // eslint-disable-next-line\n  }, [locale]);\n\n  // Filtering\n  const filtered = personel.filter((p) => {\n    const q = searchQuery.trim().toLowerCase();\n    if (!q) return true;\n    return (\n      (p.nom || \"\").toLowerCase().includes(q) ||\n      (p.prenom || \"\").toLowerCase().includes(q) ||\n      (p.poste || \"\").toLowerCase().includes(q) ||\n      (p.telephone || \"\").toLowerCase().includes(q) ||\n      (p.adresse || \"\").toLowerCase().includes(q)\n    );\n  });\n\n  // Totals\n  const totalStaff = filtered.length;\n  const totalSalaire = filtered.reduce((s, p) => {\n    const val = parseFloat(String(p.salaire || \"0\").replace(/\\s+/g, \"\").replace(\",\", \".\"));\n    return s + (isNaN(val) ? 0 : val);\n  }, 0);\n  const totalAvance = filtered.reduce((s, p) => {\n    const val = parseFloat(String(p.avance || \"0\").replace(/\\s+/g, \"\").replace(\",\", \".\"));\n    return s + (isNaN(val) ? 0 : val);\n  }, 0);\n\n  const emptyForm = {\n    id: null,\n    nom: \"\",\n    prenom: \"\",\n    poste: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    date_dentree: \"\",\n    date_sortie: \"\",\n    numero_assurance: \"\",\n    salaire: \"\",\n    avance: \"\",\n    photo: \"\"\n  };\n\n  const handleAdd = () => {\n    setModalMode(\"add\");\n    setForm({ ...emptyForm });\n    setArErrors({});\n    setShowModal(true);\n  };\n\n  const handleEdit = () => {\n    if (selectedIndex === null || filtered[selectedIndex] === undefined) {\n      alert(T.selectRowAlert);\n      return;\n    }\n    const sel = filtered[selectedIndex];\n    setModalMode(\"edit\");\n    setForm({\n      id: sel.id ?? null,\n      nom: sel.nom ?? \"\",\n      prenom: sel.prenom ?? \"\",\n      poste: sel.poste ?? \"\",\n      telephone: sel.telephone ?? \"\",\n      adresse: sel.adresse ?? \"\",\n      date_dentree: sel.date_dentree ? formatDateToFR(sel.date_dentree) : \"\",\n      date_sortie: sel.date_sortie ? formatDateToFR(sel.date_sortie) : \"\",\n      numero_assurance: sel.numero_assurance ?? \"\",\n      salaire: sel.salaire !== undefined && sel.salaire !== null ? String(sel.salaire) : \"\",\n      avance: sel.avance !== undefined && sel.avance !== null ? String(sel.avance) : \"\",\n      photo: sel.photo ?? \"\"\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = async () => {\n    if (selectedIndex === null || filtered[selectedIndex] === undefined) {\n      alert(T.selectRowAlert);\n      return;\n    }\n    const sel = filtered[selectedIndex];\n    const name = `${sel.nom || \"\"} ${sel.prenom || \"\"}`.trim() || sel.id || \"\";\n    if (!window.confirm(T.confirmDelete(name))) return;\n    try {\n      setIsDeleting(true);\n      console.log(\"Deleting personnel id=\", sel.id);\n      const resp = await window.pywebview.api.delete_personnel(sel.id);\n      console.log(\"delete_personnel response:\", resp);\n      if (resp === 0 || resp === false) {\n        // backend returned 0 rows deleted\n        alert(T.errorDelete);\n      } else {\n        setPersonel(prev => prev.filter(p => p.id !== sel.id));\n        setSelectedIndex(null);\n      }\n    } catch (err) {\n      console.error(\"Delete error:\", err);\n      alert(T.errorDelete + (err?.message ? `: ${err.message}` : \"\"));\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleSave = async (e) => {\n    e?.preventDefault?.();\n    // Arabic validation (if any *_ar fields existed). Kept for parity.\n    let newErrors = {};\n    for (const f of Object.keys(form)) {\n      if (f.endsWith(\"_ar\") && form[f] && !isArabic(form[f])) {\n        newErrors[f] = translations[locale].saisieArabe || \"Saisie arabe requise\";\n      }\n    }\n    setArErrors(newErrors);\n    if (Object.values(newErrors).some(Boolean)) return;\n\n    try {\n      const payload = {\n        ...form,\n        salaire: unformatNumber(form.salaire),\n        avance: unformatNumber(form.avance),\n        date_dentree: formatDateToISO(form.date_dentree),\n        date_sortie: formatDateToISO(form.date_sortie)\n      };\n      console.log(\"personel: calling backend with payload:\", payload);\n\n      let result;\n      if (modalMode === \"add\") {\n        result = await window.pywebview.api.add_personnel(payload);\n      } else {\n        result = await window.pywebview.api.update_personnel(payload);\n      }\n\n      console.log(\"personel: backend result:\", result);\n\n      if (!result) {\n        console.error(\"personel: backend returned falsy value:\", result);\n        alert(T.errorSave + (result && result.error ? `: ${result.error}` : \" (voir console)\"));\n        return;\n      }\n\n      // update local state using returned object if present\n      if (modalMode === \"add\") {\n        setPersonel(prev => [...prev, {\n          ...result,\n          salaire: result.salaire !== undefined && result.salaire !== null ? String(result.salaire) : \"\",\n          avance: result.avance !== undefined && result.avance !== null ? String(result.avance) : \"\",\n          photo: result.photo || \"\"\n        }]);\n      } else {\n        setPersonel(prev => prev.map(p => p.id === result.id ? {\n          ...result,\n          salaire: result.salaire !== undefined && result.salaire !== null ? String(result.salaire) : \"\",\n          avance: result.avance !== undefined && result.avance !== null ? String(result.avance) : \"\",\n          photo: result.photo || \"\"\n        } : p));\n      }\n\n      setShowModal(false);\n      setForm({ ...emptyForm });\n    } catch (err) {\n      console.error(\"Save error:\", err);\n      alert(T.errorSave + (err?.message ? `: ${err.message}` : \"\"));\n    }\n  };\n\n  const handlePhotoChange = (file) => {\n    if (!file) {\n      setForm((s) => ({ ...s, photo: \"\" }));\n      return;\n    }\n    const reader = new FileReader();\n    reader.onload = () => {\n      setForm((s) => ({ ...s, photo: reader.result }));\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // Open pointage: send selected personnel if any; otherwise open pointage selector.\n  const handleOpenPointage = async () => {\n    // Build detail to pass\n    const detail = {\n      locale,\n      translations,\n      personnel: null\n    };\n    if (selectedIndex !== null && filtered[selectedIndex]) {\n      detail.personnel = filtered[selectedIndex];\n    }\n    try {\n      // Dispatch event so the app can catch it\n      window.dispatchEvent(new CustomEvent(\"openPointage\", { detail }));\n      // Also attempt to dynamically import and call openPointage if exported\n      try {\n        const mod = await import(\"./pointage\");\n        if (mod && typeof mod.openPointage === \"function\") {\n          mod.openPointage(detail);\n        } else {\n          console.info(\"pointage module loaded; use the openPointage event to render it.\");\n        }\n      } catch (impErr) {\n        // dynamic import may fail in some bundlers - event is primary\n        console.warn(\"Could not dynamically import ./pointage (fallback to event).\", impErr);\n      }\n    } catch (err) {\n      console.error(\"Failed to open pointage:\", err);\n      alert(\"Erreur lors de l'ouverture du pointage (voir console).\");\n    }\n  };\n\n  // Render cell helper\n  function renderTableCell(item, field) {\n    if (field === \"photo\") {\n      const src = photoSrc(item[field]);\n      return (\n        <td\n          key={`${item.id}-${field}`}\n          style={{\n            ...styles.tableCell,\n            padding: 0,\n            textAlign: \"center\",\n            minWidth: 50,\n            maxWidth: 70,\n            width: 60,\n            verticalAlign: \"middle\",\n            background: \"#fff\"\n          }}\n        >\n          {src ? (\n            <img\n              src={src}\n              alt=\"photo\"\n              style={{\n                width: 50,\n                height: 36,\n                objectFit: \"cover\",\n                borderRadius: 6,\n                display: \"block\",\n                margin: \"0 auto\"\n              }}\n            />\n          ) : (\n            \"-\"\n          )}\n        </td>\n      );\n    }\n\n    if (field === \"salaire\" || field === \"avance\") {\n      const formatted = formatCurrency(item[field]);\n      return (\n        <td key={`${item.id}-${field}`} style={styles.tableCell}>\n          {formatted || \"-\"}\n        </td>\n      );\n    }\n\n    if (field === \"date_dentree\" || field === \"date_sortie\") {\n      return (\n        <td key={`${item.id}-${field}`} style={styles.tableCell}>\n          {formatDateToFR(item[field]) || \"-\"}\n        </td>\n      );\n    }\n\n    return (\n      <td key={`${item.id}-${field}`} style={styles.tableCell}>\n        {item[field] ?? \"-\"}\n      </td>\n    );\n  }\n\n  // Drawer buttons\n  const drawerLeft = (\n    <div style={{ ...styles.drawer, left: 20, right: \"unset\", bottom: 28 }}>\n      <button style={styles.drawerButton} onClick={handleAdd}>{T.addButton}</button>\n      <button style={styles.drawerButton} onClick={handleEdit}>{T.editButton}</button>\n      <button style={styles.drawerButton} onClick={handleDelete}>{T.deleteButton}</button>\n    </div>\n  );\n\n  const drawerRight = (\n    <div style={{ ...styles.drawer, right: 20, left: \"unset\", bottom: 28 }}>\n      <button style={{ ...styles.drawerButton, background: \"#3477eb\", color: \"#fff\" }} onClick={() => window.print()}>\n        {T.printLabel}\n      </button>\n      <button\n        style={{ ...styles.drawerButton, background: \"#fff\", border: \"1px solid #e6eefb\", color: \"#14355f\", fontWeight: 700 }}\n        onClick={handleOpenPointage}\n      >\n        {T.pointageButton}\n      </button>\n    </div>\n  );\n\n  return (\n    <div style={{ ...styles.container, ...directionStyle }}>\n      <h2 style={{ textAlign: \"center\" }}>{T.title}</h2>\n\n      <div style={{ display: \"flex\", gap: 12, marginBottom: 12, alignItems: \"center\" }}>\n        <div style={{ ...styles.searchWrap, maxWidth: 420 }}>\n          <span style={{ marginRight: 8 }}>üîç</span>\n          <input\n            placeholder={T.searchPlaceholder}\n            value={searchQuery}\n            onChange={(e) => { setSearchQuery(e.target.value); setSelectedIndex(null); }}\n            style={styles.searchInput}\n          />\n        </div>\n\n        <div style={{ marginLeft: \"auto\", display: \"flex\", gap: 8 }}>\n          <div style={styles.summaryBadge}>\n            üë• {T.totalStaff}: <strong style={{ marginLeft: 6 }}>{totalStaff}</strong>\n          </div>\n          <div style={styles.summaryBadge}>\n            üí∞ {T.totalSalaire}: <strong style={{ marginLeft: 6 }}>{formatCurrency(totalSalaire)}</strong>\n          </div>\n          <div style={styles.summaryBadge}>\n            üí∏ {T.totalAvance}: <strong style={{ marginLeft: 6 }}>{formatCurrency(totalAvance)}</strong>\n          </div>\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div style={{ padding: 40, textAlign: \"center\" }}>\n          <div style={styles.spinner}></div>\n        </div>\n      ) : (\n        <div style={styles.tableWrap}>\n          <table style={styles.table}>\n            <thead>\n              <tr style={styles.tableHeaderRow}>\n                {isRtl\n                  ? [...displayedHeaders].reverse().map((h, i) => (\n                      <th key={i} style={styles.tableHeader}>{h}</th>\n                    ))\n                  : displayedHeaders.map((h, i) => (\n                      <th key={i} style={styles.tableHeader}>{h}</th>\n                    ))\n                }\n              </tr>\n            </thead>\n            <tbody>\n              {filtered.length ? (\n                filtered.map((p, i) => (\n                  <tr\n                    key={p.id ?? i}\n                    onClick={() => setSelectedIndex(i)}\n                    style={{\n                      ...styles.tableRow,\n                      background: i === selectedIndex ? \"#cce5ff\" : i % 2 === 0 ? \"#fff\" : \"#f4f8ff\",\n                      cursor: \"pointer\"\n                    }}\n                  >\n                    <td style={styles.tableCell}>{i + 1}</td>\n                    {tableFieldsOrder.map((field) => renderTableCell(p, field))}\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan={displayedHeaders.length} style={{ padding: \"1rem\", textAlign: \"center\", color: \"#666\" }}>\n                    {T.errorLoad}\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {drawerLeft}\n      {drawerRight}\n\n      {/* Modal */}\n      {showModal && (\n        <div style={styles.modalOverlay}>\n          <div style={{ ...styles.modal, ...(isRtl ? { direction: \"rtl\", textAlign: \"right\" } : {}) }}>\n            <h3>{modalMode === \"add\" ? T.addButton : T.editButton}</h3>\n            <form onSubmit={handleSave} style={styles.form}>\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.nom}\n                  <input style={styles.input} value={form.nom} onChange={(e) => setForm({ ...form, nom: e.target.value })} required />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.prenom}\n                  <input style={styles.input} value={form.prenom} onChange={(e) => setForm({ ...form, prenom: e.target.value })} required />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.poste}\n                  <input style={styles.input} value={form.poste} onChange={(e) => setForm({ ...form, poste: e.target.value })} />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.telephone}\n                  <input style={styles.input} value={form.telephone} onChange={(e) => setForm({ ...form, telephone: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.adresse}\n                  <input style={styles.input} value={form.adresse} onChange={(e) => setForm({ ...form, adresse: e.target.value })} />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.date_dentree}\n                  <input\n                    type=\"date\"\n                    value={form.date_dentree ? formatDateToISO(form.date_dentree) : \"\"}\n                    onChange={(e) => setForm(prev => ({ ...prev, date_dentree: e.target.value ? formatDateToFR(e.target.value) : \"\" }))}\n                    style={styles.input}\n                  />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.date_sortie}\n                  <input\n                    type=\"date\"\n                    value={form.date_sortie ? formatDateToISO(form.date_sortie) : \"\"}\n                    onChange={(e) => setForm(prev => ({ ...prev, date_sortie: e.target.value ? formatDateToFR(e.target.value) : \"\" }))}\n                    style={styles.input}\n                  />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.numero_assurance}\n                  <input style={styles.input} value={form.numero_assurance} onChange={(e) => setForm({ ...form, numero_assurance: e.target.value })} />\n                </label>\n              </div>\n\n              <div style={styles.row}>\n                <label style={styles.label}>\n                  {T.modalLabels.salaire}\n                  <input\n                    style={styles.input}\n                    value={form.salaire}\n                    onChange={(e) => setForm({ ...form, salaire: e.target.value })}\n                    type=\"number\"\n                    min={0}\n                    step=\"0.01\"\n                  />\n                </label>\n                <label style={styles.label}>\n                  {T.modalLabels.avance}\n                  <input\n                    style={styles.input}\n                    value={form.avance}\n                    onChange={(e) => setForm({ ...form, avance: e.target.value })}\n                    type=\"number\"\n                    min={0}\n                    step=\"0.01\"\n                  />\n                </label>\n              </div>\n\n              <div style={{ display: \"flex\", gap: 12, alignItems: \"flex-start\", marginTop: 6 }}>\n                <div style={{ flex: 1 }}>\n                  <label style={styles.label}>\n                    {T.modalLabels.photo}\n                    <input type=\"file\" accept=\"image/*\" onChange={(e) => handlePhotoChange(e.target.files[0])} style={{ marginTop: 6 }} />\n                  </label>\n                </div>\n                <div style={{ width: 110 }}>\n                  {form.photo ? (\n                    <img src={photoSrc(form.photo)} alt=\"preview\" style={{ width: 100, height: 72, objectFit: \"cover\", borderRadius: 6 }} />\n                  ) : null}\n                </div>\n              </div>\n\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\", gap: 8, marginTop: 12 }}>\n                <button type=\"submit\" style={styles.saveButton}>{T.save}</button>\n                <button type=\"button\" style={styles.cancelButton} onClick={() => setShowModal(false)}>{T.cancel}</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    padding: \"1.25rem\",\n    position: \"relative\",\n    minHeight: \"100vh\",\n    boxSizing: \"border-box\"\n  },\n  searchWrap: {\n    flex: 1,\n    maxWidth: 420,\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 8\n  },\n  searchInput: {\n    width: \"100%\",\n    padding: \"0.5rem\",\n    borderRadius: 6,\n    border: \"1px solid #ccc\",\n    fontSize: \"1rem\"\n  },\n  spinner: {\n    margin: \"60px auto\",\n    border: \"8px solid #eee\",\n    borderTop: \"8px solid #3477eb\",\n    borderRadius: \"50%\",\n    width: 48,\n    height: 48,\n    animation: \"spin 1s linear infinite\"\n  },\n  tableWrap: {\n    maxHeight: \"60vh\",\n    overflowY: \"auto\",\n    border: \"1px solid #e0e0e0\",\n    borderRadius: 6\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"collapse\",\n    tableLayout: \"fixed\"\n  },\n  tableHeaderRow: {\n    background: \"#f1f6ff\"\n  },\n  tableHeader: {\n    textAlign: \"left\",\n    padding: \"0.6rem\",\n    borderBottom: \"1px solid #e2e8f0\",\n    background: \"#f1f6ff\",\n    fontWeight: 700\n  },\n  tableRow: {\n    cursor: \"pointer\"\n  },\n  tableCell: {\n    padding: \"0.45rem 0.6rem\",\n    borderBottom: \"1px solid #f0f4fb\",\n    verticalAlign: \"middle\",\n    wordBreak: \"break-word\"\n  },\n  drawer: {\n    position: \"fixed\",\n    background: \"transparent\",\n    padding: \"1rem\",\n    borderRadius: \"8px\",\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    gap: \"0.5rem\",\n    zIndex: 8,\n    minWidth: 0,\n    width: \"auto\",\n    alignItems: \"center\"\n  },\n  drawerButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"0.3rem\",\n    padding: \"0.5rem 1rem\",\n    fontSize: \"1rem\",\n    color: \"#3477eb\",\n    background: \"#eaf3ff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    cursor: \"pointer\",\n    transition: \"background 0.2s\"\n  },\n  summaryBadge: {\n    padding: \"0.4rem 0.6rem\",\n    background: \"rgba(255,255,255,0.9)\",\n    borderRadius: 8,\n    border: \"1px solid #e6eefb\",\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 8,\n    fontWeight: 700,\n    color: \"#14355f\"\n  },\n  modalOverlay: {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(0,0,0,0.45)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    zIndex: 999\n  },\n  modal: {\n    background: \"#fff\",\n    padding: 20,\n    borderRadius: 10,\n    width: \"92%\",\n    maxWidth: 820,\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.2)\"\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 12\n  },\n  row: {\n    display: \"flex\",\n    gap: 12\n  },\n  label: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontSize: 14,\n    color: \"#333\"\n  },\n  input: {\n    marginTop: 6,\n    padding: \"0.5rem\",\n    borderRadius: 6,\n    border: \"1px solid #ccc\",\n    fontSize: 14\n  },\n  saveButton: {\n    padding: \"0.55rem 1rem\",\n    background: \"#3477eb\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: 6,\n    cursor: \"pointer\",\n    fontWeight: 700\n  },\n  cancelButton: {\n    padding: \"0.45rem 0.9rem\",\n    background: \"#f1f4f8\",\n    color: \"#333\",\n    border: \"none\",\n    borderRadius: 6,\n    cursor: \"pointer\",\n    fontWeight: 700\n  }\n};\n\nexport default PersonelPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}